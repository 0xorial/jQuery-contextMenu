{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 49d283bdcb985c1c1a00","webpack:///./src/js/modules/event-handler.js","webpack:///./src/js/helpers/index.js","webpack:///./src/js/defaults/index.js","webpack:///./src/js/modules/operations.js","webpack:///./src/js/contextmenu.js","webpack:///./src/js/modules/manager.js","webpack:///./src/js/defaults/position.js","webpack:///./src/js/modules/html5builder.js","webpack:///./src/js/modules/element.js"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","handle","$currentTrigger","hoveract","abortevent","e","preventDefault","stopImmediatePropagation","contextmenu","console","log","$this","$","data","trigger","originalEvent","mouseButton","hasClass","build","built","extend","_defaults2","default","items","isEmptyObject","window","error","Error","$trigger","_operations2","create","showMenu","item","isFunction","visible","currentTarget","show","pageX","pageY","click","Event","mousedown","length","is","$menu","button","mouseup","removeData","mouseenter","$related","relatedTarget","$document","document","closest","on","mousemove","timer","setTimeout","off","delay","mouseleave","clearTimeout","layerClick","x","y","target","offset","$window","triggerAction","elementFromPoint","$layer","hide","scrollLeft","scrollTop","isContentEditable","range","createRange","sel","getSelection","selectNode","collapse","removeAllRanges","addRange","hideOnSecondTrigger","reposition","position","top","left","bottom","outerHeight","right","outerWidth","one","contextMenu","keyStop","opt","isInput","stopPropagation","key","zIndex","targetZIndex","getZIndexOfTriggerTarget","style","offsetParent","parentElement","parseInt","css","keyCode","shiftKey","$selected","find","blur","prop","parent","$parent","itemdata","children","classNames","disabled","notSelectable","k","String","fromCharCode","toUpperCase","accesskeys","$node","prevItem","$s","$children","$prev","prev","last","$round","itemMouseleave","itemMouseenter","$input","focus","nextItem","$next","next","first","focusInput","contextMenuRoot","blurInput","menuMouseenter","hovering","menuMouseleave","hover","itemClick","contextMenuKey","callback","selectableSubMenu","callbacks","update","inputClick","hideMenu","force","focusItem","addClass","join","not","removeClass","filter","positionSubmenu","blurItem","autoHide","inputLabel","node","id","val","setInputValues","each","inputs","type","value","selected","radio","getInputValues","zindex","$t","zin","$tt","Math","max","indexOf","toLowerCase","splitAccesskey","t","split","keys","charAt","push","_position","selector","appendTo","icon","iconEdit","iconCut","iconCopy","iconPaste","iconDelete","iconAdd","iconQuit","iconLoadingClass","animation","duration","events","noop","activated","types","determinePosition","_helpers","op","additionalZValue","layer","_eventHandler2","pos","remove","forEach","undefined","createNameNode","$name","_accesskey","_beforeAccesskey","append","createTextNode","text","_afterAccesskey","isHtmlName","accesskey","html","className","$label","ak","aks","matched","match","RegExp","commands","hasTypes","attr","height","prependTo","options","then","processPromises","_icon","substring","support","eventSelectstart","body","resize","nested","domMenu","display","getBoundingClientRect","ceil","width","minWidth","maxWidth","addBack","$item","z-index","opacity","background-color","insertBefore","promise","finishPromiseProcess","errorPromise","errorItem","bind","$menuOffset","winHeight","winScrollTop","menuHeight","overflow-x","overflow-y","menus","namespaces","manager","_manager2","operation","execute","fromMenu","_html5builder2","defaults","fn","_element2","Manager","handler","operations","_classCallCheck","initialized","counter","_this","$context","_hasContext","context","menu","ns","itemClickEvent","contextMenuItemObj","contextmenu:focus.contextMenu","contextmenu:blur.contextMenu","contextmenu.contextMenu","mouseenter.contextMenu","mouseleave.contextMenu","contextmenu:hide.contextMenu","prevcommand.contextMenu","nextcommand.contextMenu","$visibleMenu","htmlCommand","htmlMenuitem","ui","my","at","of","collision","offsetParentOffset","html5builder","nodeName","label","clone","element","$o","isPlainObject"],"mappings":"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","file":"jquery.contextMenu.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jquery.contextMenu\"] = factory();\n\telse\n\t\troot[\"jquery.contextMenu\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 49d283bdcb985c1c1a00","import op from './operations';\nimport defaults from '../defaults';\n\n/**\n * Handle functions for different events in the context menu.\n *\n * @type {{$currentTrigger: null|jQuery, hoveract: {}, abortevent: handle.abortevent, contextmenu: handle.contextmenu, click: handle.click, mousedown: handle.mousedown, mouseup: handle.mouseup, mouseenter: handle.mouseenter, mousemove: handle.mousemove, mouseleave: handle.mouseleave, layerClick: handle.layerClick, keyStop: handle.keyStop, key: handle.key, prevItem: handle.prevItem, nextItem: handle.nextItem, focusInput: handle.focusInput, blurInput: handle.blurInput, menuMouseenter: handle.menuMouseenter, menuMouseleave: handle.menuMouseleave, itemMouseenter: handle.itemMouseenter, itemMouseleave: handle.itemMouseleave, itemClick: handle.itemClick, inputClick: handle.inputClick, hideMenu: handle.hideMenu, focusItem: handle.focusItem, blurItem: handle.blurItem}}\n */\nlet handle = {\n    $currentTrigger: null,\n    hoveract: {},\n\n    // abort anything\n    abortevent: function (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    },\n    // contextmenu show dispatcher\n    contextmenu: function (e) {\n        console.log(e);\n        const $this = $(this);\n\n        // disable actual context-menu if we are using the right mouse button as the trigger\n        if (e.data.trigger === 'right') {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n\n        // abort native-triggered events unless we're triggering on right click\n        if ((e.data.trigger !== 'right' && e.data.trigger !== 'demand') && e.originalEvent) {\n            return;\n        }\n\n        // Let the current contextmenu decide if it should show or not based on its own trigger settings\n        if (typeof e.mouseButton !== 'undefined' && e.data) {\n            if (!(e.data.trigger === 'left' && e.mouseButton === 0) && !(e.data.trigger === 'right' && e.mouseButton === 2)) {\n                // Mouse click is not valid.\n                return;\n            }\n        }\n\n        // abort event if menu is visible for this trigger\n        if ($this.hasClass('context-menu-active')) {\n            return;\n        }\n\n        if (!$this.hasClass('context-menu-disabled')) {\n            // theoretically need to fire a show event at <menu>\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#context-menus\n            // var evt = jQuery.Event(\"show\", { data: data, pageX: e.pageX, pageY: e.pageY, relatedTarget: this });\n            // e.data.$menu.trigger(evt);\n\n            handle.$currentTrigger = $this;\n            if (e.data.build) {\n                const built = e.data.build(e, handle.$currentTrigger);\n                // abort if build() returned false\n                if (built === false) {\n                    return;\n                }\n\n                // dynamically build menu on invocation\n                e.data = $.extend(true, {}, defaults, e.data, built || {});\n\n                // abort if there are no items to display\n                if (!e.data.items || $.isEmptyObject(e.data.items)) {\n                    // Note: jQuery captures and ignores errors from event handlers\n                    if (window.console) {\n                        (console.error || console.log).call(console, 'No items specified to show in contextMenu');\n                    }\n\n                    throw new Error('No Items specified');\n                }\n\n                // backreference for custom command type creation\n                e.data.$trigger = handle.$currentTrigger;\n\n                op.create(e, e.data);\n            }\n            let showMenu = false;\n            for (let item in e.data.items) {\n                if (e.data.items.hasOwnProperty(item)) {\n                    let visible;\n                    if ($.isFunction(e.data.items[item].visible)) {\n                        visible = e.data.items[item].visible.call(e, $(e.currentTarget), item, e.data);\n                    } else if (typeof e.data.items[item] !== 'undefined' && e.data.items[item].visible) {\n                        visible = e.data.items[item].visible === true;\n                    } else {\n                        visible = true;\n                    }\n                    if (visible) {\n                        showMenu = true;\n                    }\n                }\n            }\n            if (showMenu) {\n                // show menu\n                op.show.call($this, e, e.data, e.pageX, e.pageY);\n            }\n        }\n    },\n    // contextMenu left-click trigger\n    click: function (e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        $(this).trigger($.Event('contextmenu', {data: e.data, pageX: e.pageX, pageY: e.pageY, originalEvent: e}));\n    },\n    // contextMenu right-click trigger\n    mousedown: function (e) {\n        // register mouse down\n        const $this = $(this);\n\n        // hide any previous menus\n        if (handle.$currentTrigger && handle.$currentTrigger.length && !handle.$currentTrigger.is($this)) {\n            handle.$currentTrigger.data('contextMenu').$menu.trigger($.Event('contextmenu', {originalEvent: e}));\n        }\n\n        // activate on right click\n        if (e.button === 2) {\n            handle.$currentTrigger = $this.data('contextMenuActive', true);\n        }\n    },\n    // contextMenu right-click trigger\n    mouseup: function (e) {\n        // show menu\n        const $this = $(this);\n        if ($this.data('contextMenuActive') && handle.$currentTrigger && handle.$currentTrigger.length && handle.$currentTrigger.is($this) && !$this.hasClass('context-menu-disabled')) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            handle.$currentTrigger = $this;\n            $this.trigger($.Event('contextmenu', {data: e.data, pageX: e.pageX, pageY: e.pageY, originalEvent: e}));\n        }\n\n        $this.removeData('contextMenuActive');\n    },\n    // contextMenu hover trigger\n    mouseenter: function (e) {\n        const $this = $(this);\n        const $related = $(e.relatedTarget);\n        const $document = $(document);\n\n        // abort if we're coming from a menu\n        if ($related.is('.context-menu-list') || $related.closest('.context-menu-list').length) {\n            return;\n        }\n\n        // abort if a menu is shown\n        if (handle.$currentTrigger && handle.$currentTrigger.length) {\n            return;\n        }\n\n        handle.hoveract.pageX = e.pageX;\n        handle.hoveract.pageY = e.pageY;\n        handle.hoveract.data = e.data;\n        $document.on('mousemove.contextMenuShow', handle.mousemove);\n        handle.hoveract.timer = setTimeout(function () {\n            handle.hoveract.timer = null;\n            $document.off('mousemove.contextMenuShow');\n            handle.$currentTrigger = $this;\n            $this.trigger($.Event('contextmenu', {\n                data: handle.hoveract.data,\n                pageX: handle.hoveract.pageX,\n                pageY: handle.hoveract.pageY,\n                originalEvent: e\n            }));\n        }, e.data.delay);\n    },\n    // contextMenu hover trigger\n    mousemove: function (e) {\n        handle.hoveract.pageX = e.pageX;\n        handle.hoveract.pageY = e.pageY;\n    },\n    // contextMenu hover trigger\n    mouseleave: function (e) {\n        // abort if we're leaving for a menu\n        const $related = $(e.relatedTarget);\n        if ($related.is('.context-menu-list') || $related.closest('.context-menu-list').length) {\n            return;\n        }\n\n        try {\n            clearTimeout(handle.hoveract.timer);\n        } catch (e) {\n        }\n\n        handle.hoveract.timer = null;\n    },\n    // click on layer to hide contextMenu\n    layerClick: function (e) {\n        let $this = $(this);\n        let root = $this.data('contextMenuRoot');\n        let button = e.button;\n        let x = e.pageX;\n        let y = e.pageY;\n        let target;\n        let offset;\n\n        e.preventDefault();\n\n        setTimeout(function () {\n            let $window = $(window);\n            let triggerAction = ((root.trigger === 'left' && button === 0) || (root.trigger === 'right' && button === 2));\n\n            // find the element that would've been clicked, wasn't the layer in the way\n            if (document.elementFromPoint && root.$layer) {\n                root.$layer.hide();\n                target = document.elementFromPoint(x - $window.scrollLeft(), y - $window.scrollTop());\n\n                // also need to try and focus this element if we're in a contenteditable area,\n                // as the layer will prevent the browser mouse action we want\n                if (target.isContentEditable) {\n                    const range = document.createRange();\n                    const sel = window.getSelection();\n                    range.selectNode(target);\n                    range.collapse(true);\n                    sel.removeAllRanges();\n                    sel.addRange(range);\n                }\n                $(target).trigger(e);\n                root.$layer.show();\n            }\n\n            if (root.hideOnSecondTrigger && triggerAction && root.$menu !== null && typeof root.$menu !== 'undefined') {\n                root.$menu.trigger('contextmenu:hide', {originalEvent: e});\n                return;\n            }\n\n            if (root.reposition && triggerAction) {\n                if (document.elementFromPoint) {\n                    if (root.$trigger.is(target)) {\n                        root.position.call(root.$trigger, e, root, x, y);\n                        return;\n                    }\n                } else {\n                    offset = root.$trigger.offset();\n                    const $window = $(window);\n                    // while this looks kinda awful, it's the best way to avoid\n                    // unnecessarily calculating any positions\n                    offset.top += $window.scrollTop();\n                    if (offset.top <= e.pageY) {\n                        offset.left += $window.scrollLeft();\n                        if (offset.left <= e.pageX) {\n                            offset.bottom = offset.top + root.$trigger.outerHeight();\n                            if (offset.bottom >= e.pageY) {\n                                offset.right = offset.left + root.$trigger.outerWidth();\n                                if (offset.right >= e.pageX) {\n                                    // reposition\n                                    root.position.call(root.$trigger, e, root, x, y);\n                                    return;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (target && triggerAction) {\n                root.$trigger.one('contextmenu:hidden', function () {\n                    $(target).contextMenu({x: x, y: y, button: button, originalEvent: e});\n                });\n            }\n\n            if (root !== null && typeof root !== 'undefined' && root.$menu !== null && typeof root.$menu !== 'undefined') {\n                root.$menu.trigger('contextmenu:hide', {originalEvent: e});\n            }\n        }, 50);\n    },\n    // key handled :hover\n    keyStop: function (e, opt) {\n        if (!opt.isInput) {\n            e.preventDefault();\n        }\n\n        e.stopPropagation();\n    },\n    key: function (e) {\n        let opt = {};\n\n        // Only get the data from handle.$currentTrigger if it exists\n        if (handle.$currentTrigger) {\n            opt = handle.$currentTrigger.data('contextMenu') || {};\n        }\n        // If the trigger happen on a element that are above the contextmenu do this\n        if (typeof opt.zIndex === 'undefined') {\n            opt.zIndex = 0;\n        }\n        const getZIndexOfTriggerTarget = function (target) {\n            if (target.style.zIndex !== '') {\n                return target.style.zIndex;\n            } else {\n                if (target.offsetParent !== null && typeof target.offsetParent !== 'undefined') {\n                    return getZIndexOfTriggerTarget(target.offsetParent);\n                } else if (target.parentElement !== null && typeof target.parentElement !== 'undefined') {\n                    return getZIndexOfTriggerTarget(target.parentElement);\n                }\n            }\n        };\n        let targetZIndex = getZIndexOfTriggerTarget(e.target);\n\n        // If targetZIndex is heigher then opt.zIndex dont progress any futher.\n        // This is used to make sure that if you are using a dialog with a input / textarea / contenteditable div\n        // and its above the contextmenu it wont steal keys events\n        if (opt.$menu && parseInt(targetZIndex, 10) > parseInt(opt.$menu.css('zIndex'), 10)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 9:\n            case 38: // up\n                handle.keyStop(e, opt);\n                // if keyCode is [38 (up)] or [9 (tab) with shift]\n                if (opt.isInput) {\n                    if (e.keyCode === 9 && e.shiftKey) {\n                        e.preventDefault();\n                        if (opt.$selected) {\n                            opt.$selected.find('input, textarea, select').blur();\n                        }\n                        if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                            opt.$menu.trigger('prevcommand', {originalEvent: e});\n                        }\n                        return;\n                    } else if (e.keyCode === 38 && opt.$selected.find('input, textarea, select').prop('type') === 'checkbox') {\n                        // checkboxes don't capture this key\n                        e.preventDefault();\n                        return;\n                    }\n                } else if (e.keyCode !== 9 || e.shiftKey) {\n                    if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                        opt.$menu.trigger('prevcommand', {originalEvent: e});\n                    }\n                    return;\n                }\n                break;\n            // omitting break;\n            // case 9: // tab - reached through omitted break;\n            case 40: // down\n                handle.keyStop(e, opt);\n                if (opt.isInput) {\n                    if (e.keyCode === 9) {\n                        e.preventDefault();\n                        if (opt.$selected) {\n                            opt.$selected.find('input, textarea, select').blur();\n                        }\n                        if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                            opt.$menu.trigger('nextcommand', {originalEvent: e});\n                        }\n                        return;\n                    } else if (e.keyCode === 40 && opt.$selected.find('input, textarea, select').prop('type') === 'checkbox') {\n                        // checkboxes don't capture this key\n                        e.preventDefault();\n                        return;\n                    }\n                } else {\n                    if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                        opt.$menu.trigger('nextcommand', {originalEvent: e});\n                    }\n                    return;\n                }\n                break;\n\n            case 37: // left\n                handle.keyStop(e, opt);\n                if (opt.isInput || !opt.$selected || !opt.$selected.length) {\n                    break;\n                }\n\n                if (!opt.$selected.parent().hasClass('context-menu-root')) {\n                    const $parent = opt.$selected.parent().parent();\n                    opt.$selected.trigger('contextmenu:blur', {originalEvent: e});\n                    opt.$selected = $parent;\n                    return;\n                }\n                break;\n\n            case 39: // right\n                handle.keyStop(e, opt);\n                if (opt.isInput || !opt.$selected || !opt.$selected.length) {\n                    break;\n                }\n\n                const itemdata = opt.$selected.data('contextMenu') || {};\n                if (itemdata.$menu && opt.$selected.hasClass('context-menu-submenu')) {\n                    opt.$selected = null;\n                    itemdata.$selected = null;\n                    itemdata.$menu.trigger('nextcommand', {originalEvent: e});\n                    return;\n                }\n                break;\n\n            case 35: // end\n            case 36: // home\n                if (opt.$selected && opt.$selected.find('input, textarea, select').length) {\n                    break;\n                } else {\n                    ((opt.$selected && opt.$selected.parent()) || opt.$menu)\n                        .children(':not(.' + opt.classNames.disabled + ', .' + opt.classNames.notSelectable + ')')[e.keyCode === 36 ? 'first' : 'last']()\n                        .trigger('contextmenu:focus', {originalEvent: e});\n                    e.preventDefault();\n                    break;\n                }\n            case 13: // enter\n                handle.keyStop(e, opt);\n                if (opt.isInput) {\n                    if (opt.$selected && !opt.$selected.is('textarea, select')) {\n                        e.preventDefault();\n                        return;\n                    }\n                    break;\n                }\n                if (typeof opt.$selected !== 'undefined' && opt.$selected !== null) {\n                    opt.$selected.trigger('mouseup', {originalEvent: e});\n                }\n                return;\n            case 32: // space\n            case 33: // page up\n            case 34: // page down\n                // prevent browser from scrolling down while menu is visible\n                handle.keyStop(e, opt);\n                return;\n\n            case 27: // esc\n                handle.keyStop(e, opt);\n                if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                    opt.$menu.trigger('contextmenu:hide', {originalEvent: e});\n                }\n                return;\n\n            default: // 0-9, a-z\n                const k = (String.fromCharCode(e.keyCode)).toUpperCase();\n                if (opt.accesskeys && opt.accesskeys[k]) {\n                    // according to the specs accesskeys must be invoked immediately\n                    opt.accesskeys[k].$node.trigger(opt.accesskeys[k].$menu ? 'contextmenu:focus' : 'mouseup', {originalEvent: e});\n                    return;\n                }\n                break;\n        }\n        // pass event to selected item,\n        // stop propagation to avoid endless recursion\n        e.stopPropagation();\n        if (typeof opt.$selected !== 'undefined' && opt.$selected !== null) {\n            opt.$selected.trigger(e);\n        }\n    },\n    // select previous possible command in menu\n    prevItem: function (e) {\n        e.stopPropagation();\n        let opt = $(this).data('contextMenu') || {};\n        const root = $(this).data('contextMenuRoot') || {};\n\n        // obtain currently selected menu\n        if (opt.$selected) {\n            const $s = opt.$selected;\n            opt = opt.$selected.parent().data('contextMenu') || {};\n            opt.$selected = $s;\n        }\n\n        const $children = opt.$menu.children();\n        let $prev = !opt.$selected || !opt.$selected.prev().length ? $children.last() : opt.$selected.prev();\n        const $round = $prev;\n\n        // skip disabled or hidden elements\n        while ($prev.hasClass(root.classNames.disabled) || $prev.hasClass(root.classNames.notSelectable) || $prev.is(':hidden')) {\n            if ($prev.prev().length) {\n                $prev = $prev.prev();\n            } else {\n                $prev = $children.last();\n            }\n\n            if ($prev.is($round)) {\n                // break endless loop\n                return;\n            }\n        }\n\n        // leave current\n        if (opt.$selected) {\n            handle.itemMouseleave.call(opt.$selected.get(0), e);\n        }\n\n        // activate next\n        handle.itemMouseenter.call($prev.get(0), e);\n\n        // focus input\n        const $input = $prev.find('input, textarea, select');\n        if ($input.length) {\n            $input.focus();\n        }\n    },\n    // select next possible command in menu\n    nextItem: function (e) {\n        e.stopPropagation();\n        let opt = $(this).data('contextMenu') || {};\n        let root = $(this).data('contextMenuRoot') || {};\n\n        // obtain currently selected menu\n        if (opt.$selected) {\n            const $s = opt.$selected;\n            opt = opt.$selected.parent().data('contextMenu') || {};\n            opt.$selected = $s;\n        }\n\n        const $children = opt.$menu.children();\n        let $next = !opt.$selected || !opt.$selected.next().length ? $children.first() : opt.$selected.next();\n        const $round = $next;\n\n        // skip disabled\n        while ($next.hasClass(root.classNames.disabled) || $next.hasClass(root.classNames.notSelectable) || $next.is(':hidden')) {\n            if ($next.next().length) {\n                $next = $next.next();\n            } else {\n                $next = $children.first();\n            }\n            if ($next.is($round)) {\n                // break endless loop\n                return;\n            }\n        }\n\n        // leave current\n        if (opt.$selected) {\n            handle.itemMouseleave.call(opt.$selected.get(0), e);\n        }\n\n        // activate next\n        handle.itemMouseenter.call($next.get(0), e);\n\n        // focus input\n        const $input = $next.find('input, textarea, select');\n        if ($input.length) {\n            $input.focus();\n        }\n    },\n    // flag that we're inside an input so the key handler can act accordingly\n    focusInput: function () {\n        let $this = $(this).closest('.context-menu-item');\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n\n        root.$selected = opt.$selected = $this;\n        root.isInput = opt.isInput = true;\n    },\n    // flag that we're inside an input so the key handler can act accordingly\n    blurInput: function () {\n        let $this = $(this).closest('.context-menu-item');\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n\n        root.isInput = opt.isInput = false;\n    },\n    // :hover on menu\n    menuMouseenter: function (e) {\n        let root = $(this).data().contextMenuRoot;\n        root.hovering = true;\n    },\n    // :hover on menu\n    menuMouseleave: function (e) {\n        let root = $(this).data().contextMenuRoot;\n        if (root.$layer && root.$layer.is(e.relatedTarget)) {\n            root.hovering = false;\n        }\n    },\n    // :hover done manually so key handling is possible\n    itemMouseenter: function (e) {\n        console.log(e);\n        let $this = $(this);\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n\n        root.hovering = true;\n\n        // abort if we're re-entering\n        if (e && root.$layer && root.$layer.is(e.relatedTarget)) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n\n        // make sure only one item is selected\n        (opt.$menu ? opt : root).$menu\n            .children('.' + root.classNames.hover).trigger('contextmenu:blur')\n            .children('.hover').trigger('contextmenu:blur', {originalEvent: e});\n\n        if ($this.hasClass(root.classNames.disabled) || $this.hasClass(root.classNames.notSelectable)) {\n            opt.$selected = null;\n            return;\n        }\n\n        $this.trigger('contextmenu:focus', {originalEvent: e});\n    },\n    // :hover done manually so key handling is possible\n    itemMouseleave: function (e) {\n        console.log(e);\n        let $this = $(this);\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n\n        if (root !== opt && root.$layer && root.$layer.is(e.relatedTarget)) {\n            if (typeof root.$selected !== 'undefined' && root.$selected !== null) {\n                root.$selected.trigger('contextmenu:blur', {originalEvent: e});\n            }\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            root.$selected = opt.$selected = opt.$node;\n            return;\n        }\n\n        if (opt && opt.$menu && opt.$menu.hasClass('context-menu-visible')) {\n            return;\n        }\n\n        $this.trigger('contextmenu:blur');\n    },\n    // contextMenu item click\n    itemClick: function (e) {\n        let $this = $(this);\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n        let key = data.contextMenuKey;\n        let callback;\n\n        // abort if the key is unknown or disabled or is a menu\n        if (!opt.items[key] || $this.is('.' + root.classNames.disabled + ', .context-menu-separator, .' + root.classNames.notSelectable) || ($this.is('.context-menu-submenu') && root.selectableSubMenu === false)) {\n            return;\n        }\n\n        e.preventDefault();\n        e.stopImmediatePropagation();\n\n        if ($.isFunction(opt.callbacks[key]) && Object.prototype.hasOwnProperty.call(opt.callbacks, key)) {\n            // item-specific callback\n            callback = opt.callbacks[key];\n        } else if ($.isFunction(root.callback)) {\n            // default callback\n            callback = root.callback;\n        } else {\n            // no callback, no action\n            return;\n        }\n\n        // hide menu if callback doesn't stop that\n        if (callback.call(root.$trigger, e, key, opt, root) !== false) {\n            root.$menu.trigger('contextmenu:hide');\n        } else if (root.$menu.parent().length) {\n            op.update.call(root.$trigger, e, root);\n        }\n    },\n    // ignore click events on input elements\n    inputClick: function (e) {\n        e.stopImmediatePropagation();\n    },\n    // hide <menu>\n    hideMenu: function (e, data) {\n        const root = $(this).data('contextMenuRoot');\n        op.hide.call(root.$trigger, e, root, data && data.force);\n    },\n\n    // focus <command>\n    focusItem: function (e) {\n        e.stopPropagation();\n        const $this = $(this);\n        const data = $this.data();\n        const opt = data.contextMenu;\n        const root = data.contextMenuRoot;\n\n        if ($this.hasClass(root.classNames.disabled) || $this.hasClass(root.classNames.notSelectable)) {\n            return;\n        }\n\n        $this\n            .addClass([root.classNames.hover, root.classNames.visible].join(' '))\n            // select other items and included items\n            .parent().find('.context-menu-item').not($this)\n            .removeClass(root.classNames.visible)\n            .filter('.' + root.classNames.hover)\n            .trigger('contextmenu:blur');\n\n        // remember selected\n        opt.$selected = root.$selected = $this;\n\n        if (opt && opt.$node && opt.$node.hasClass('context-menu-submenu')) {\n            opt.$node.addClass(root.classNames.hover);\n        }\n\n        // position sub-menu - do after show so dumb $.ui.position can keep up\n        if (opt.$node) {\n            root.positionSubmenu.call(opt.$node, opt.$menu);\n        }\n    },\n    // blur <command>\n    blurItem: function (e) {\n        e.stopPropagation();\n        const $this = $(this);\n        const data = $this.data();\n        const opt = data.contextMenu;\n        const root = data.contextMenuRoot;\n\n        if (opt.autoHide) { // for tablets and touch screens this needs to remain\n            $this.removeClass(root.classNames.visible);\n        }\n        $this.removeClass(root.classNames.hover);\n        opt.$selected = null;\n    }\n};\n\nexport default handle;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/event-handler.js","/**\n * Get the input label for the given node\n *\n * @param node\n * @returns {*|jQuery}\n */\nexport function inputLabel(node) {\n    return (node.id && $('label[for=\"' + node.id + '\"]').val()) || node.name;\n}\n\n// import values into <input> commands\nexport function setInputValues(opt, data) {\n    if (typeof data === 'undefined') {\n        data = {};\n    }\n\n    $.each(opt.inputs, function (key, item) {\n        switch (item.type) {\n            case 'text':\n            case 'textarea':\n                item.value = data[key] || '';\n                break;\n\n            case 'checkbox':\n                item.selected = !!data[key];\n                break;\n\n            case 'radio':\n                item.selected = (data[item.radio] || '') === item.value;\n                break;\n\n            case 'select':\n                item.selected = data[key] || '';\n                break;\n        }\n    });\n}\n\n// export values from <input> commands\nexport function getInputValues(opt, data) {\n    if (typeof data === 'undefined') {\n        data = {};\n    }\n\n    $.each(opt.inputs, function (key, item) {\n        switch (item.type) {\n            case 'text':\n            case 'textarea':\n            case 'select':\n                data[key] = item.$input.val();\n                break;\n\n            case 'checkbox':\n                data[key] = item.$input.prop('checked');\n                break;\n\n            case 'radio':\n                if (item.$input.prop('checked')) {\n                    data[item.radio] = item.value;\n                }\n                break;\n        }\n    });\n\n    return data;\n}\n\n// determine zIndex\nexport function zindex($t) {\n    let zin = 0;\n    let $tt = $t;\n\n    while (true) {\n        zin = Math.max(zin, parseInt($tt.css('z-index'), 10) || 0);\n        $tt = $tt.parent();\n        if (!$tt || !$tt.length || 'html body'.indexOf($tt.prop('nodeName').toLowerCase()) > -1) {\n            break;\n        }\n    }\n    return zin;\n}\n\n// split accesskey according to http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#assigned-access-key\nexport function splitAccesskey(val) {\n    var t = val.split(/\\s+/);\n    var keys = [];\n\n    for (var i = 0, k; k = t[i]; i++) {\n        k = k.charAt(0).toUpperCase(); // first character only\n        // theoretically non-accessible characters should be ignored, but different systems, different keyboard layouts, ... screw it.\n        // a map to look up already used access keys would be nice\n        keys.push(k);\n    }\n\n    return keys;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/helpers/index.js","import {determinePosition, positionSubmenu, position} from './position';\n\n/**\n * Default options for the context menu\n *\n * @type {{selector: null|string, appendTo: null|string, trigger: string, autoHide: boolean, delay: number, reposition: boolean, hideOnSecondTrigger: boolean, selectableSubMenu: boolean, classNames: {hover: string, disabled: string, visible: string, notSelectable: string, icon: string, iconEdit: string, iconCut: string, iconCopy: string, iconPaste: string, iconDelete: string, iconAdd: string, iconQuit: string, iconLoadingClass: string}, determinePosition: defaults.determinePosition, position: defaults.position, positionSubmenu: defaults.positionSubmenu, zIndex: number, animation: {duration: number, show: string, hide: string}, events: {show: _.noop|noop|*, hide: _.noop|noop|*, activated: _.noop|noop|*}, callback: null|function, items: {}, types: {}}}\n */\nexport default {\n    // selector of contextMenu trigger\n    selector: null,\n\n    // where to append the menu to\n    appendTo: null,\n\n    // method to trigger context menu [\"right\", \"left\", \"hover\"]\n    trigger: 'right',\n\n    // hide menu when mouse leaves trigger / menu elements\n    autoHide: false,\n\n    // ms to wait before showing a hover-triggered context menu\n    delay: 200,\n\n    // flag denoting if a second trigger should simply move (true) or rebuild (false) an open menu\n    // as long as the trigger happened on one of the trigger-element's child nodes\n    reposition: true,\n\n    // Flag denoting if a second trigger should close the menu, as long as\n    // the trigger happened on one of the trigger-element's child nodes.\n    // This overrides the reposition option.\n    hideOnSecondTrigger: false,\n\n    // ability to select submenu\n    selectableSubMenu: false,\n\n    // Default classname configuration to be able avoid conflicts in frameworks\n    classNames: {\n        hover: 'context-menu-hover', // Item hover\n        disabled: 'context-menu-disabled', // Item disabled\n        visible: 'context-menu-visible', // Item visible\n        notSelectable: 'context-menu-not-selectable', // Item not selectable\n\n        icon: 'context-menu-icon',\n        iconEdit: 'context-menu-icon-edit',\n        iconCut: 'context-menu-icon-cut',\n        iconCopy: 'context-menu-icon-copy',\n        iconPaste: 'context-menu-icon-paste',\n        iconDelete: 'context-menu-icon-delete',\n        iconAdd: 'context-menu-icon-add',\n        iconQuit: 'context-menu-icon-quit',\n        iconLoadingClass: 'context-menu-icon-loading'\n    },\n\n    // offset to add to zIndex\n    zIndex: 1,\n\n    // show hide animation settings\n    animation: {\n        duration: 50,\n        show: 'slideDown',\n        hide: 'slideUp'\n    },\n\n    // events\n    events: {\n        show: $.noop,\n        hide: $.noop,\n        activated: $.noop\n    },\n\n    // default callback\n    callback: null,\n\n    // list of contextMenu items\n    items: {},\n\n    types: {},\n\n    // determine position to show menu at\n    determinePosition,\n\n    // position menu\n    position,\n\n    // position the sub-menu\n    positionSubmenu\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/defaults/index.js","import {zindex, splitAccesskey} from '../helpers';\nimport handle from './event-handler';\n\n/**\n * Operations that van be done by the contextmenu.\n *\n * @type {{handle: {}, show: op.show, hide: op.hide, create: op.create, resize: op.resize, update: op.update, layer: op.layer, processPromises: op.processPromises, activated: op.activated}}\n */\nlet op = {\n    handle: {},\n\n    /**\n     * @param {JQuery.Event} e\n     * @param opt\n     * @param {Number} x\n     * @param {Number} y\n     */\n    show: function (e, opt, x, y) {\n        const $trigger = $(this);\n        const css = {};\n\n        // hide any open menus\n        $('#context-menu-layer').trigger('mousedown');\n\n        // backreference for callbacks\n        opt.$trigger = $trigger;\n\n        // show event\n        if (opt.events.show.call($trigger, opt) === false) {\n            handle.$currentTrigger = null;\n            return;\n        }\n\n        // create or update context menu\n        op.update.call($trigger, e, opt);\n\n        // position menu\n        opt.position.call($trigger, e, opt, x, y);\n\n        // make sure we're in front\n        if (opt.zIndex) {\n            let additionalZValue = opt.zIndex;\n            // If opt.zIndex is a function, call the function to get the right zIndex.\n            if (typeof opt.zIndex === 'function') {\n                additionalZValue = opt.zIndex.call($trigger, opt);\n            }\n            css.zIndex = zindex($trigger) + additionalZValue;\n        }\n\n        // add layer\n        op.layer.call(opt.$menu, e, opt, css.zIndex);\n\n        // adjust sub-menu zIndexes\n        opt.$menu.find('ul').css('zIndex', css.zIndex + 1);\n\n        // position and show context menu\n        opt.$menu.css(css)[opt.animation.show](opt.animation.duration, function () {\n            $trigger.trigger('contextmenu:visible');\n\n            op.activated(e, opt);\n            opt.events.activated(e, opt);\n        });\n        // make options available and set state\n        $trigger\n            .data('contextMenu', opt)\n            .addClass('context-menu-active');\n\n        // register key handler\n        $(document).off('keydown.contextMenu').on('keydown.contextMenu', handle.key);\n        // register autoHide handler\n        if (opt.autoHide) {\n            // mouse position handler\n            $(document).on('mousemove.contextMenuAutoHide', function (e) {\n                // need to capture the offset on mousemove,\n                // since the page might've been scrolled since activation\n                const pos = $trigger.offset();\n                pos.right = pos.left + $trigger.outerWidth();\n                pos.bottom = pos.top + $trigger.outerHeight();\n\n                if (opt.$layer && !opt.hovering && (!(e.pageX >= pos.left && e.pageX <= pos.right) || !(e.pageY >= pos.top && e.pageY <= pos.bottom))) {\n                    /* Additional hover check after short time, you might just miss the edge of the menu */\n                    setTimeout(function () {\n                        if (!opt.hovering && opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                            opt.$menu.trigger('contextmenu:hide');\n                        }\n                    }, 50);\n                }\n            });\n        }\n    },\n\n    /**\n     * @param {JQuery.Event} e\n     * @param opt\n     * @param {bool} force\n     */\n    hide: function (e, opt, force) {\n        const $trigger = $(this);\n        console.log('e', e)\n        console.log('opt', opt)\n        console.log('$trigger', $trigger)\n        if (!opt) {\n            opt = $trigger.data('contextMenu') || {};\n        }\n\n        // hide event\n        if (!force && opt.events && opt.events.hide.call($trigger, e, opt) === false) {\n            return;\n        }\n\n        // remove options and revert state\n        $trigger\n            .removeData('contextMenu')\n            .removeClass('context-menu-active');\n\n        if (opt.$layer) {\n            // keep layer for a bit so the contextmenu event can be aborted properly by opera\n            setTimeout((function ($layer) {\n                return function () {\n                    $layer.remove();\n                };\n            })(opt.$layer), 10);\n\n            try {\n                delete opt.$layer;\n            } catch (e) {\n                opt.$layer = null;\n            }\n        }\n\n        // remove handle\n        handle.$currentTrigger = null;\n        // remove selected\n        console.log('opt?', opt)\n        opt.$menu.find('.' + opt.classNames.hover).trigger('contextmenu:blur');\n        opt.$selected = null;\n        // collapse all submenus\n        opt.$menu.find('.' + opt.classNames.visible).removeClass(opt.classNames.visible);\n        // unregister key and mouse handlers\n        // $(document).off('.contextMenuAutoHide keydown.contextMenu'); // http://bugs.jquery.com/ticket/10705\n        $(document).off('.contextMenuAutoHide').off('keydown.contextMenu');\n        // hide menu\n        if (opt.$menu) {\n            opt.$menu[opt.animation.hide](opt.animation.duration, function () {\n                // tear down dynamically built menu after animation is completed.\n                if (opt.build) {\n                    opt.$menu.remove();\n                    Object.keys(opt).forEach((key) => {\n                        switch (key) {\n                            case 'ns':\n                            case 'selector':\n                            case 'build':\n                            case 'trigger':\n                                return true;\n\n                            default:\n                                opt[key] = undefined;\n                                try {\n                                    delete opt[key];\n                                } catch (e) {\n                                }\n                                return true;\n                        }\n                    });\n                }\n\n                setTimeout(function () {\n                    $trigger.trigger('contextmenu:hidden');\n                }, 10);\n            });\n        }\n    },\n\n    /**\n     * @param {JQuery.Event} e\n     * @param opt\n     * @param root\n     */\n    create: function (e, opt, root) {\n        if (typeof root === 'undefined') {\n            root = opt;\n        }\n\n        // create contextMenu\n        opt.$menu = $('<ul class=\"context-menu-list\"></ul>').addClass(opt.className || '').data({\n            'contextMenu': opt,\n            'contextMenuRoot': root\n        });\n\n        $.each(['callbacks', 'commands', 'inputs'], function (i, k) {\n            opt[k] = {};\n            if (!root[k]) {\n                root[k] = {};\n            }\n        });\n\n        if (!root.accesskeys) {\n            root.accesskeys = {};\n        }\n\n        function createNameNode(item) {\n            const $name = $('<span></span>');\n            if (item._accesskey) {\n                if (item._beforeAccesskey) {\n                    $name.append(document.createTextNode(item._beforeAccesskey));\n                }\n                $('<span></span>')\n                    .addClass('context-menu-accesskey')\n                    .text(item._accesskey)\n                    .appendTo($name);\n                if (item._afterAccesskey) {\n                    $name.append(document.createTextNode(item._afterAccesskey));\n                }\n            } else {\n                if (item.isHtmlName) {\n                    // restrict use with access keys\n                    if (typeof item.accesskey !== 'undefined') {\n                        throw new Error('accesskeys are not compatible with HTML names and cannot be used together in the same item');\n                    }\n                    $name.html(item.name);\n                } else {\n                    $name.text(item.name);\n                }\n            }\n            return $name;\n        }\n\n        // create contextMenu items\n        $.each(opt.items, function (key, item) {\n            let $t = $('<li class=\"context-menu-item\"></li>').addClass(item.className || '');\n            let $label = null;\n            let $input = null;\n\n            // iOS needs to see a click-event bound to an element to actually\n            // have the TouchEvents infrastructure trigger the click event\n            $t.on('click', $.noop);\n\n            // Make old school string seperator a real item so checks wont be\n            // akward later.\n            // And normalize 'cm_separator' into 'cm_seperator'.\n            if (typeof item === 'string' || item.type === 'cm_separator') {\n                item = {type: 'cm_seperator'};\n            }\n\n            item.$node = $t.data({\n                'contextMenu': opt,\n                'contextMenuRoot': root,\n                'contextMenuKey': key\n            });\n\n            // register accesskey\n            // NOTE: the accesskey attribute should be applicable to any element, but Safari5 and Chrome13 still can't do that\n            if (typeof item.accesskey !== 'undefined') {\n                const aks = splitAccesskey(item.accesskey);\n                for (let i = 0, ak; ak = aks[i]; i++) {\n                    if (!root.accesskeys[ak]) {\n                        root.accesskeys[ak] = item;\n                        const matched = item.name.match(new RegExp('^(.*?)(' + ak + ')(.*)$', 'i'));\n                        if (matched) {\n                            item._beforeAccesskey = matched[1];\n                            item._accesskey = matched[2];\n                            item._afterAccesskey = matched[3];\n                        }\n                        break;\n                    }\n                }\n            }\n\n            if (item.type && root.types[item.type]) {\n                // run custom type handler\n                root.types[item.type].call($t, item, opt, root);\n                // register commands\n                $.each([opt, root], function (i, k) {\n                    k.commands[key] = item;\n                    // Overwrite only if undefined or the item is appended to the root. This so it\n                    // doesn't overwrite callbacks of root elements if the name is the same.\n                    if ($.isFunction(item.callback) && (typeof k.callbacks[key] === 'undefined' || typeof opt.type === 'undefined')) {\n                        k.callbacks[key] = item.callback;\n                    }\n                });\n            } else {\n                // add label for input\n                if (item.type === 'cm_seperator') {\n                    $t.addClass('context-menu-separator ' + root.classNames.notSelectable);\n                } else if (item.type === 'html') {\n                    $t.addClass('context-menu-html ' + root.classNames.notSelectable);\n                } else if (item.type && item.type !== 'sub') {\n                    $label = $('<label></label>').appendTo($t);\n                    createNameNode(item).appendTo($label);\n\n                    $t.addClass('context-menu-input');\n                    opt.hasTypes = true;\n                    $.each([opt, root], function (i, k) {\n                        k.commands[key] = item;\n                        k.inputs[key] = item;\n                    });\n                } else if (item.items) {\n                    item.type = 'sub';\n                }\n\n                switch (item.type) {\n                    case 'cm_seperator':\n                        break;\n\n                    case 'text':\n                        $input = $('<input type=\"text\" value=\"1\" name=\"\" />')\n                            .attr('name', 'context-menu-input-' + key)\n                            .val(item.value || '')\n                            .appendTo($label);\n                        break;\n\n                    case 'textarea':\n                        $input = $('<textarea name=\"\"></textarea>')\n                            .attr('name', 'context-menu-input-' + key)\n                            .val(item.value || '')\n                            .appendTo($label);\n\n                        if (item.height) {\n                            $input.height(item.height);\n                        }\n                        break;\n\n                    case 'checkbox':\n                        $input = $('<input type=\"checkbox\" value=\"1\" name=\"\" />')\n                            .attr('name', 'context-menu-input-' + key)\n                            .val(item.value || '')\n                            .prop('checked', !!item.selected)\n                            .prependTo($label);\n                        break;\n\n                    case 'radio':\n                        $input = $('<input type=\"radio\" value=\"1\" name=\"\" />')\n                            .attr('name', 'context-menu-input-' + item.radio)\n                            .val(item.value || '')\n                            .prop('checked', !!item.selected)\n                            .prependTo($label);\n                        break;\n\n                    case 'select':\n                        $input = $('<select name=\"\"></select>')\n                            .attr('name', 'context-menu-input-' + key)\n                            .appendTo($label);\n                        if (item.options) {\n                            $.each(item.options, function (value, text) {\n                                $('<option></option>').val(value).text(text).appendTo($input);\n                            });\n                            $input.val(item.selected);\n                        }\n                        break;\n\n                    case 'sub':\n                        createNameNode(item).appendTo($t);\n                        item.appendTo = item.$node;\n                        $t.data('contextMenu', item).addClass('context-menu-submenu');\n                        item.callback = null;\n\n                        // If item contains items, and this is a promise, we should create it later\n                        // check if subitems is of type promise. If it is a promise we need to create\n                        // it later, after promise has been resolved.\n                        if (typeof item.items.then === 'function') {\n                            // probably a promise, process it, when completed it will create the sub menu's.\n                            op.processPromises(e, item, root, item.items);\n                        } else {\n                            // normal submenu.\n                            op.create(e, item, root);\n                        }\n                        break;\n\n                    case 'html':\n                        $(item.html).appendTo($t);\n                        break;\n\n                    default:\n                        $.each([opt, root], function (i, k) {\n                            k.commands[key] = item;\n                            // Overwrite only if undefined or the item is appended to the root. This so it\n                            // doesn't overwrite callbacks of root elements if the name is the same.\n                            if ($.isFunction(item.callback) && (typeof k.callbacks[key] === 'undefined' || typeof opt.type === 'undefined')) {\n                                k.callbacks[key] = item.callback;\n                            }\n                        });\n                        createNameNode(item).appendTo($t);\n                        break;\n                }\n\n                // disable key listener in <input>\n                if (item.type && item.type !== 'sub' && item.type !== 'html' && item.type !== 'cm_seperator') {\n                    $input\n                        .on('focus', handle.focusInput)\n                        .on('blur', handle.blurInput);\n\n                    if (item.events) {\n                        $input.on(item.events, opt);\n                    }\n                }\n\n                // add icons\n                if (item.icon) {\n                    if ($.isFunction(item.icon)) {\n                        item._icon = item.icon.call(this, this, $t, key, item);\n                    } else {\n                        if (typeof (item.icon) === 'string' && item.icon.substring(0, 3) === 'fa-') {\n                            // to enable font awesome\n                            item._icon = root.classNames.icon + ' ' + root.classNames.icon + '--fa fa ' + item.icon;\n                        } else {\n                            item._icon = root.classNames.icon + ' ' + root.classNames.icon + '-' + item.icon;\n                        }\n                    }\n                    $t.addClass(item._icon);\n                }\n            }\n\n            // cache contained elements\n            item.$input = $input;\n            item.$label = $label;\n\n            // attach item to menu\n            $t.appendTo(opt.$menu);\n\n            // Disable text selection\n            if (!opt.hasTypes && $.support.eventSelectstart) {\n                // browsers support user-select: none,\n                // IE has a special event for text-selection\n                // browsers supporting neither will not be preventing text-selection\n                $t.on('selectstart.disableTextSelect', handle.abortevent);\n            }\n        });\n        // attach contextMenu to <body> (to bypass any possible overflow:hidden issues on parents of the trigger element)\n        if (!opt.$node) {\n            opt.$menu.css('display', 'none').addClass('context-menu-root');\n        }\n        opt.$menu.appendTo(opt.appendTo || document.body);\n    },\n\n    /**\n     * @param {JQuery.Event} e\n     * @param {JQuery} $menu\n     * @param {bool} nested\n     */\n    resize: function (e, $menu, nested) {\n        let domMenu;\n        // determine widths of submenus, as CSS won't grow them automatically\n        // position:absolute within position:absolute; min-width:100; max-width:200; results in width: 100;\n        // kinda sucks hard...\n\n        // determine width of absolutely positioned element\n        $menu.css({position: 'absolute', display: 'block'});\n        // don't apply yet, because that would break nested elements' widths\n        $menu.data('width',\n            (domMenu = $menu.get(0)).getBoundingClientRect\n                ? Math.ceil(domMenu.getBoundingClientRect().width)\n                : $menu.outerWidth() + 1); // outerWidth() returns rounded pixels\n        // reset styles so they allow nested elements to grow/shrink naturally\n        $menu.css({\n            position: 'static',\n            minWidth: '0px',\n            maxWidth: '100000px'\n        });\n        // identify width of nested menus\n        $menu.find('> li > ul').each(function () {\n            op.resize(e, $(this), true);\n        });\n        // reset and apply changes in the end because nested\n        // elements' widths wouldn't be calculatable otherwise\n        if (!nested) {\n            $menu.find('ul').addBack().css({\n                position: '',\n                display: '',\n                minWidth: '',\n                maxWidth: ''\n            }).outerWidth(function () {\n                return $(this).data('width');\n            });\n        }\n    },\n\n    /**\n     * @param {JQuery.Event} e\n     * @param opt\n     * @param root\n     */\n    update: function (e, opt, root) {\n        console.log('update', e)\n        console.log('update', opt)\n        console.log('update', root)\n        const $trigger = this;\n        if (typeof root === 'undefined') {\n            root = opt;\n            op.resize(e, opt.$menu);\n        }\n        // re-check disabled for each item\n        opt.$menu.children().each(function () {\n            let $item = $(this)\n            let key = $item.data('contextMenuKey')\n            let item = opt.items[key]\n            let disabled = ($.isFunction(item.disabled) && item.disabled.call($trigger, e, key, opt, root)) || item.disabled === true\n            let visible;\n\n            if ($.isFunction(item.visible)) {\n                visible = item.visible.call($trigger, e, key, root);\n            } else if (typeof item.visible !== 'undefined') {\n                visible = item.visible === true;\n            } else {\n                visible = true;\n            }\n            $item[visible ? 'show' : 'hide']();\n\n            // dis- / enable item\n            $item[disabled ? 'addClass' : 'removeClass'](root.classNames.disabled);\n\n            if ($.isFunction(item.icon)) {\n                $item.removeClass(item._icon);\n                item._icon = item.icon.call(this, $trigger, $item, key, item);\n                $item.addClass(item._icon);\n            }\n\n            if (item.type) {\n                // dis- / enable input elements\n                $item.find('input, select, textarea').prop('disabled', disabled);\n\n                // update input states\n                switch (item.type) {\n                    case 'text':\n                    case 'textarea':\n                        item.$input.val(item.value || '');\n                        break;\n\n                    case 'checkbox':\n                    case 'radio':\n                        item.$input.val(item.value || '').prop('checked', !!item.selected);\n                        break;\n\n                    case 'select':\n                        item.$input.val((item.selected === 0 ? '0' : item.selected) || '');\n                        break;\n                }\n            }\n\n            if (item.$menu) {\n                // update sub-menu\n                op.update.call($trigger, e, item, root);\n            }\n        });\n    },\n\n    /**\n     * @param {JQuery.Event} e\n     * @param opt\n     * @param zIndex\n     * @returns {jQuery}\n     */\n    layer: function (e, opt, zIndex) {\n        const $window = $(window);\n        // add transparent layer for click area\n        // filter and background for Internet Explorer, Issue #23\n        const $layer = opt.$layer = $('<div id=\"context-menu-layer\"></div>')\n            .css({\n                height: $window.height(),\n                width: $window.width(),\n                display: 'block',\n                position: 'fixed',\n                'z-index': zIndex,\n                top: 0,\n                left: 0,\n                opacity: 0,\n                filter: 'alpha(opacity=0)',\n                'background-color': '#000'\n            })\n            .data('contextMenuRoot', opt)\n            .insertBefore(this)\n            .on('contextmenu', handle.abortevent)\n            .on('mousedown', handle.layerClick);\n\n        // IE6 doesn't know position:fixed;\n        if (typeof document.body.style.maxWidth === 'undefined') { // IE6 doesn't support maxWidth\n            $layer.css({\n                'position': 'absolute',\n                'height': $(document).height()\n            });\n        }\n\n        return $layer;\n    },\n\n    /**\n     * @param {JQuery.Event} e\n     * @param opt\n     * @param root\n     * @param promise\n     */\n    processPromises: function (opt, root, promise) {\n        // Start\n        opt.$node.addClass(root.classNames.iconLoadingClass);\n\n        function finishPromiseProcess(opt, root, items) {\n            if (typeof root.$menu === 'undefined' || !root.$menu.is(':visible')) {\n                return;\n            }\n            opt.$node.removeClass(root.classNames.iconLoadingClass);\n            opt.items = items;\n            op.create(e, opt, root); // Create submenu\n            op.update(e, opt, root); // Correctly update position if user is already hovered over menu item\n            root.positionSubmenu.call(opt.$node, opt.$menu); // positionSubmenu, will only do anything if user already hovered over menu item that just got new subitems.\n        }\n\n        function errorPromise(opt, root, errorItem) {\n            // User called promise.reject() with an error item, if not, provide own error item.\n            if (typeof errorItem === 'undefined') {\n                errorItem = {\n                    'error': {\n                        name: 'No items and no error item',\n                        icon: 'context-menu-icon context-menu-icon-quit'\n                    }\n                };\n                if (window.console) {\n                    (console.error || console.log).call(console, 'When you reject a promise, provide an \"items\" object, equal to normal sub-menu items');\n                }\n            } else if (typeof errorItem === 'string') {\n                errorItem = {'error': {name: errorItem}};\n            }\n            finishPromiseProcess(opt, root, errorItem);\n        }\n\n        function completedPromise(opt, root, items) {\n            // Completed promise (dev called promise.resolve). We now have a list of items which can\n            // be used to create the rest of the context menu.\n            if (typeof items === 'undefined') {\n                // Null result, dev should have checked\n                errorPromise(undefined); // own error object\n            }\n            finishPromiseProcess(opt, root, items);\n        }\n\n        // Wait for promise completion. .then(success, error, notify) (we don't track notify). Bind the opt\n        // and root to avoid scope problems\n        promise.then(completedPromise.bind(this, opt, root), errorPromise.bind(this, opt, root));\n    },\n\n    /**\n     * operation that will run after contextMenu showed on screen\n     * @param {JQuery.Event} e\n     * @param opt\n     */\n    activated: function (e, opt) {\n        const $menu = opt.$menu;\n        const $menuOffset = $menu.offset();\n        const winHeight = $(window).height();\n        const winScrollTop = $(window).scrollTop();\n        const menuHeight = $menu.height();\n        if (menuHeight > winHeight) {\n            $menu.css({\n                'height': winHeight + 'px',\n                'overflow-x': 'hidden',\n                'overflow-y': 'auto',\n                'top': winScrollTop + 'px'\n            });\n        } else if (($menuOffset.top < winScrollTop) || ($menuOffset.top + menuHeight > winScrollTop + winHeight)) {\n            $menu.css({\n                'top': '0px'\n            });\n        }\n    }\n};\n\nexport default op;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/operations.js","'use strict';\nimport '../sass/jquery.contextMenu.scss';\n\nimport Manager from './modules/manager';\nimport defaults from './defaults';\nimport handler from './modules/event-handler';\nimport operations from './modules/operations';\n\nimport {setInputValues, getInputValues} from './helpers';\nimport fromMenu from './modules/html5builder';\nimport elementFunction from './modules/element';\n\nconst menus = {};\nconst namespaces = {};\nconst manager = new Manager(defaults, handler, operations, menus, namespaces);\n\n// manage contextMenu instances\nlet contextMenu = function (operation, options) {\n    manager.execute(operation, options);\n};\n\ncontextMenu.manager = manager;\ncontextMenu.setInputValues = setInputValues;\ncontextMenu.getInputValues = getInputValues;\ncontextMenu.fromMenu = fromMenu;\n\n// make defaults accessible\ncontextMenu.defaults = defaults;\ncontextMenu.types = defaults.types;\n\n// export internal functions - undocumented, for hacking only!\ncontextMenu.handle = handler;\ncontextMenu.op = operations;\ncontextMenu.menus = menus;\ncontextMenu.namespaces = namespaces;\n\n$.fn.contextMenu = elementFunction;\n$.contextMenu = contextMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/contextmenu.js","export default class Manager {\n    constructor(defaults, handler, operations, menus, namespaces) {\n        this.defaults = defaults;\n        this.handle = handler;\n        this.op = operations;\n        this.namespaces = namespaces;\n        this.initialized = false;\n        this.menus = menus;\n        this.counter = 0;\n    }\n\n    execute(operation, options) {\n        if (typeof operation !== 'string') {\n            options = operation;\n            operation = 'create';\n        }\n\n        if (typeof options === 'string') {\n            options = {selector: options};\n        } else if (typeof options === 'undefined') {\n            options = {};\n        }\n\n        // merge with default options\n        const o = $.extend(true, {}, this.defaults, options || {});\n        const $document = $(document);\n        let $context = $document;\n        let _hasContext = false;\n\n        if (!o.context || !o.context.length) {\n            o.context = document;\n        } else {\n            // you never know what they throw at you...\n            $context = $(o.context).first();\n            o.context = $context.get(0);\n            _hasContext = !$(o.context).is(document);\n        }\n\n        switch (operation) {\n            case 'update':\n                // Updates visibility and such\n                if (_hasContext) {\n                    this.op.update($context);\n                } else {\n                    for (let menu in this.menus) {\n                        if (this.menus.hasOwnProperty(menu)) {\n                            this.op.update(this.menus[menu]);\n                        }\n                    }\n                }\n                break;\n\n            case 'create':\n                // no selector no joy\n                if (!o.selector) {\n                    throw new Error('No selector specified');\n                }\n                // make sure internal classes are not bound to\n                if (o.selector.match(/.context-menu-(list|item|input)($|\\s)/)) {\n                    throw new Error('Cannot bind to selector \"' + o.selector + '\" as it contains a reserved className');\n                }\n                if (!o.build && (!o.items || $.isEmptyObject(o.items))) {\n                    throw new Error('No Items specified');\n                }\n                this.counter++;\n                o.ns = '.contextMenu' + this.counter;\n                if (!_hasContext) {\n                    this.namespaces[o.selector] = o.ns;\n                }\n                this.menus[o.ns] = o;\n\n                // default to right click\n                if (!o.trigger) {\n                    o.trigger = 'right';\n                }\n\n                if (!this.initialized) {\n                    const itemClick = o.itemClickEvent === 'click' ? 'click.contextMenu' : 'mouseup.contextMenu';\n                    const contextMenuItemObj = {\n                        // 'mouseup.contextMenu': this.handle.itemClick,\n                        // 'click.contextMenu': this.handle.itemClick,\n                        'contextmenu:focus.contextMenu': this.handle.focusItem,\n                        'contextmenu:blur.contextMenu': this.handle.blurItem,\n                        'contextmenu.contextMenu': this.handle.abortevent,\n                        'mouseenter.contextMenu': this.handle.itemMouseenter,\n                        'mouseleave.contextMenu': this.handle.itemMouseleave\n                    };\n                    contextMenuItemObj[itemClick] = this.handle.itemClick;\n\n                    // make sure item click is registered first\n                    $document\n                        .on({\n                            'contextmenu:hide.contextMenu': this.handle.hideMenu,\n                            'prevcommand.contextMenu': this.handle.prevItem,\n                            'nextcommand.contextMenu': this.handle.nextItem,\n                            'contextmenu.contextMenu': this.handle.abortevent,\n                            'mouseenter.contextMenu': this.handle.menuMouseenter,\n                            'mouseleave.contextMenu': this.handle.menuMouseleave\n                        }, '.context-menu-list')\n                        .on('mouseup.contextMenu', '.context-menu-input', this.handle.inputClick)\n                        .on(contextMenuItemObj, '.context-menu-item');\n\n                    this.initialized = true;\n                }\n\n                // engage native contextmenu event\n                $context\n                    .on('contextmenu' + o.ns, o.selector, o, this.handle.contextmenu);\n\n                if (_hasContext) {\n                    // add remove hook, just in case\n                    $context.on('remove' + o.ns, function () {\n                        $(this).contextMenu('destroy');\n                    });\n                }\n\n                switch (o.trigger) {\n                    case 'hover':\n                        $context\n                            .on('mouseenter' + o.ns, o.selector, o, this.handle.mouseenter)\n                            .on('mouseleave' + o.ns, o.selector, o, this.handle.mouseleave);\n                        break;\n\n                    case 'left':\n                        $context.on('click' + o.ns, o.selector, o, this.handle.click);\n                        break;\n                    case 'touchstart':\n                        $context.on('touchstart' + o.ns, o.selector, o, this.handle.click);\n                        break;\n                    /*\n                     default:\n                     // http://www.quirksmode.org/dom/events/contextmenu.html\n                     $document\n                     .on('mousedown' + o.ns, o.selector, o, this.handle.mousedown)\n                     .on('mouseup' + o.ns, o.selector, o, this.handle.mouseup);\n                     break;\n                     */\n                }\n\n                // create menu\n                if (!o.build) {\n                    this.op.create(null, o);\n                }\n                break;\n\n            case 'destroy':\n                let $visibleMenu;\n                if (_hasContext) {\n                    // get proper options\n                    const context = o.context;\n\n                    Object.keys(this.menus).forEach((ns) => {\n                        let o = this.menus[ns];\n\n                        if (!o) {\n                            return true;\n                        }\n\n                        // Is this menu equest to the context called from\n                        if (!$(context).is(o.selector)) {\n                            return true;\n                        }\n\n                        $visibleMenu = $('.context-menu-list').filter(':visible');\n                        if ($visibleMenu.length && $visibleMenu.data().contextMenuRoot.$trigger.is($(o.context).find(o.selector))) {\n                            $visibleMenu.trigger('contextmenu:hide', {force: true});\n                        }\n\n                        try {\n                            if (this.menus[o.ns].$menu) {\n                                this.menus[o.ns].$menu.remove();\n                            }\n\n                            delete this.menus[o.ns];\n                        } catch (e) {\n                            this.menus[o.ns] = null;\n                        }\n\n                        $(o.context).off(o.ns);\n\n                        return true;\n                    });\n                } else if (!o.selector) {\n                    $document.off('.contextMenu .contextMenuAutoHide');\n\n                    Object.keys(this.menus).forEach((ns) => {\n                        let o = this.menus[ns];\n                        $(o.context).off(o.ns);\n                    });\n\n                    this.namespaces = {};\n                    this.menus = {};\n                    this.counter = 0;\n                    this.initialized = false;\n\n                    $('#context-menu-layer, .context-menu-list').remove();\n                } else if (this.namespaces[o.selector]) {\n                    $visibleMenu = $('.context-menu-list').filter(':visible');\n                    if ($visibleMenu.length && $visibleMenu.data().contextMenuRoot.$trigger.is(o.selector)) {\n                        $visibleMenu.trigger('contextmenu:hide', {force: true});\n                    }\n\n                    try {\n                        if (this.menus[this.namespaces[o.selector]].$menu) {\n                            this.menus[this.namespaces[o.selector]].$menu.remove();\n                        }\n\n                        delete this.menus[this.namespaces[o.selector]];\n                    } catch (e) {\n                        this.menus[this.namespaces[o.selector]] = null;\n                    }\n\n                    $document.off(this.namespaces[o.selector]);\n                }\n                break;\n\n            case 'html5':\n                // if <command> and <menuitem> are not handled by the browser,\n                // or options was a bool true,\n                // initialize $.contextMenu for them\n                if ((!$.support.htmlCommand && !$.support.htmlMenuitem) || (typeof options === 'boolean' && options)) {\n                    $('menu[type=\"context\"]').each(function () {\n                        if (this.id) {\n                            $.contextMenu({\n                                selector: '[contextmenu=' + this.id + ']',\n                                items: $.contextMenu.fromMenu(this)\n                            });\n                        }\n                    }).css('display', 'none');\n                }\n                break;\n\n            default:\n                throw new Error('Unknown operation \"' + operation + '\"');\n        }\n\n        return this;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/manager.js","export function determinePosition($menu) {\n    // position to the lower middle of the trigger element\n    if ($.ui && $.ui.position) {\n        // .position() is provided as a jQuery UI utility\n        // (...and it won't work on hidden elements)\n        $menu.css('display', 'block').position({\n            my: 'center top',\n            at: 'center bottom',\n            of: this,\n            offset: '0 5',\n            collision: 'fit'\n        }).css('display', 'none');\n    } else {\n        // determine contextMenu position\n        const offset = this.offset();\n        offset.top += this.outerHeight();\n        offset.left += this.outerWidth() / 2 - $menu.outerWidth() / 2;\n        $menu.css(offset);\n    }\n}\n\n/**\n *\n * @param {JQuery.Event} e\n * @param opt\n * @param {Number} x\n * @param {Number} y\n */\nexport function position(e, opt, x, y) {\n    const $window = $(window);\n    let offset;\n    // determine contextMenu position\n    if (!x && !y) {\n        opt.determinePosition.call(this, opt.$menu);\n        return;\n    } else if (x === 'maintain' && y === 'maintain') {\n        // x and y must not be changed (after re-show on command click)\n        offset = opt.$menu.position();\n    } else {\n        // x and y are given (by mouse event)\n        const offsetParentOffset = opt.$menu.offsetParent().offset();\n        offset = {top: y - offsetParentOffset.top, left: x - offsetParentOffset.left};\n    }\n\n    // correct offset if viewport demands it\n    const bottom = $window.scrollTop() + $window.height();\n    const right = $window.scrollLeft() + $window.width();\n    const height = opt.$menu.outerHeight();\n    const width = opt.$menu.outerWidth();\n\n    if (offset.top + height > bottom) {\n        offset.top -= height;\n    }\n\n    if (offset.top < 0) {\n        offset.top = 0;\n    }\n\n    if (offset.left + width > right) {\n        offset.left -= width;\n    }\n\n    if (offset.left < 0) {\n        offset.left = 0;\n    }\n\n    opt.$menu.css(offset);\n}\n\n/**\n * @param {JQuery.Event} e\n * @param $menu\n */\n// position the sub-menu\nexport function positionSubmenu(e, $menu) {\n    if (typeof $menu === 'undefined') {\n        // When user hovers over item (which has sub items) handle.focusItem will call this.\n        // but the submenu does not exist yet if opt.items is a promise. just return, will\n        // call positionSubmenu after promise is completed.\n        return;\n    }\n    if ($.ui && $.ui.position) {\n        // .position() is provided as a jQuery UI utility\n        // (...and it won't work on hidden elements)\n        $menu.css('display', 'block').position({\n            my: 'left top-5',\n            at: 'right top',\n            of: this,\n            collision: 'flipfit fit'\n        }).css('display', '');\n    } else {\n        // determine contextMenu position\n        const offset = {\n            top: -9,\n            left: this.outerWidth() - 5\n        };\n        $menu.css(offset);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/defaults/position.js","import {inputLabel} from '../helpers';\n\n/**\n * Helper function for building a menu from a HTML <menu> element\n *\n * @param items\n * @param $children\n * @param counter\n * @returns {*}\n */\nexport function html5builder(items, $children, counter) {\n    if (!counter) {\n        counter = 0;\n    }\n\n    $children.each(function () {\n        let $node = $(this);\n        let node = this;\n        let nodeName = this.nodeName.toLowerCase();\n        let label;\n        let item;\n\n        // extract <label><input>\n        if (nodeName === 'label' && $node.find('input, textarea, select').length) {\n            label = $node.text();\n            $node = $node.children().first();\n            node = $node.get(0);\n            nodeName = node.nodeName.toLowerCase();\n        }\n\n        /*\n         * <menu> accepts flow-content as children. that means <embed>, <canvas> and such are valid menu items.\n         * Not being the sadistic kind, $.contextMenu only accepts:\n         * <command>, <menuitem>, <hr>, <span>, <p> <input [text, radio, checkbox]>, <textarea>, <select> and of course <menu>.\n         * Everything else will be imported as an html node, which is not interfaced with contextMenu.\n         */\n\n        // http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#concept-command\n        switch (nodeName) {\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#the-menu-element\n            case 'menu':\n                item = {name: $node.attr('label'), items: {}};\n                counter = html5builder(item.items, $node.children(), counter);\n                break;\n\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#using-the-a-element-to-define-a-command\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#using-the-button-element-to-define-a-command\n            case 'a':\n            case 'button':\n                item = {\n                    name: $node.text(),\n                    disabled: !!$node.attr('disabled'),\n                    callback: (function () {\n                        return function () {\n                            $node.get(0).click();\n                        };\n                    })()\n                };\n                break;\n\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#using-the-command-element-to-define-a-command\n            case 'menuitem':\n            case 'command':\n                switch ($node.attr('type')) {\n                    case undefined:\n                    case 'command':\n                    case 'menuitem':\n                        item = {\n                            name: $node.attr('label'),\n                            disabled: !!$node.attr('disabled'),\n                            icon: $node.attr('icon'),\n                            callback: (function () {\n                                return function () {\n                                    $node.get(0).click();\n                                };\n                            })()\n                        };\n                        break;\n\n                    case 'checkbox':\n                        item = {\n                            type: 'checkbox',\n                            disabled: !!$node.attr('disabled'),\n                            name: $node.attr('label'),\n                            selected: !!$node.attr('checked')\n                        };\n                        break;\n                    case 'radio':\n                        item = {\n                            type: 'radio',\n                            disabled: !!$node.attr('disabled'),\n                            name: $node.attr('label'),\n                            radio: $node.attr('radiogroup'),\n                            value: $node.attr('id'),\n                            selected: !!$node.attr('checked')\n                        };\n                        break;\n\n                    default:\n                        item = undefined;\n                }\n                break;\n\n            case 'hr':\n                item = '-------';\n                break;\n\n            case 'input':\n                switch ($node.attr('type')) {\n                    case 'text':\n                        item = {\n                            type: 'text',\n                            name: label || inputLabel(node),\n                            disabled: !!$node.attr('disabled'),\n                            value: $node.val()\n                        };\n                        break;\n\n                    case 'checkbox':\n                        item = {\n                            type: 'checkbox',\n                            name: label || inputLabel(node),\n                            disabled: !!$node.attr('disabled'),\n                            selected: !!$node.attr('checked')\n                        };\n                        break;\n\n                    case 'radio':\n                        item = {\n                            type: 'radio',\n                            name: label || inputLabel(node),\n                            disabled: !!$node.attr('disabled'),\n                            radio: !!$node.attr('name'),\n                            value: $node.val(),\n                            selected: !!$node.attr('checked')\n                        };\n                        break;\n\n                    default:\n                        item = undefined;\n                        break;\n                }\n                break;\n\n            case 'select':\n                item = {\n                    type: 'select',\n                    name: label || inputLabel(node),\n                    disabled: !!$node.attr('disabled'),\n                    selected: $node.val(),\n                    options: {}\n                };\n                $node.children().each(function () {\n                    item.options[this.value] = $(this).text();\n                });\n                break;\n\n            case 'textarea':\n                item = {\n                    type: 'textarea',\n                    name: label || inputLabel(node),\n                    disabled: !!$node.attr('disabled'),\n                    value: $node.val()\n                };\n                break;\n\n            case 'label':\n                break;\n\n            default:\n                item = {type: 'html', html: $node.clone(true)};\n                break;\n        }\n\n        if (item) {\n            counter++;\n            items['key' + counter] = item;\n        }\n    });\n\n    return counter;\n}\n\n/**\n * Build a menu from an element\n *\n * @param element\n * @returns {{}}\n */\nexport default function fromMenu(element) {\n    const $this = $(element);\n    const items = {};\n\n    html5builder(items, $this.children());\n\n    return items;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/html5builder.js","import handler from './event-handler';\n\n/**\n * Function that is called when calling contextmenu on an element (eg. $('.contextmenu').contextMenu())\n * @param {string|object} operation\n */\nexport default function (operation) {\n    const $t = this;\n    const $o = operation;\n    if (this.length > 0) { // this is not a build on demand menu\n        if (typeof operation === 'undefined') {\n            this.first().trigger('contextmenu');\n        } else if (typeof operation.x !== 'undefined' && typeof operation.y !== 'undefined') {\n            this.first().trigger($.Event('contextmenu', {\n                pageX: operation.x,\n                pageY: operation.y,\n                mouseButton: operation.button\n            }));\n        } else if (operation === 'hide') {\n            const $menu = this.first().data('contextMenu') ? this.first().data('contextMenu').$menu : null;\n            if ($menu) {\n                $menu.trigger('contextmenu:hide');\n            }\n        } else if (operation === 'destroy') {\n            $.contextMenu('destroy', {context: this});\n        } else if ($.isPlainObject(operation)) {\n            operation.context = this;\n            $.contextMenu('create', operation);\n        } else if (operation) {\n            this.removeClass('context-menu-disabled');\n        } else if (!operation) {\n            this.addClass('context-menu-disabled');\n        }\n    } else {\n        // eslint-disable-next-line no-undef\n        $.each(menus, function () {\n            if (this.selector === $t.selector) {\n                $o.data = this;\n\n                $.extend($o.data, {trigger: 'demand'});\n            }\n        });\n\n        handler.contextmenu.call($o.target, $o);\n    }\n\n    return this;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/element.js"],"sourceRoot":""}