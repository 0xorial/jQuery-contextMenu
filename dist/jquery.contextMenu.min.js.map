{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap a76608bde2ea9a25ca0a","webpack:///./src/js/helpers/index.js","webpack:///./src/js/defaults/index.js","webpack:///./src/js/contextmenu.js","webpack:///./src/js/defaults/position.js","webpack:///./src/js/modules/html5builder.js","webpack:///./src/js/modules/ContextMenuEventHandler.js","webpack:///./src/js/modules/ContextMenuManager.js","webpack:///./src/js/modules/ContextMenuOperations.js","webpack:///./src/js/modules/jqueryContextMenuFunction.js"],"names":["root","factory","exports","module","define","amd","self","this","__webpack_require__","moduleId","installedModules","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","inputLabel","node","id","$","val","setInputValues","opt","data","each","inputs","key","item","type","value","selected","radio","getInputValues","$input","prop","zindex","$t","zin","$tt","Math","max","parseInt","css","parent","length","indexOf","toLowerCase","splitAccesskey","k","t","split","keys","charAt","toUpperCase","push","_position","selector","appendTo","trigger","autoHide","delay","reposition","hideOnSecondTrigger","selectableSubMenu","className","classNames","hover","disabled","visible","notSelectable","icon","iconEdit","iconCut","iconCopy","iconPaste","iconDelete","iconAdd","iconQuit","iconLoadingClass","zIndex","animation","duration","show","hide","events","noop","activated","callback","items","build","types","determinePosition","position","positionSubmenu","_helpers","menus","namespaces","handler","_ContextMenuEventHandler2","default","operations","_ContextMenuOperations2","manager","_ContextMenuManager2","_defaults2","contextMenu","operation","options","execute","fromMenu","_html5builder2","defaults","handle","op","fn","_jqueryContextMenuFunction2","$menu","ui","my","at","of","offset","collision","top","outerHeight","left","outerWidth","e","x","y","$window","window","offsetParentOffset","offsetParent","bottom","scrollTop","height","right","scrollLeft","width","html5builder","$children","counter","$node","nodeName","label","find","text","children","first","attr","click","undefined","html","clone","element","ContextMenuEventHandler","_classCallCheck","$currentTrigger","hoveract","preventDefault","stopImmediatePropagation","$this","currentTarget","originalEvent","mouseButton","hasClass","built","extend","isEmptyObject","console","error","log","Error","$trigger","create","showMenu","isFunction","pageX","pageY","Event","is","button","removeData","$related","relatedTarget","$document","document","closest","on","mousemove","timer","setTimeout","off","clearTimeout","target","triggerAction","elementFromPoint","$layer","isContentEditable","range","createRange","sel","getSelection","selectNode","collapse","removeAllRanges","addRange","one","isInput","stopPropagation","targetZIndex","getZIndexOfTriggerTarget","style","parentElement","keyCode","keyStop","shiftKey","$selected","blur","$parent","itemdata","String","fromCharCode","accesskeys","$s","$prev","prev","last","$round","itemMouseleave","itemMouseenter","focus","$next","next","contextMenuRoot","hovering","contextMenuKey","callbacks","update","force","addClass","join","not","removeClass","filter","ContextMenuManager","initialized","_this","$context","_hasContext","context","menu","match","ns","itemClick","itemClickEvent","contextMenuItemObj","contextmenu:focus.contextMenu","focusItem","contextmenu:blur.contextMenu","blurItem","contextmenu.contextMenu","abortevent","mouseenter.contextMenu","mouseleave.contextMenu","contextmenu:hide.contextMenu","hideMenu","prevcommand.contextMenu","prevItem","nextcommand.contextMenu","nextItem","menuMouseenter","menuMouseleave","inputClick","contextmenu","mouseenter","mouseleave","$visibleMenu","forEach","remove","support","htmlCommand","htmlMenuitem","ContextMenuOperations","additionalZValue","layer","pos","_typeof","createNameNode","$name","_accesskey","_beforeAccesskey","append","createTextNode","_afterAccesskey","isHtmlName","accesskey","$label","ak","aks","matched","RegExp","commands","hasTypes","prependTo","then","processPromises","focusInput","blurInput","_icon","substring","eventSelectstart","body","nested","domMenu","display","getBoundingClientRect","ceil","minWidth","maxWidth","index","resize","addBack","$item","z-index","opacity","background-color","insertBefore","layerClick","promise","finishPromiseProcess","errorPromise","errorItem","bind","$menuOffset","winHeight","winScrollTop","menuHeight","overflow-x","overflow-y","$o","isPlainObject"],"mappings":"CAAA,SAAAA,EAAAC,GACA,iBAAAC,SAAA,iBAAAC,OACAA,OAAAD,QAAAD,IACA,mBAAAG,eAAAC,IACAD,UAAAH,GACA,iBAAAC,QACAA,QAAA,sBAAAD,IAEAD,EAAA,sBAAAC,IARA,CASC,oBAAAK,UAAAC,KAAA,WACD,mBCNA,SAAAC,EAAAC,GAGA,GAAAC,EAAAD,GACA,OAAAC,EAAAD,GAAAP,QAGA,IAAAC,EAAAO,EAAAD,IACAE,EAAAF,EACAG,GAAA,EACAV,YAUA,OANAW,EAAAJ,GAAAK,KAAAX,EAAAD,QAAAC,IAAAD,QAAAM,GAGAL,EAAAS,GAAA,EAGAT,EAAAD,QAvBA,IAAAQ,KA4DA,OAhCAF,EAAAO,EAAAF,EAGAL,EAAAQ,EAAAN,EAGAF,EAAAS,EAAA,SAAAf,EAAAgB,EAAAC,GACAX,EAAAY,EAAAlB,EAAAgB,IACAG,OAAAC,eAAApB,EAAAgB,GACAK,cAAA,EACAC,YAAA,EACAC,IAAAN,KAMAX,EAAAkB,EAAA,SAAAvB,GACA,IAAAgB,EAAAhB,KAAAwB,WACA,WAA2B,OAAAxB,EAAA,SAC3B,WAAiC,OAAAA,GAEjC,OADAK,EAAAS,EAAAE,EAAA,IAAAA,GACAA,GAIAX,EAAAY,EAAA,SAAAQ,EAAAC,GAAsD,OAAAR,OAAAS,UAAAC,eAAAjB,KAAAc,EAAAC,IAGtDrB,EAAAwB,EAAA,GAGAxB,IAAAyB,EAAA,qFCxDgBC,WAAT,SAAoBC,GACvB,OAAQA,EAAKC,IAAMC,EAAE,cAAgBF,EAAKC,GAAK,MAAME,OAAUH,EAAKjB,QAQxDqB,eAAT,SAAwBC,EAAKC,QACZ,IAATA,IACPA,MAGJJ,EAAEK,KAAKF,EAAIG,OAAQ,SAAUC,EAAKC,GAC9B,OAAQA,EAAKC,MACT,IAAK,OACL,IAAK,WACDD,EAAKE,MAAQN,EAAKG,IAAQ,GAC1B,MAEJ,IAAK,WACDC,EAAKG,WAAaP,EAAKG,GACvB,MAEJ,IAAK,QACDC,EAAKG,UAAYP,EAAKI,EAAKI,QAAU,MAAQJ,EAAKE,MAClD,MAEJ,IAAK,SACDF,EAAKG,SAAWP,EAAKG,IAAQ,SAY7BM,eAAT,SAAwBV,EAAKC,GAyBhC,YAxBoB,IAATA,IACPA,MAGJJ,EAAEK,KAAKF,EAAIG,OAAQ,SAAUC,EAAKC,GAC9B,OAAQA,EAAKC,MACT,IAAK,OACL,IAAK,WACL,IAAK,SACDL,EAAKG,GAAOC,EAAKM,OAAOb,MACxB,MAEJ,IAAK,WACDG,EAAKG,GAAOC,EAAKM,OAAOC,KAAK,WAC7B,MAEJ,IAAK,QACGP,EAAKM,OAAOC,KAAK,aACjBX,EAAKI,EAAKI,OAASJ,EAAKE,UAMjCN,KAOKY,OAAT,SAAgBC,GAInB,IAHA,IAAIC,EAAM,EACNC,EAAMF,EAGNC,EAAME,KAAKC,IAAIH,EAAKI,SAASH,EAAII,IAAI,WAAY,KAAO,IACxDJ,EAAMA,EAAIK,WACGL,EAAIM,UAAU,YAAYC,QAAQP,EAAIJ,KAAK,YAAYY,gBAAkB,KAI1F,OAAOT,KAQKU,eAAT,SAAwB3B,GAI3B,IAAK,IAAW4B,EAHZC,EAAI7B,EAAI8B,MAAM,OACdC,KAEK1D,EAAI,EAAMuD,EAAIC,EAAExD,GAAIA,IACzBuD,EAAIA,EAAEI,OAAO,GAAGC,cAGhBF,EAAKG,KAAKN,GAGd,OAAOG,kFC7GX,IAAAI,EAAAjE,EAAA,cA4CIkE,SAAU,KAGVC,SAAU,KAGVC,QAAS,QAGTC,UAAU,EAGVC,MAAO,IAIPC,YAAY,EAKZC,qBAAqB,EAGrBC,mBAAmB,EAEnBC,UAAW,GAGXC,YACIC,MAAO,qBACPC,SAAU,wBACVC,QAAS,uBACTC,cAAe,8BAEfC,KAAM,oBACNC,SAAU,yBACVC,QAAS,wBACTC,SAAU,yBACVC,UAAW,0BACXC,WAAY,2BACZC,QAAS,wBACTC,SAAU,yBACVC,iBAAkB,6BAItBC,OAAQ,EAGRC,WACIC,SAAU,GACVC,KAAM,YACNC,KAAM,WAIVC,QACIF,KAAM/D,EAAEkE,KACRF,KAAMhE,EAAEkE,KACRC,UAAWnE,EAAEkE,MAIjBE,SAAU,KAGVC,SAGAC,OAAO,EAEPC,SAGAC,sCAGAC,oBAGAC,qHC5HJvG,EAAA,GAEA,QAAAA,EAAA,SACAA,EAAA,QACAA,EAAA,SACAA,EAAA,KAEAwG,EAAAxG,EAAA,OACAA,EAAA,QACAA,EAAA,KAEMyG,KACAC,KACAC,EAAU,IAAAC,EAAAC,QACVC,EAAa,IAAAC,EAAAF,QAA0BF,GAC7CA,EAAQG,WAAaA,EAErB,IAAME,EAAU,IAAAC,EAAAJ,QAAAK,EAAAL,QAAiCF,EAASG,EAAYL,EAAOC,GAGzES,EAAc,SAAUC,EAAWC,GACnCL,EAAQM,QAAQF,EAAWC,IAG/BF,EAAYH,QAAUA,EACtBG,EAAYpF,eAAZyE,EAAAzE,eACAoF,EAAYzE,eAAZ8D,EAAA9D,eACAyE,EAAYI,SAAZC,EAAAX,QAGAM,EAAYM,SAAZP,EAAAL,QACAM,EAAYf,MAAQc,EAAAL,QAAST,MAG7Be,EAAYO,OAASf,EACrBQ,EAAYQ,GAAKb,EACjBK,EAAYV,MAAQA,EACpBU,EAAYT,WAAaA,EAEzB7E,EAAE+F,GAAGT,YAALU,EAAAhB,QACAhF,EAAEsF,YAAcA,oGCrCAd,kBAAT,SAA2ByB,GAE9B,GAAIjG,EAAEkG,IAAMlG,EAAEkG,GAAGzB,SAGbwB,EAAM1E,IAAI,UAAW,SAASkD,UAC1B0B,GAAI,aACJC,GAAI,gBACJC,GAAInI,KACJoI,OAAQ,MACRC,UAAW,QACZhF,IAAI,UAAW,YACf,CAEH,IAAM+E,EAASpI,KAAKoI,SACpBA,EAAOE,KAAOtI,KAAKuI,cACnBH,EAAOI,MAAQxI,KAAKyI,aAAe,EAAIV,EAAMU,aAAe,EAC5DV,EAAM1E,IAAI+E,OAWF7B,SAAT,SAAkBmC,EAAGzG,EAAK0G,EAAGC,GAChC,IAAMC,EAAU/G,EAAEgH,QACdV,SAEJ,GAAKO,GAAMC,EAAX,CAGO,GAAU,aAAND,GAA0B,aAANC,EAE3BR,EAASnG,EAAI8F,MAAMxB,eAChB,CAEH,IAAMwC,EAAqB9G,EAAI8F,MAAMiB,eAAeZ,SACpDA,GAAUE,IAAKM,EAAIG,EAAmBT,IAAKE,KAAMG,EAAII,EAAmBP,MAI5E,IAAMS,EAASJ,EAAQK,YAAcL,EAAQM,SACvCC,EAAQP,EAAQQ,aAAeR,EAAQS,QACvCH,EAASlH,EAAI8F,MAAMQ,cACnBe,EAAQrH,EAAI8F,MAAMU,aAEpBL,EAAOE,IAAMa,EAASF,IACtBb,EAAOE,KAAOa,GAGdf,EAAOE,IAAM,IACbF,EAAOE,IAAM,GAGbF,EAAOI,KAAOc,EAAQF,IACtBhB,EAAOI,MAAQc,GAGflB,EAAOI,KAAO,IACdJ,EAAOI,KAAO,GAGlBvG,EAAI8F,MAAM1E,IAAI+E,QAjCVnG,EAAIqE,kBAAkB/F,KAAKP,KAAMiC,EAAI8F,UA0C7BvB,gBAAT,SAAyBkC,EAAGX,GAC/B,QAAqB,IAAVA,EAMX,GAAIjG,EAAEkG,IAAMlG,EAAEkG,GAAGzB,SAGbwB,EAAM1E,IAAI,UAAW,SAASkD,UAC1B0B,GAAI,aACJC,GAAI,YACJC,GAAInI,KACJqI,UAAW,gBACZhF,IAAI,UAAW,QACf,CAEH,IAAM+E,GACFE,KAAM,EACNE,KAAMxI,KAAKyI,aAAe,GAE9BV,EAAM1E,IAAI+E,oCC3FX,SAASmB,EAAapD,EAAOqD,EAAWC,GA0K3C,OAzKKA,IACDA,EAAU,GAGdD,EAAUrH,KAAK,WACX,IAAIuH,EAAQ5H,EAAE9B,MACV4B,EAAO5B,KACP2J,EAAW3J,KAAK2J,SAASlG,cACzBmG,SACAtH,SAkBJ,OAfiB,UAAbqH,GAAwBD,EAAMG,KAAK,2BAA2BtG,SAC9DqG,EAAQF,EAAMI,OAGdH,GADA/H,GADA8H,EAAQA,EAAMK,WAAWC,SACZ9I,IAAI,IACDyI,SAASlG,eAWrBkG,GAEJ,IAAK,OACDrH,GAAQ3B,KAAM+I,EAAMO,KAAK,SAAU9D,UACnCsD,EAAUF,EAAajH,EAAK6D,MAAOuD,EAAMK,WAAYN,GACrD,MAIJ,IAAK,IACL,IAAK,SACDnH,GACI3B,KAAM+I,EAAMI,OACZhF,WAAY4E,EAAMO,KAAK,YACvB/D,SACW,WACHwD,EAAMxI,IAAI,GAAGgJ,UAIzB,MAGJ,IAAK,WACL,IAAK,UACD,OAAQR,EAAMO,KAAK,SACf,UAAKE,EACL,IAAK,UACL,IAAK,WACD7H,GACI3B,KAAM+I,EAAMO,KAAK,SACjBnF,WAAY4E,EAAMO,KAAK,YACvBhF,KAAMyE,EAAMO,KAAK,QACjB/D,SACW,WACHwD,EAAMxI,IAAI,GAAGgJ,UAIzB,MAEJ,IAAK,WACD5H,GACIC,KAAM,WACNuC,WAAY4E,EAAMO,KAAK,YACvBtJ,KAAM+I,EAAMO,KAAK,SACjBxH,WAAYiH,EAAMO,KAAK,YAE3B,MACJ,IAAK,QACD3H,GACIC,KAAM,QACNuC,WAAY4E,EAAMO,KAAK,YACvBtJ,KAAM+I,EAAMO,KAAK,SACjBvH,MAAOgH,EAAMO,KAAK,cAClBzH,MAAOkH,EAAMO,KAAK,MAClBxH,WAAYiH,EAAMO,KAAK,YAE3B,MAEJ,QACI3H,OAAO6H,EAEf,MAEJ,IAAK,KACD7H,EAAO,UACP,MAEJ,IAAK,QACD,OAAQoH,EAAMO,KAAK,SACf,IAAK,OACD3H,GACIC,KAAM,OACN5B,KAAMiJ,IAAS,EAAAnD,EAAA9E,YAAWC,GAC1BkD,WAAY4E,EAAMO,KAAK,YACvBzH,MAAOkH,EAAM3H,OAEjB,MAEJ,IAAK,WACDO,GACIC,KAAM,WACN5B,KAAMiJ,IAAS,EAAAnD,EAAA9E,YAAWC,GAC1BkD,WAAY4E,EAAMO,KAAK,YACvBxH,WAAYiH,EAAMO,KAAK,YAE3B,MAEJ,IAAK,QACD3H,GACIC,KAAM,QACN5B,KAAMiJ,IAAS,EAAAnD,EAAA9E,YAAWC,GAC1BkD,WAAY4E,EAAMO,KAAK,YACvBvH,QAASgH,EAAMO,KAAK,QACpBzH,MAAOkH,EAAM3H,MACbU,WAAYiH,EAAMO,KAAK,YAE3B,MAEJ,QACI3H,OAAO6H,EAGf,MAEJ,IAAK,SACD7H,GACIC,KAAM,SACN5B,KAAMiJ,IAAS,EAAAnD,EAAA9E,YAAWC,GAC1BkD,WAAY4E,EAAMO,KAAK,YACvBxH,SAAUiH,EAAM3H,MAChBuF,YAEJoC,EAAMK,WAAW5H,KAAK,WAClBG,EAAKgF,QAAQtH,KAAKwC,OAASV,EAAE9B,MAAM8J,SAEvC,MAEJ,IAAK,WACDxH,GACIC,KAAM,WACN5B,KAAMiJ,IAAS,EAAAnD,EAAA9E,YAAWC,GAC1BkD,WAAY4E,EAAMO,KAAK,YACvBzH,MAAOkH,EAAM3H,OAEjB,MAEJ,IAAK,QACD,MAEJ,QACIO,GAAQC,KAAM,OAAQ6H,KAAMV,EAAMW,OAAM,IAI5C/H,IAEA6D,EAAM,SADNsD,GACyBnH,KAI1BmH,qDA1KKF,yBAmLD,SAAkBe,GAC7B,IACMnE,KAIN,OAFAoD,EAAapD,EAHCrE,EAAEwI,GAGUP,YAEnB5D,GAnMX,IAAAM,EAAAxG,EAAA,oYCAAA,EAAA,IAOqBsK,aACjB,SAAAA,iGAAcC,CAAAxK,KAAAuK,GACVvK,KAAKyK,gBAAkB,KACvBzK,KAAK0K,yDAOEhC,GACPA,EAAEiC,iBACFjC,EAAEkC,+DAOMlC,GACR,IAAMmC,EAAQ/I,EAAE4G,EAAEoC,eASlB,GANuB,UAAnBpC,EAAExG,KAAKmC,UACPqE,EAAEiC,iBACFjC,EAAEkC,8BAIkB,UAAnBlC,EAAExG,KAAKmC,SAA0C,WAAnBqE,EAAExG,KAAKmC,SAAyBqE,EAAEqC,sBAKxC,IAAlBrC,EAAEsC,cAA+BtC,EAAExG,MACjB,SAAnBwG,EAAExG,KAAKmC,SAAwC,IAAlBqE,EAAEsC,aAA2C,UAAnBtC,EAAExG,KAAKmC,SAAyC,IAAlBqE,EAAEsC,cAO7FH,EAAMI,SAAS,wBAIdJ,EAAMI,SAAS,0BAA0B,CAO1C,GADAvC,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAkBI,EACrCnC,EAAExG,KAAKkE,MAAO,CACd,IAAM8E,EAAQxC,EAAExG,KAAKkE,MAAMsC,EAAG1I,KAAKyK,iBAEnC,IAAc,IAAVS,EACA,OAOJ,GAHAxC,EAAExG,KAAOJ,EAAEqJ,QAAO,KAAThE,EAAAL,QAA6B4B,EAAExG,KAAMgJ,QAGzCxC,EAAExG,KAAKiE,OAASrE,EAAEsJ,cAAc1C,EAAExG,KAAKiE,OAMxC,MAJI2C,OAAOuC,UACNA,QAAQC,OAASD,QAAQE,KAAKhL,KAAK8K,QAAS,6CAG3C,IAAIG,MAAM,sBAIpB9C,EAAExG,KAAKuJ,SAAW/C,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAEzC/B,EAAExG,KAAK+E,QAAQF,WAAW2E,OAAOhD,EAAGA,EAAExG,MAE1C,IAAIyJ,GAAW,EACf,IAAK,IAAIrJ,KAAQoG,EAAExG,KAAKiE,MACpB,GAAIuC,EAAExG,KAAKiE,MAAM3E,eAAec,GAAO,EAE/BR,EAAE8J,WAAWlD,EAAExG,KAAKiE,MAAM7D,GAAMyC,SACtB2D,EAAExG,KAAKiE,MAAM7D,GAAMyC,QAAQxE,KAAKmI,EAAG5G,EAAE4G,EAAEoC,eAAgBxI,EAAMoG,EAAExG,WACpC,IAAvBwG,EAAExG,KAAKiE,MAAM7D,KAAyBoG,EAAExG,KAAKiE,MAAM7D,GAAMyC,UAC9B,IAA/B2D,EAAExG,KAAKiE,MAAM7D,GAAMyC,WAK7B4G,GAAW,GAInBA,GAEAjD,EAAExG,KAAK+E,QAAQF,WAAWlB,KAAKtF,KAAKsK,EAAOnC,EAAGA,EAAExG,KAAMwG,EAAEmD,MAAOnD,EAAEoD,sCASvEpD,GACFA,EAAEiC,iBACFjC,EAAEkC,2BACF9I,EAAE9B,MAAMqE,QAAQvC,EAAEiK,MAAM,eAAgB7J,KAAMwG,EAAExG,KAAM2J,MAAOnD,EAAEmD,MAAOC,MAAOpD,EAAEoD,MAAOf,cAAerC,uCAO/FA,GAEN,IAAMmC,EAAQ/I,EAAE9B,MAGZ0I,EAAExG,KAAK+E,QAAQL,QAAQ6D,iBAAmB/B,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAgBlH,SAAWmF,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAgBuB,GAAGnB,IACtInC,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAgBvI,KAAK,eAAe6F,MAAM1D,QAAQvC,EAAEiK,MAAM,eAAgBhB,cAAerC,KAInG,IAAbA,EAAEuD,SACFvD,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAkBI,EAAM3I,KAAK,qBAAqB,oCAQzEwG,GAEJ,IAAMmC,EAAQ/I,EAAE9B,MACZ6K,EAAM3I,KAAK,sBAAwBwG,EAAExG,KAAK+E,QAAQL,QAAQ6D,iBAAmB/B,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAgBlH,QAAUmF,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAgBuB,GAAGnB,KAAWA,EAAMI,SAAS,2BAClMvC,EAAEiC,iBACFjC,EAAEkC,2BACFlC,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAkBI,EACzCA,EAAMxG,QAAQvC,EAAEiK,MAAM,eAAgB7J,KAAMwG,EAAExG,KAAM2J,MAAOnD,EAAEmD,MAAOC,MAAOpD,EAAEoD,MAAOf,cAAerC,MAGvGmC,EAAMqB,WAAW,wDAOVxD,GACP,IAAMmC,EAAQ/I,EAAE9B,MACVmM,EAAWrK,EAAE4G,EAAE0D,eACfC,EAAYvK,EAAEwK,UAGhBH,EAASH,GAAG,uBAAyBG,EAASI,QAAQ,sBAAsBhJ,QAK5EmF,EAAExG,KAAK+E,QAAQL,QAAQ6D,iBAAmB/B,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAgBlH,SAIrFmF,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASmB,MAAQnD,EAAEmD,MAC1CnD,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASoB,MAAQpD,EAAEoD,MAC1CpD,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASxI,KAAOwG,EAAExG,KACzCmK,EAAUG,GAAG,4BAA6B9D,EAAExG,KAAK+E,QAAQL,QAAQ6F,WACjE/D,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASgC,MAAQC,WAAW,WAC/CjE,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASgC,MAAQ,KACxCL,EAAUO,IAAI,6BACdlE,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAkBI,EACzCA,EAAMxG,QAAQvC,EAAEiK,MAAM,eAClB7J,KAAMwG,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASxI,KACtC2J,MAAOnD,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASmB,MACvCC,MAAOpD,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASoB,UAE5CpD,EAAExG,KAAKqC,0CAOJmE,GACNA,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASmB,MAAQnD,EAAEmD,MAC1CnD,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASoB,MAAQpD,EAAEoD,yCAOnCpD,GAEP,IAAMyD,EAAWrK,EAAE4G,EAAE0D,eACrB,IAAID,EAASH,GAAG,wBAAyBG,EAASI,QAAQ,sBAAsBhJ,OAAhF,CAIA,IACIsJ,aAAanE,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASgC,OAC/C,MAAOhE,IAITA,EAAExG,KAAK+E,QAAQL,QAAQ8D,SAASgC,MAAQ,yCAOjChE,GACP,IACIjJ,EADQqC,EAAE9B,MACGkC,KAAK,mBAClB+J,EAASvD,EAAEuD,OACXtD,EAAID,EAAEmD,MACNjD,EAAIF,EAAEoD,MACNgB,SACA1E,SAEJM,EAAEiC,iBAEFgC,WAAW,WACP,IAAI9D,EAAU/G,EAAEgH,QACZiE,EAAmC,SAAjBtN,EAAK4E,SAAiC,IAAX4H,GAAmC,UAAjBxM,EAAK4E,SAAkC,IAAX4H,EAG/F,GAAIK,SAASU,kBAAoBvN,EAAKwN,OAAQ,CAM1C,GALAxN,EAAKwN,OAAOnH,QACZgH,EAASR,SAASU,iBAAiBrE,EAAIE,EAAQQ,aAAcT,EAAIC,EAAQK,cAI9DgE,kBAAmB,CAC1B,IAAMC,EAAQb,SAASc,cACjBC,EAAMvE,OAAOwE,eACnBH,EAAMI,WAAWT,GACjBK,EAAMK,UAAS,GACfH,EAAII,kBACJJ,EAAIK,SAASP,GAEjBrL,EAAEgL,GAAQzI,QAAQqE,GAClBjJ,EAAKwN,OAAOpH,OAGhB,GAAIpG,EAAKgF,qBAAuBsI,GAAgC,OAAftN,EAAKsI,YAAwC,IAAftI,EAAKsI,MAChFtI,EAAKsI,MAAM1D,QAAQ,oBAAqB0G,cAAerC,QAD3D,CAKA,GAAIjJ,EAAK+E,YAAcuI,EACnB,GAAIT,SAASU,kBACT,GAAIvN,EAAKgM,SAASO,GAAGc,GAEjB,YADArN,EAAK8G,SAAShG,KAAKd,EAAKgM,SAAU/C,EAAGjJ,EAAMkJ,EAAGC,OAG/C,CACHR,EAAS3I,EAAKgM,SAASrD,SACvB,IAAMS,EAAU/G,EAAEgH,QAIlB,GADAV,EAAOE,KAAOO,EAAQK,YAClBd,EAAOE,KAAOI,EAAEoD,QAChB1D,EAAOI,MAAQK,EAAQQ,aACnBjB,EAAOI,MAAQE,EAAEmD,QACjBzD,EAAOa,OAASb,EAAOE,IAAM7I,EAAKgM,SAASlD,cACvCH,EAAOa,QAAUP,EAAEoD,QACnB1D,EAAOgB,MAAQhB,EAAOI,KAAO/I,EAAKgM,SAAShD,aACvCL,EAAOgB,OAASV,EAAEmD,SAGlB,YADApM,EAAK8G,SAAShG,KAAKd,EAAKgM,SAAU/C,EAAGjJ,EAAMkJ,EAAGC,GASlEkE,GAAUC,GACVtN,EAAKgM,SAASkC,IAAI,qBAAsB,WACpC7L,EAAEgL,GAAQ1F,aAAauB,EAAGA,EAAGC,EAAGA,EAAGqD,OAAQA,EAAQlB,cAAerC,MAI7D,OAATjJ,QAAiC,IAATA,GAAuC,OAAfA,EAAKsI,YAAwC,IAAftI,EAAKsI,OACnFtI,EAAKsI,MAAM1D,QAAQ,oBAAqB0G,cAAerC,MAE5D,oCAQCA,EAAGzG,GACFA,EAAI2L,SACLlF,EAAEiC,iBAGNjC,EAAEmF,8CAOFnF,GACA,IAAIzG,KAGAyG,EAAExG,KAAK+E,QAAQL,QAAQ6D,kBACvBxI,EAAMyG,EAAExG,KAAK+E,QAAQL,QAAQ6D,gBAAgBvI,KAAK,yBAG5B,IAAfD,EAAIyD,SACXzD,EAAIyD,OAAS,GAEjB,IAWIoI,EAX6B,SAA3BC,EAAqCjB,GACvC,MAA4B,KAAxBA,EAAOkB,MAAMtI,OACNoH,EAAOkB,MAAMtI,OAEQ,OAAxBoH,EAAO9D,mBAAwD,IAAxB8D,EAAO9D,aACvC+E,EAAyBjB,EAAO9D,cACP,OAAzB8D,EAAOmB,oBAA0D,IAAzBnB,EAAOmB,cAC/CF,EAAyBjB,EAAOmB,oBADpC,EAKIF,CAAyBrF,EAAEoE,QAK9C,KAAI7K,EAAI8F,OAAS3E,SAAS0K,EAAc,IAAM1K,SAASnB,EAAI8F,MAAM1E,IAAI,UAAW,KAAhF,CAGA,OAAQqF,EAAEwF,SACN,KAAK,EACL,KAAK,GAGD,GAFAxF,EAAExG,KAAK+E,QAAQL,QAAQuH,QAAQzF,EAAGzG,GAE9BA,EAAI2L,QAAS,CACb,GAAkB,IAAdlF,EAAEwF,SAAiBxF,EAAE0F,SAQrB,OAPA1F,EAAEiC,iBACE1I,EAAIoM,WACJpM,EAAIoM,UAAUxE,KAAK,2BAA2ByE,YAEhC,OAAdrM,EAAI8F,YAAuC,IAAd9F,EAAI8F,OACjC9F,EAAI8F,MAAM1D,QAAQ,eAAgB0G,cAAerC,KAGlD,GAAkB,KAAdA,EAAEwF,SAAiF,aAA/DjM,EAAIoM,UAAUxE,KAAK,2BAA2BhH,KAAK,QAG9E,YADA6F,EAAEiC,sBAGH,GAAkB,IAAdjC,EAAEwF,SAAiBxF,EAAE0F,SAI5B,YAHkB,OAAdnM,EAAI8F,YAAuC,IAAd9F,EAAI8F,OACjC9F,EAAI8F,MAAM1D,QAAQ,eAAgB0G,cAAerC,KAIzD,MAGJ,KAAK,GAED,GADAA,EAAExG,KAAK+E,QAAQL,QAAQuH,QAAQzF,EAAGzG,IAC9BA,EAAI2L,QAmBJ,YAHkB,OAAd3L,EAAI8F,YAAuC,IAAd9F,EAAI8F,OACjC9F,EAAI8F,MAAM1D,QAAQ,eAAgB0G,cAAerC,KAhBrD,GAAkB,IAAdA,EAAEwF,QAQF,OAPAxF,EAAEiC,iBACE1I,EAAIoM,WACJpM,EAAIoM,UAAUxE,KAAK,2BAA2ByE,YAEhC,OAAdrM,EAAI8F,YAAuC,IAAd9F,EAAI8F,OACjC9F,EAAI8F,MAAM1D,QAAQ,eAAgB0G,cAAerC,KAGlD,GAAkB,KAAdA,EAAEwF,SAAiF,aAA/DjM,EAAIoM,UAAUxE,KAAK,2BAA2BhH,KAAK,QAG9E,YADA6F,EAAEiC,iBASV,MAEJ,KAAK,GAED,GADAjC,EAAExG,KAAK+E,QAAQL,QAAQuH,QAAQzF,EAAGzG,GAC9BA,EAAI2L,UAAY3L,EAAIoM,YAAcpM,EAAIoM,UAAU9K,OAChD,MAGJ,IAAKtB,EAAIoM,UAAU/K,SAAS2H,SAAS,qBAAsB,CACvD,IAAMsD,EAAUtM,EAAIoM,UAAU/K,SAASA,SAGvC,OAFArB,EAAIoM,UAAUhK,QAAQ,oBAAqB0G,cAAerC,SAC1DzG,EAAIoM,UAAYE,GAGpB,MAEJ,KAAK,GAED,GADA7F,EAAExG,KAAK+E,QAAQL,QAAQuH,QAAQzF,EAAGzG,GAC9BA,EAAI2L,UAAY3L,EAAIoM,YAAcpM,EAAIoM,UAAU9K,OAChD,MAGJ,IAAMiL,EAAWvM,EAAIoM,UAAUnM,KAAK,mBACpC,GAAIsM,EAASzG,OAAS9F,EAAIoM,UAAUpD,SAAS,wBAIzC,OAHAhJ,EAAIoM,UAAY,KAChBG,EAASH,UAAY,UACrBG,EAASzG,MAAM1D,QAAQ,eAAgB0G,cAAerC,IAG1D,MAEJ,KAAK,GACL,KAAK,GACD,GAAIzG,EAAIoM,WAAapM,EAAIoM,UAAUxE,KAAK,2BAA2BtG,OAC/D,OAEEtB,EAAIoM,WAAapM,EAAIoM,UAAU/K,UAAarB,EAAI8F,OAC7CgC,SAAS,SAAW9H,EAAI2C,WAAWE,SAAW,MAAQ7C,EAAI2C,WAAWI,cAAgB,KAAmB,KAAd0D,EAAEwF,QAAiB,QAAU,UACvH7J,QAAQ,qBAAsB0G,cAAerC,IAClDA,EAAEiC,iBACF,MAER,KAAK,GAED,GADAjC,EAAExG,KAAK+E,QAAQL,QAAQuH,QAAQzF,EAAGzG,GAC9BA,EAAI2L,QAAS,CACb,GAAI3L,EAAIoM,YAAcpM,EAAIoM,UAAUrC,GAAG,oBAEnC,YADAtD,EAAEiC,iBAGN,MAKJ,iBAH6B,IAAlB1I,EAAIoM,WAA+C,OAAlBpM,EAAIoM,WAC5CpM,EAAIoM,UAAUhK,QAAQ,WAAY0G,cAAerC,KAGzD,KAAK,GACL,KAAK,GACL,KAAK,GAGD,YADAA,EAAExG,KAAK+E,QAAQL,QAAQuH,QAAQzF,EAAGzG,GAGtC,KAAK,GAKD,OAJAyG,EAAExG,KAAK+E,QAAQL,QAAQuH,QAAQzF,EAAGzG,QAChB,OAAdA,EAAI8F,YAAuC,IAAd9F,EAAI8F,OACjC9F,EAAI8F,MAAM1D,QAAQ,oBAAqB0G,cAAerC,KAI9D,QACI,IAAM/E,EAAK8K,OAAOC,aAAahG,EAAEwF,SAAUlK,cAC3C,GAAI/B,EAAI0M,YAAc1M,EAAI0M,WAAWhL,GAGjC,YADA1B,EAAI0M,WAAWhL,GAAG+F,MAAMrF,QAAQpC,EAAI0M,WAAWhL,GAAGoE,MAAQ,oBAAsB,WAAYgD,cAAerC,IAOvHA,EAAEmF,uBAC2B,IAAlB5L,EAAIoM,WAA+C,OAAlBpM,EAAIoM,WAC5CpM,EAAIoM,UAAUhK,QAAQqE,qCAQrBA,GACLA,EAAEmF,kBACF,IAAI5L,EAAMH,EAAE9B,MAAMkC,KAAK,mBACjBzC,EAAOqC,EAAE9B,MAAMkC,KAAK,uBAG1B,GAAID,EAAIoM,UAAW,CACf,IAAMO,EAAK3M,EAAIoM,WACfpM,EAAMA,EAAIoM,UAAU/K,SAASpB,KAAK,oBAC9BmM,UAAYO,EAQpB,IALA,IAAMpF,EAAYvH,EAAI8F,MAAMgC,WACxB8E,EAAS5M,EAAIoM,WAAcpM,EAAIoM,UAAUS,OAAOvL,OAA4BtB,EAAIoM,UAAUS,OAAjCtF,EAAUuF,OACjEC,EAASH,EAGRA,EAAM5D,SAASxL,EAAKmF,WAAWE,WAAa+J,EAAM5D,SAASxL,EAAKmF,WAAWI,gBAAkB6J,EAAM7C,GAAG,YAOzG,IALI6C,EADAA,EAAMC,OAAOvL,OACLsL,EAAMC,OAENtF,EAAUuF,QAGZ/C,GAAGgD,GAET,OAKJ/M,EAAIoM,WACJ5O,EAAKwH,QAAQL,QAAQqI,eAAe1O,KAAK0B,EAAIoM,UAAUnN,IAAI,GAAIwH,GAInEjJ,EAAKwH,QAAQL,QAAQsI,eAAe3O,KAAKsO,EAAM3N,IAAI,GAAIwH,GAGvD,IAAM9F,EAASiM,EAAMhF,KAAK,2BACtBjH,EAAOW,QACPX,EAAOuM,yCAQNzG,GACLA,EAAEmF,kBACF,IAAI5L,EAAMH,EAAE9B,MAAMkC,KAAK,mBACnBzC,EAAOqC,EAAE9B,MAAMkC,KAAK,uBAGxB,GAAID,EAAIoM,UAAW,CACf,IAAMO,EAAK3M,EAAIoM,WACfpM,EAAMA,EAAIoM,UAAU/K,SAASpB,KAAK,oBAC9BmM,UAAYO,EAQpB,IALA,IAAMpF,EAAYvH,EAAI8F,MAAMgC,WACxBqF,EAASnN,EAAIoM,WAAcpM,EAAIoM,UAAUgB,OAAO9L,OAA6BtB,EAAIoM,UAAUgB,OAAlC7F,EAAUQ,QACjEgF,EAASI,EAGRA,EAAMnE,SAASxL,EAAKmF,WAAWE,WAAasK,EAAMnE,SAASxL,EAAKmF,WAAWI,gBAAkBoK,EAAMpD,GAAG,YAMzG,IAJIoD,EADAA,EAAMC,OAAO9L,OACL6L,EAAMC,OAEN7F,EAAUQ,SAEZgC,GAAGgD,GAET,OAKJ/M,EAAIoM,WACJ5O,EAAKwH,QAAQL,QAAQqI,eAAe1O,KAAK0B,EAAIoM,UAAUnN,IAAI,GAAIwH,GAInEjJ,EAAKwH,QAAQL,QAAQsI,eAAe3O,KAAK6O,EAAMlO,IAAI,GAAIwH,GAGvD,IAAM9F,EAASwM,EAAMvF,KAAK,2BACtBjH,EAAOW,QACPX,EAAOuM,2CAQJzG,GACP,IAAImC,EAAQ/I,EAAE9B,MAAMuM,QAAQ,sBACxBrK,EAAO2I,EAAM3I,OACbD,EAAMC,EAAKkF,YACX3H,EAAOyC,EAAKoN,gBAEhB7P,EAAK4O,UAAYpM,EAAIoM,UAAYxD,EACjCpL,EAAKmO,QAAU3L,EAAI2L,SAAU,oCAOvBlF,GACN,IACIxG,EADQJ,EAAE9B,MAAMuM,QAAQ,sBACXrK,OACbD,EAAMC,EAAKkF,YACJlF,EAAKoN,gBAEX1B,QAAU3L,EAAI2L,SAAU,yCAOlBlF,GACA5G,EAAE9B,MAAMkC,OAAOoN,gBACrBC,UAAW,yCAOL7G,GACX,IAAIjJ,EAAOqC,EAAE9B,MAAMkC,OAAOoN,gBACtB7P,EAAKwN,QAAUxN,EAAKwN,OAAOjB,GAAGtD,EAAE0D,iBAChC3M,EAAK8P,UAAW,0CAQT7G,GACX,IAAImC,EAAQ/I,EAAE9B,MACVkC,EAAO2I,EAAM3I,OACbD,EAAMC,EAAKkF,YACX3H,EAAOyC,EAAKoN,gBAEhB7P,EAAK8P,UAAW,EAGZ7G,GAAKjJ,EAAKwN,QAAUxN,EAAKwN,OAAOjB,GAAGtD,EAAE0D,iBACrC1D,EAAEiC,iBACFjC,EAAEkC,6BAIL3I,EAAI8F,MAAQ9F,EAAMxC,GAAMsI,MACpBgC,SAAS,IAAMtK,EAAKmF,WAAWC,OAAOR,QAAQ,oBAC9C0F,SAAS,UAAU1F,QAAQ,oBAAqB0G,cAAerC,IAEhEmC,EAAMI,SAASxL,EAAKmF,WAAWE,WAAa+F,EAAMI,SAASxL,EAAKmF,WAAWI,eAC3E/C,EAAIoM,UAAY,KAIpBxD,EAAMxG,QAAQ,qBAAsB0G,cAAerC,2CAOxCA,GACX,IAAImC,EAAQ/I,EAAE9B,MACVkC,EAAO2I,EAAM3I,OACbD,EAAMC,EAAKkF,YACX3H,EAAOyC,EAAKoN,gBAEhB,GAAI7P,IAASwC,GAAOxC,EAAKwN,QAAUxN,EAAKwN,OAAOjB,GAAGtD,EAAE0D,eAOhD,YAN8B,IAAnB3M,EAAK4O,WAAgD,OAAnB5O,EAAK4O,WAC9C5O,EAAK4O,UAAUhK,QAAQ,oBAAqB0G,cAAerC,IAE/DA,EAAEiC,iBACFjC,EAAEkC,gCACFnL,EAAK4O,UAAYpM,EAAIoM,UAAYpM,EAAIyH,OAIrCzH,GAAOA,EAAI8F,OAAS9F,EAAI8F,MAAMkD,SAASxL,EAAKmF,WAAWG,UAI3D8F,EAAMxG,QAAQ,sDAORqE,GACN,IAAImC,EAAQ/I,EAAE9B,MACVkC,EAAO2I,EAAM3I,OACbD,EAAMC,EAAKkF,YACX3H,EAAOyC,EAAKoN,gBACZjN,EAAMH,EAAKsN,eACXtJ,SAGJ,MAAKjE,EAAIkE,MAAM9D,IAAQwI,EAAMmB,GAAG,IAAMvM,EAAKmF,WAAWE,SAAW,+BAAiCrF,EAAKmF,WAAWI,gBAAmB6F,EAAMmB,GAAG,2BAAuD,IAA3BvM,EAAKiF,mBAA/K,CAOA,GAHAgE,EAAEiC,iBACFjC,EAAEkC,2BAEE9I,EAAE8J,WAAW3J,EAAIwN,UAAUpN,KAASvB,OAAOS,UAAUC,eAAejB,KAAK0B,EAAIwN,UAAWpN,GAExF6D,EAAWjE,EAAIwN,UAAUpN,OACtB,KAAIP,EAAE8J,WAAWnM,EAAKyG,UAKzB,OAHAA,EAAWzG,EAAKyG,UAOoC,IAApDA,EAAS3F,KAAKd,EAAKgM,SAAU/C,EAAGrG,EAAKJ,EAAKxC,GAC1CA,EAAKsI,MAAM1D,QAAQ,oBACZ5E,EAAKsI,MAAMzE,SAASC,QAC3B9D,EAAKwH,QAAQF,WAAW2I,OAAOnP,KAAKd,EAAKgM,SAAU/C,EAAGjJ,uCAQnDiJ,GACPA,EAAEkC,4DAQGlC,EAAGxG,GACR,IAAMzC,EAAOqC,EAAE9B,MAAMkC,KAAK,mBAC1BzC,EAAKwH,QAAQF,WAAWjB,KAAKvF,KAAKd,EAAKgM,SAAU/C,EAAGjJ,EAAMyC,GAAQA,EAAKyN,yCAOjEjH,GACNA,EAAEmF,kBACF,IAAMhD,EAAQ/I,EAAE9B,MACVkC,EAAO2I,EAAM3I,OACbD,EAAMC,EAAKkF,YACX3H,EAAOyC,EAAKoN,gBAEdzE,EAAMI,SAASxL,EAAKmF,WAAWE,WAAa+F,EAAMI,SAASxL,EAAKmF,WAAWI,iBAI/E6F,EACK+E,UAAUnQ,EAAKmF,WAAWC,MAAOpF,EAAKmF,WAAWG,SAAS8K,KAAK,MAE/DvM,SAASuG,KAAK,sBAAsBiG,IAAIjF,GACxCkF,YAAYtQ,EAAKmF,WAAWG,SAC5BiL,OAAO,IAAMvQ,EAAKmF,WAAWC,OAC7BR,QAAQ,oBAGbpC,EAAIoM,UAAY5O,EAAK4O,UAAYxD,EAE7B5I,GAAOA,EAAIyH,OAASzH,EAAIyH,MAAMuB,SAAS,yBACvChJ,EAAIyH,MAAMkG,SAASnQ,EAAKmF,WAAWC,OAInC5C,EAAIyH,OACJjK,EAAK+G,gBAAgBjG,KAAK0B,EAAIyH,MAAOhB,EAAGzG,EAAI8F,yCAQ3CW,GACLA,EAAEmF,kBACF,IAAMhD,EAAQ/I,EAAE9B,MACVkC,EAAO2I,EAAM3I,OACbD,EAAMC,EAAKkF,YACX3H,EAAOyC,EAAKoN,gBAEd7P,EAAK6E,UACLuG,EAAMkF,YAAYtQ,EAAKmF,WAAWG,SAEtC8F,EAAMkF,YAAYtQ,EAAKmF,WAAWC,OAClC5C,EAAIoM,UAAY,wBAtxBH9D,0UC2CA0F,aAQjB,SAAAA,EAAYvI,EAAUd,EAASG,EAAYL,EAAOC,gGAAY6D,CAAAxK,KAAAiQ,GAC1DjQ,KAAK0H,SAAWA,EAChB1H,KAAK4G,QAAUA,EACf5G,KAAK+G,WAAaA,EAClB/G,KAAK2G,WAAaA,EAClB3G,KAAKkQ,aAAc,EACnBlQ,KAAK0G,MAAQA,EACb1G,KAAKyJ,QAAU,4CAQXpC,EAAWC,GAAS,IAAA6I,EAAAnQ,KACC,iBAAdqH,IACPC,EAAUD,EACVA,EAAY,UAGO,iBAAZC,EACPA,GAAWnD,SAAUmD,QACK,IAAZA,IACdA,MAIJ,IAAMzG,EAAIiB,EAAEqJ,QAAO,GAAOlE,QAASjH,MAAOA,KAAK0H,SAAUJ,OACnD+E,EAAYvK,EAAEwK,UAChB8D,EAAW/D,EACXgE,GAAc,EAWlB,OATKxP,EAAEyP,SAAYzP,EAAEyP,QAAQ/M,QAIzB6M,EAAWtO,EAAEjB,EAAEyP,SAAStG,QACxBnJ,EAAEyP,QAAUF,EAASlP,IAAI,GACzBmP,GAAevO,EAAEjB,EAAEyP,SAAStE,GAAGlK,EAAEwK,YALjCzL,EAAEyP,QAAUhE,SAQRjF,GACJ,IAAK,SAED,GAAIgJ,EACArQ,KAAK+G,WAAW2I,OAAO,KAAMU,QAE7B,IAAK,IAAIG,KAAQvQ,KAAK0G,MACd1G,KAAK0G,MAAMlF,eAAe+O,IAC1BvQ,KAAK+G,WAAW2I,OAAO,KAAM1P,KAAK0G,MAAM6J,IAIpD,MAEJ,IAAK,SAED,IAAK1P,EAAEsD,SACH,MAAM,IAAIqH,MAAM,yBAGpB,GAAI3K,EAAEsD,SAASqM,MAAM,yCACjB,MAAM,IAAIhF,MAAM,4BAA8B3K,EAAEsD,SAAW,yCAE/D,IAAKtD,EAAEuF,SAAWvF,EAAEsF,OAASrE,EAAEsJ,cAAcvK,EAAEsF,QAC3C,MAAM,IAAIqF,MAAM,sBAcpB,GAZAxL,KAAKyJ,UACL5I,EAAE4P,GAAK,eAAiBzQ,KAAKyJ,QACxB4G,IACDrQ,KAAK2G,WAAW9F,EAAEsD,UAAYtD,EAAE4P,IAEpCzQ,KAAK0G,MAAM7F,EAAE4P,IAAM5P,EAGdA,EAAEwD,UACHxD,EAAEwD,QAAU,UAGXrE,KAAKkQ,YAAa,CACnB,IAAMQ,EAAiC,UAArB7P,EAAE8P,eAA6B,oBAAsB,sBACjEC,GAGFC,gCAAiC7Q,KAAK4G,QAAQkK,UAC9CC,+BAAgC/Q,KAAK4G,QAAQoK,SAC7CC,0BAA2BjR,KAAK4G,QAAQsK,WACxCC,yBAA0BnR,KAAK4G,QAAQsI,eACvCkC,yBAA0BpR,KAAK4G,QAAQqI,gBAE3C2B,EAAmBF,GAAa1Q,KAAK4G,QAAQ8J,UAG7CrE,EACKG,IACG6E,+BAAgCrR,KAAK4G,QAAQ0K,SAC7CC,0BAA2BvR,KAAK4G,QAAQ4K,SACxCC,0BAA2BzR,KAAK4G,QAAQ8K,SACxCT,0BAA2BjR,KAAK4G,QAAQsK,WACxCC,yBAA0BnR,KAAK4G,QAAQ+K,eACvCP,yBAA0BpR,KAAK4G,QAAQgL,gBACxC,sBACFpF,GAAG,sBAAuB,sBAAuBxM,KAAK4G,QAAQiL,YAC9DrF,GAAGoE,EAAoB,sBAE5B5Q,KAAKkQ,aAAc,EAcvB,OAVAE,EACK5D,GAAG,cAAgB3L,EAAE4P,GAAI5P,EAAEsD,SAAUtD,EAAGb,KAAK4G,QAAQkL,aAEtDzB,GAEAD,EAAS5D,GAAG,SAAW3L,EAAE4P,GAAI,WACzB3O,EAAE9B,MAAMoH,YAAY,aAIpBvG,EAAEwD,SACN,IAAK,QACD+L,EACK5D,GAAG,aAAe3L,EAAE4P,GAAI5P,EAAEsD,SAAUtD,EAAGb,KAAK4G,QAAQmL,YACpDvF,GAAG,aAAe3L,EAAE4P,GAAI5P,EAAEsD,SAAUtD,EAAGb,KAAK4G,QAAQoL,YACzD,MAEJ,IAAK,OACD5B,EAAS5D,GAAG,QAAU3L,EAAE4P,GAAI5P,EAAEsD,SAAUtD,EAAGb,KAAK4G,QAAQsD,OACxD,MACJ,IAAK,aACDkG,EAAS5D,GAAG,aAAe3L,EAAE4P,GAAI5P,EAAEsD,SAAUtD,EAAGb,KAAK4G,QAAQsD,OAahErJ,EAAEuF,OACHpG,KAAK+G,WAAW2E,OAAO,KAAM7K,GAEjC,MAEJ,IAAK,UACD,IAAIoR,SACJ,GAAI5B,EAAa,CAEb,IAAMC,EAAUzP,EAAEyP,QAElBxP,OAAOgD,KAAK9D,KAAK0G,OAAOwL,QAAQ,SAACzB,GAC7B,IAAI5P,EAAIsP,EAAKzJ,MAAM+J,GAEnB,OAAK5P,KAKAiB,EAAEwO,GAAStE,GAAGnL,EAAEsD,aAIrB8N,EAAenQ,EAAE,sBAAsBkO,OAAO,aAC7BzM,QAAU0O,EAAa/P,OAAOoN,gBAAgB7D,SAASO,GAAGlK,EAAEjB,EAAEyP,SAASzG,KAAKhJ,EAAEsD,YAC3F8N,EAAa5N,QAAQ,oBAAqBsL,OAAO,IAGjDQ,EAAKzJ,MAAM7F,EAAE4P,IAAI1I,OACjBoI,EAAKzJ,MAAM7F,EAAE4P,IAAI1I,MAAMoK,gBAEpBhC,EAAKzJ,MAAM7F,EAAE4P,IAEpB3O,EAAEjB,EAAEyP,SAAS1D,IAAI/L,EAAE4P,KAEZ,WAEH5P,EAAEsD,SAcHnE,KAAK2G,WAAW9F,EAAEsD,aACzB8N,EAAenQ,EAAE,sBAAsBkO,OAAO,aAC7BzM,QAAU0O,EAAa/P,OAAOoN,gBAAgB7D,SAASO,GAAGnL,EAAEsD,WACzE8N,EAAa5N,QAAQ,oBAAqBsL,OAAO,IAGjD3P,KAAK0G,MAAM1G,KAAK2G,WAAW9F,EAAEsD,WAAW4D,OACxC/H,KAAK0G,MAAM1G,KAAK2G,WAAW9F,EAAEsD,WAAW4D,MAAMoK,gBAE3CnS,KAAK0G,MAAM1G,KAAK2G,WAAW9F,EAAEsD,WAEpCkI,EAAUO,IAAI5M,KAAK2G,WAAW9F,EAAEsD,aAxBhCkI,EAAUO,IAAI,qCAEd9L,OAAOgD,KAAK9D,KAAK0G,OAAOwL,QAAQ,SAACzB,GAC7B,IAAI5P,EAAIsP,EAAKzJ,MAAM+J,GACnB3O,EAAEjB,EAAEyP,SAAS1D,IAAI/L,EAAE4P,MAGvBzQ,KAAK2G,cACL3G,KAAK0G,SACL1G,KAAKyJ,QAAU,EACfzJ,KAAKkQ,aAAc,EAEnBpO,EAAE,2CAA2CqQ,UAcjD,MAEJ,IAAK,UAIKrQ,EAAEsQ,QAAQC,cAAgBvQ,EAAEsQ,QAAQE,cAAqC,kBAAZhL,GAAyBA,IACxFxF,EAAE,wBAAwBK,KAAK,WACvBnC,KAAK6B,IACLC,EAAEsF,aACEjD,SAAU,gBAAkBnE,KAAK6B,GAAK,IACtCsE,MAAOrE,EAAEsF,YAAYI,SAASxH,UAGvCqD,IAAI,UAAW,QAEtB,MAEJ,QACI,MAAM,IAAImI,MAAM,sBAAwBnE,EAAY,KAG5D,OAAOrH,wBA9OMiQ,shBClDrBxJ,EAAAxG,EAAA,GAKqBsS,aAIjB,SAAAA,EAAY3L,gGAAS4D,CAAAxK,KAAAuS,GACjBvS,KAAK2H,OAASf,yCASb8B,EAAGzG,EAAK0G,EAAGC,GACZ,IAAM6C,EAAW3J,EAAE9B,MACbqD,KASN,GANAvB,EAAE,uBAAuBuC,QAAQ,aAGjCpC,EAAIwJ,SAAWA,GAG6B,IAAxCxJ,EAAI8D,OAAOF,KAAKtF,KAAKkL,EAAUxJ,GAAnC,CAYA,GANAA,EAAIgF,QAAQF,WAAW2I,OAAOnP,KAAKkL,EAAU/C,EAAGzG,GAGhDA,EAAIsE,SAAShG,KAAKkL,EAAU/C,EAAGzG,EAAK0G,EAAGC,GAGnC3G,EAAIyD,OAAQ,CACZ,IAAI8M,EAAmBvQ,EAAIyD,OAED,mBAAfzD,EAAIyD,SACX8M,EAAmBvQ,EAAIyD,OAAOnF,KAAKkL,EAAUxJ,IAEjDoB,EAAIqC,QAAS,EAAAe,EAAA3D,QAAO2I,GAAY+G,EAIpCvQ,EAAIgF,QAAQF,WAAW0L,MAAMlS,KAAK0B,EAAI8F,MAAOW,EAAGzG,EAAKoB,EAAIqC,QAGzDzD,EAAI8F,MAAM8B,KAAK,MAAMxG,IAAI,SAAUA,EAAIqC,OAAS,GAGhDzD,EAAI8F,MAAM1E,IAAIA,GAAKpB,EAAI0D,UAAUE,MAAM5D,EAAI0D,UAAUC,SAAU,WAC3D6F,EAASpH,QAAQ,uBAEjBpC,EAAIgF,QAAQF,WAAWd,UAAUyC,EAAGzG,GACpCA,EAAI8D,OAAOE,UAAUyC,EAAGzG,KAG5BwJ,EACKvJ,KAAK,cAAeD,GACpB2N,SAAS,uBAGd9N,EAAEwK,UAAUM,IAAI,uBAAuBJ,GAAG,sBAAuBvK,EAAKA,EAAIgF,QAAQL,QAAQvE,KAEtFJ,EAAIqC,UAEJxC,EAAEwK,UAAUE,GAAG,gCAAiC,SAAU9D,GAGtD,IAAMgK,EAAMjH,EAASrD,SACrBsK,EAAItJ,MAAQsJ,EAAIlK,KAAOiD,EAAShD,aAChCiK,EAAIzJ,OAASyJ,EAAIpK,IAAMmD,EAASlD,eAE5BtG,EAAIgL,QAAWhL,EAAIsN,UAAe7G,EAAEmD,OAAS6G,EAAIlK,MAAQE,EAAEmD,OAAS6G,EAAItJ,OAAYV,EAAEoD,OAAS4G,EAAIpK,KAAOI,EAAEoD,OAAS4G,EAAIzJ,QAEzH0D,WAAW,WACF1K,EAAIsN,UAA0B,OAAdtN,EAAI8F,YAAuC,IAAd9F,EAAI8F,OAClD9F,EAAI8F,MAAM1D,QAAQ,qBAEvB,WAxDXpC,EAAIgF,QAAQL,QAAQ6D,gBAAkB,kCAmEzC/B,EAAGzG,EAAK0N,GACT,IAAMlE,EAAW3J,EAAE9B,MACnB,GAAmB,iBAAf,IAAOiC,EAAP,YAAA0Q,EAAO1Q,KAAoBwJ,EAASvJ,KAAK,eACzCD,EAAMwJ,EAASvJ,KAAK,oBACjB,GAAmB,iBAAf,IAAOD,EAAP,YAAA0Q,EAAO1Q,IACd,OAIJ,GAAK0N,IAAS1N,EAAI8D,SAAqD,IAA3C9D,EAAI8D,OAAOD,KAAKvF,KAAKkL,EAAU/C,EAAGzG,GAA9D,CASA,GAJAwJ,EACKS,WAAW,eACX6D,YAAY,uBAEb9N,EAAIgL,OAAQ,CAEZN,WAAY,SAAUM,GAClB,OAAO,WACHA,EAAOkF,UAFH,CAITlQ,EAAIgL,QAAS,IAEhB,WACWhL,EAAIgL,OACb,MAAOvE,GACLzG,EAAIgL,OAAS,MAKrBhL,EAAIgF,QAAQL,QAAQ6D,gBAAkB,KAEtCxI,EAAI8F,MAAM8B,KAAK,IAAM5H,EAAI2C,WAAWC,OAAOR,QAAQ,oBACnDpC,EAAIoM,UAAY,KAEhBpM,EAAI8F,MAAM8B,KAAK,IAAM5H,EAAI2C,WAAWG,SAASgL,YAAY9N,EAAI2C,WAAWG,SAExEjD,EAAEwK,UAAUM,IAAI,wBAAwBA,IAAI,uBAExC3K,EAAI8F,OACJ9F,EAAI8F,MAAM9F,EAAI0D,UAAUG,MAAM7D,EAAI0D,UAAUC,SAAU,WAE9C3D,EAAImE,QACJnE,EAAI8F,MAAMoK,SACVrR,OAAOgD,KAAK7B,GAAKiQ,QAAQ,SAAC7P,GACtB,OAAQA,GACJ,IAAK,KACL,IAAK,WACL,IAAK,QACL,IAAK,UACD,OAAO,EAEX,QACIJ,EAAII,QAAO8H,EACX,WACWlI,EAAII,GACb,MAAOqG,IAET,OAAO,MAKvBiE,WAAW,WACPlB,EAASpH,QAAQ,uBAClB,sCAURqE,EAAGzG,EAAKxC,GAsBX,SAASmT,EAAetQ,GACpB,IAAMuQ,EAAQ/Q,EAAE,iBAChB,GAAIQ,EAAKwQ,WACDxQ,EAAKyQ,kBACLF,EAAMG,OAAO1G,SAAS2G,eAAe3Q,EAAKyQ,mBAE9CjR,EAAE,iBACG8N,SAAS,0BACT9F,KAAKxH,EAAKwQ,YACV1O,SAASyO,GACVvQ,EAAK4Q,iBACLL,EAAMG,OAAO1G,SAAS2G,eAAe3Q,EAAK4Q,uBAG9C,GAAI5Q,EAAK6Q,WAAY,CAEjB,QAA8B,IAAnB7Q,EAAK8Q,UACZ,MAAM,IAAI5H,MAAM,8FAEpBqH,EAAMzI,KAAK9H,EAAK3B,WAEhBkS,EAAM/I,KAAKxH,EAAK3B,MAGxB,OAAOkS,OA7CS,IAATpT,IACPA,EAAOwC,GAIXA,EAAI8F,MAAQjG,EAAE,uCAAuC8N,SAAS3N,EAAI0C,WAAa,IAAIzC,MAC/EkF,YAAenF,EACfqN,gBAAmB7P,IAGvBqC,EAAEK,MAAM,YAAa,WAAY,UAAW,SAAU/B,EAAGuD,GACrD1B,EAAI0B,MACClE,EAAKkE,KACNlE,EAAKkE,SAIRlE,EAAKkP,aACNlP,EAAKkP,eAgCT7M,EAAEK,KAAKF,EAAIkE,MAAO,SAAU9D,EAAKC,GAC7B,IAAIS,EAAKjB,EAAE,uCAAuC8N,SAAStN,EAAKqC,WAAa,IACzE0O,EAAS,KACTzQ,EAAS,KAqBb,GAjBAG,EAAGyJ,GAAG,QAAS1K,EAAEkE,MAKG,iBAAT1D,GAAmC,iBAAdA,EAAKC,OACjCD,GAAQC,KAAM,iBAGlBD,EAAKoH,MAAQ3G,EAAGb,MACZkF,YAAenF,EACfqN,gBAAmB7P,EACnB+P,eAAkBnN,SAKQ,IAAnBC,EAAK8Q,UAEZ,IAAK,IAAWE,EADVC,GAAM,EAAA9M,EAAA/C,gBAAepB,EAAK8Q,WACvBhT,EAAI,EAAOkT,EAAKC,EAAInT,GAAIA,IAC7B,IAAKX,EAAKkP,WAAW2E,GAAK,CACtB7T,EAAKkP,WAAW2E,GAAMhR,EACtB,IAAMkR,EAAUlR,EAAK3B,KAAK6P,MAAM,IAAIiD,OAAO,UAAYH,EAAK,SAAU,MAClEE,IACAlR,EAAKyQ,iBAAmBS,EAAQ,GAChClR,EAAKwQ,WAAaU,EAAQ,GAC1BlR,EAAK4Q,gBAAkBM,EAAQ,IAEnC,MAKZ,GAAIlR,EAAKC,MAAQ9C,EAAK4G,MAAM/D,EAAKC,MAE7B9C,EAAK4G,MAAM/D,EAAKC,MAAMhC,KAAKwC,EAAIT,EAAML,EAAKxC,GAE1CqC,EAAEK,MAAMF,EAAKxC,GAAO,SAAUW,EAAGuD,GAC7BA,EAAE+P,SAASrR,GAAOC,GAGdR,EAAE8J,WAAWtJ,EAAK4D,gBAA0C,IAArBvC,EAAE8L,UAAUpN,SAA4C,IAAbJ,EAAIM,OACtFoB,EAAE8L,UAAUpN,GAAOC,EAAK4D,gBAG7B,CAoBH,OAlBkB,iBAAd5D,EAAKC,KACLQ,EAAG6M,SAAS,0BAA4BnQ,EAAKmF,WAAWI,eACnC,SAAd1C,EAAKC,KACZQ,EAAG6M,SAAS,qBAAuBnQ,EAAKmF,WAAWI,eAC5C1C,EAAKC,MAAsB,QAAdD,EAAKC,MACzB8Q,EAASvR,EAAE,mBAAmBsC,SAASrB,GACvC6P,EAAetQ,GAAM8B,SAASiP,GAE9BtQ,EAAG6M,SAAS,sBACZ3N,EAAI0R,UAAW,EACf7R,EAAEK,MAAMF,EAAKxC,GAAO,SAAUW,EAAGuD,GAC7BA,EAAE+P,SAASrR,GAAOC,EAClBqB,EAAEvB,OAAOC,GAAOC,KAEbA,EAAK6D,QACZ7D,EAAKC,KAAO,OAGRD,EAAKC,MACT,IAAK,eACD,MAEJ,IAAK,OACDK,EAASd,EAAE,2CACNmI,KAAK,OAAQ,sBAAwB5H,GACrCN,IAAIO,EAAKE,OAAS,IAClB4B,SAASiP,GACd,MAEJ,IAAK,WACDzQ,EAASd,EAAE,iCACNmI,KAAK,OAAQ,sBAAwB5H,GACrCN,IAAIO,EAAKE,OAAS,IAClB4B,SAASiP,GAEV/Q,EAAK6G,QACLvG,EAAOuG,OAAO7G,EAAK6G,QAEvB,MAEJ,IAAK,WACDvG,EAASd,EAAE,+CACNmI,KAAK,OAAQ,sBAAwB5H,GACrCN,IAAIO,EAAKE,OAAS,IAClBK,KAAK,YAAaP,EAAKG,UACvBmR,UAAUP,GACf,MAEJ,IAAK,QACDzQ,EAASd,EAAE,4CACNmI,KAAK,OAAQ,sBAAwB3H,EAAKI,OAC1CX,IAAIO,EAAKE,OAAS,IAClBK,KAAK,YAAaP,EAAKG,UACvBmR,UAAUP,GACf,MAEJ,IAAK,SACDzQ,EAASd,EAAE,6BACNmI,KAAK,OAAQ,sBAAwB5H,GACrC+B,SAASiP,GACV/Q,EAAKgF,UACLxF,EAAEK,KAAKG,EAAKgF,QAAS,SAAU9E,EAAOsH,GAClChI,EAAE,qBAAqBC,IAAIS,GAAOsH,KAAKA,GAAM1F,SAASxB,KAE1DA,EAAOb,IAAIO,EAAKG,WAEpB,MAEJ,IAAK,MACDmQ,EAAetQ,GAAM8B,SAASrB,GAC9BT,EAAK8B,SAAW9B,EAAKoH,MACrB3G,EAAGb,KAAK,cAAeI,GAAMsN,SAAS,wBACtCtN,EAAK4D,SAAW,KAKe,mBAApB5D,EAAK6D,MAAM0N,KAElBpU,EAAKwH,QAAQF,WAAW+M,gBAAgBpL,EAAGpG,EAAM7C,EAAM6C,EAAK6D,OAG5D1G,EAAKwH,QAAQF,WAAW2E,OAAOhD,EAAGpG,EAAM7C,GAE5C,MAEJ,IAAK,OACDqC,EAAEQ,EAAK8H,MAAMhG,SAASrB,GACtB,MAEJ,QACIjB,EAAEK,MAAMF,EAAKxC,GAAO,SAAUW,EAAGuD,GAC7BA,EAAE+P,SAASrR,GAAOC,GAGdR,EAAE8J,WAAWtJ,EAAK4D,gBAA0C,IAArBvC,EAAE8L,UAAUpN,SAA4C,IAAbJ,EAAIM,OACtFoB,EAAE8L,UAAUpN,GAAOC,EAAK4D,YAGhC0M,EAAetQ,GAAM8B,SAASrB,GAKlCT,EAAKC,MAAsB,QAAdD,EAAKC,MAAgC,SAAdD,EAAKC,MAAiC,iBAAdD,EAAKC,OACjEK,EACK4J,GAAG,QAAS/M,EAAKwH,QAAQL,QAAQmN,YACjCvH,GAAG,OAAQ/M,EAAKwH,QAAQL,QAAQoN,WAEjC1R,EAAKyD,QACLnD,EAAO4J,GAAGlK,EAAKyD,OAAQ9D,IAK3BK,EAAK2C,OACDnD,EAAE8J,WAAWtJ,EAAK2C,MAClB3C,EAAK2R,MAAQ3R,EAAK2C,KAAK1E,KAAKP,KAAMA,KAAM+C,EAAIV,EAAKC,GAEtB,iBAAfA,EAAK2C,MAAoD,QAA9B3C,EAAK2C,KAAKiP,UAAU,EAAG,GAE1D5R,EAAK2R,MAAQxU,EAAKmF,WAAWK,KAAO,IAAMxF,EAAKmF,WAAWK,KAAO,WAAa3C,EAAK2C,KAEnF3C,EAAK2R,MAAQxU,EAAKmF,WAAWK,KAAO,IAAMxF,EAAKmF,WAAWK,KAAO,IAAM3C,EAAK2C,KAGpFlC,EAAG6M,SAAStN,EAAK2R,QAKzB3R,EAAKM,OAASA,EACdN,EAAK+Q,OAASA,EAGdtQ,EAAGqB,SAASnC,EAAI8F,QAGX9F,EAAI0R,UAAY7R,EAAEsQ,QAAQ+B,kBAI3BpR,EAAGyJ,GAAG,gCAAiCvK,EAAIgF,QAAQL,QAAQsK,cAI9DjP,EAAIyH,OACLzH,EAAI8F,MAAM1E,IAAI,UAAW,QAAQuM,SAAS,qBAE9C3N,EAAI8F,MAAM3D,SAASnC,EAAImC,UAAYkI,SAAS8H,qCAQzC1L,EAAGX,EAAOsM,GACb,IAAIC,SAMJvM,EAAM1E,KAAKkD,SAAU,WAAYgO,QAAS,UAE1CxM,EAAM7F,KAAK,SACNoS,EAAUvM,EAAM7G,IAAI,IAAIsT,sBACnBtR,KAAKuR,KAAKH,EAAQE,wBAAwBlL,OAC1CvB,EAAMU,aAAe,GAE/BV,EAAM1E,KACFkD,SAAU,SACVmO,SAAU,MACVC,SAAU,aAGd5M,EAAM8B,KAAK,aAAa1H,KAAK,SAACyS,EAAOtK,GACjC5B,EAAExG,KAAK+E,QAAQF,WAAW8N,OAAOnM,EAAG5G,EAAEwI,IAAU,KAI/C+J,GACDtM,EAAM8B,KAAK,MAAMiL,UAAUzR,KACvBkD,SAAU,GACVgO,QAAS,GACTG,SAAU,GACVC,SAAU,KACXlM,WAAW,WACV,OAAO3G,EAAE9B,MAAMkC,KAAK,0CAUzBwG,EAAGzG,EAAKxC,GACX,IAAMgM,EAAWzL,UACG,IAATP,IACPA,EAAOwC,GACFgF,QAAQF,WAAW8N,OAAOnM,EAAGzG,EAAI8F,OAG1C9F,EAAI8F,MAAMgC,WAAW5H,KAAK,SAAUyS,EAAOtK,GACvC,IAAIyK,EAAQjT,EAAEwI,GACVjI,EAAM0S,EAAM7S,KAAK,kBACjBI,EAAOL,EAAIkE,MAAM9D,GACjByC,EAAYhD,EAAE8J,WAAWtJ,EAAKwC,WAAaxC,EAAKwC,SAASvE,KAAKkL,EAAU/C,EAAGrG,EAAKJ,EAAKxC,KAA4B,IAAlB6C,EAAKwC,SACpGC,SAoBJ,GAjBIA,EADAjD,EAAE8J,WAAWtJ,EAAKyC,SACRzC,EAAKyC,QAAQxE,KAAKkL,EAAU/C,EAAGrG,EAAK5C,QACf,IAAjB6C,EAAKyC,UACQ,IAAjBzC,EAAKyC,QAInBgQ,EAAMhQ,EAAU,OAAS,UAGzBgQ,EAAMjQ,EAAW,WAAa,eAAerF,EAAKmF,WAAWE,UAEzDhD,EAAE8J,WAAWtJ,EAAK2C,QAClB8P,EAAMhF,YAAYzN,EAAK2R,OACvB3R,EAAK2R,MAAQ3R,EAAK2C,KAAK1E,KAAKP,KAAMyL,EAAUsJ,EAAO1S,EAAKC,GACxDyS,EAAMnF,SAAStN,EAAK2R,QAGpB3R,EAAKC,KAKL,OAHAwS,EAAMlL,KAAK,2BAA2BhH,KAAK,WAAYiC,GAG/CxC,EAAKC,MACT,IAAK,OACL,IAAK,WACDD,EAAKM,OAAOb,IAAIO,EAAKE,OAAS,IAC9B,MAEJ,IAAK,WACL,IAAK,QACDF,EAAKM,OAAOb,IAAIO,EAAKE,OAAS,IAAIK,KAAK,YAAaP,EAAKG,UACzD,MAEJ,IAAK,SACDH,EAAKM,OAAOb,KAAuB,IAAlBO,EAAKG,SAAiB,IAAMH,EAAKG,WAAa,IAKvEH,EAAKyF,OAELtI,EAAKwH,QAAQF,WAAW2I,OAAOnP,KAAKkL,EAAU/C,EAAGpG,EAAM7C,mCAW7DiJ,EAAGzG,EAAKyD,GACV,IAAMmD,EAAU/G,EAAEgH,QAIZmE,EAAShL,EAAIgL,OAASnL,EAAE,uCACzBuB,KACG8F,OAAQN,EAAQM,SAChBG,MAAOT,EAAQS,QACfiL,QAAS,QACThO,SAAU,QACVyO,UAAWtP,EACX4C,IAAK,EACLE,KAAM,EACNyM,QAAS,EACTjF,OAAQ,mBACRkF,mBAAoB,SAEvBhT,KAAK,kBAAmBD,GACxBkT,aAAanV,MACbwM,GAAG,cAAevK,EAAIgF,QAAQL,QAAQsK,YACtC1E,GAAG,YAAavK,EAAIgF,QAAQL,QAAQwO,YAUzC,YAP4C,IAAjC9I,SAAS8H,KAAKpG,MAAM2G,UAC3B1H,EAAO5J,KACHkD,SAAY,WACZ4C,OAAUrH,EAAEwK,UAAUnD,WAIvB8D,0CASKvE,EAAGzG,EAAKxC,EAAM4V,GAI1B,SAASC,EAAqBrT,EAAKxC,EAAM0G,QACX,IAAf1G,EAAKsI,OAA0BtI,EAAKsI,MAAMiE,GAAG,cAGxD/J,EAAIyH,MAAMqG,YAAYtQ,EAAKmF,WAAWa,kBACtCxD,EAAIkE,MAAQA,EACZ1G,EAAKwH,QAAQF,WAAW2E,OAAOhD,EAAGzG,EAAKxC,GACvCA,EAAKwH,QAAQF,WAAW2I,OAAOhH,EAAGzG,EAAKxC,GACvCA,EAAK+G,gBAAgBjG,KAAK0B,EAAIyH,MAAOhB,EAAGzG,EAAI8F,QAGhD,SAASwN,EAAatT,EAAKxC,EAAM+V,QAEJ,IAAdA,GACPA,GACIlK,OACI3K,KAAM,6BACNsE,KAAM,6CAGV6D,OAAOuC,UACNA,QAAQC,OAASD,QAAQE,KAAKhL,KAAK8K,QAAS,yFAErB,iBAAdmK,IACdA,GAAalK,OAAU3K,KAAM6U,KAEjCF,EAAqBrT,EAAKxC,EAAM+V,GA5BpCvT,EAAIyH,MAAMkG,SAASnQ,EAAKmF,WAAWa,kBA2CnC4P,EAAQxB,KAZR,SAA0B5R,EAAKxC,EAAM0G,QAGZ,IAAVA,GAEPoP,OAAapL,GAEjBmL,EAAqBrT,EAAKxC,EAAM0G,IAKNsP,KAAKzV,KAAMiC,EAAKxC,GAAO8V,EAAaE,KAAKzV,KAAMiC,EAAKxC,sCAQ5EiJ,EAAGzG,GACT,IAAM8F,EAAQ9F,EAAI8F,MACZ2N,EAAc3N,EAAMK,SACpBuN,EAAY7T,EAAEgH,QAAQK,SACtByM,EAAe9T,EAAEgH,QAAQI,YACzB2M,EAAa9N,EAAMoB,SACrB0M,EAAaF,EACb5N,EAAM1E,KACF8F,OAAUwM,EAAY,KACtBG,aAAc,SACdC,aAAc,OACdzN,IAAOsN,EAAe,QAElBF,EAAYpN,IAAMsN,GAAkBF,EAAYpN,IAAMuN,EAAaD,EAAeD,IAC1F5N,EAAM1E,KACFiF,IAAO,2BA3oBFiK,2FCDN,SAAUlL,GACrB,IAAMtE,EAAK/C,KACLgW,EAAK3O,EACX,GAAItE,EAAGQ,OAAS,EACZ,QAAyB,IAAd8D,EACPtE,EAAGiH,QAAQ3F,QAAQ,oBAChB,QAA2B,IAAhBgD,EAAUsB,QAA4C,IAAhBtB,EAAUuB,EAC9D7F,EAAGiH,QAAQ3F,QAAQvC,EAAEiK,MAAM,eACvBF,MAAOxE,EAAUsB,EACjBmD,MAAOzE,EAAUuB,EACjBoC,YAAa3D,EAAU4E,eAExB,GAAkB,SAAd5E,EAAsB,CAC7B,IAAMU,EAAQ/H,KAAKgK,QAAQ9H,KAAK,eAAiBlC,KAAKgK,QAAQ9H,KAAK,eAAe6F,MAAQ,KACtFA,GACAA,EAAM1D,QAAQ,wBAEG,YAAdgD,EACPvF,EAAEsF,YAAY,WAAYkJ,QAAStQ,OAC5B8B,EAAEmU,cAAc5O,IACvBA,EAAUiJ,QAAUtQ,KACpB8B,EAAEsF,YAAY,SAAUC,IACjBA,EACPtE,EAAGgN,YAAY,yBACP1I,GACRtE,EAAG6M,SAAS,8BAIhB9N,EAAEK,KAAKL,EAAEsF,YAAYV,MAAO,WACpB1G,KAAKmE,WAAapB,EAAGoB,WACrB6R,EAAG9T,KAAOlC,KAEV8B,EAAEqJ,OAAO6K,EAAG9T,MAAOmC,QAAS,cAIpCvC,EAAEsF,YAAYO,OAAOmK,YAAYvR,KAAKyV,EAAGlJ,OAAQkJ,GAGrD,OAAOhW","file":"jquery.contextMenu.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"jquery.contextMenu\"] = factory();\n\telse\n\t\troot[\"jquery.contextMenu\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a76608bde2ea9a25ca0a","/**\n * Get the input label for the given node\n * @param node\n * @returns {string|JQuery}\n */\nexport function inputLabel(node) {\n    return (node.id && $('label[for=\"' + node.id + '\"]').val()) || node.name;\n}\n\n/**\n * import values into <input> commands\n * @param {ContextMenuData} opt\n * @param {Object} data\n */\nexport function setInputValues(opt, data) {\n    if (typeof data === 'undefined') {\n        data = {};\n    }\n\n    $.each(opt.inputs, function (key, item) {\n        switch (item.type) {\n            case 'text':\n            case 'textarea':\n                item.value = data[key] || '';\n                break;\n\n            case 'checkbox':\n                item.selected = !!data[key];\n                break;\n\n            case 'radio':\n                item.selected = (data[item.radio] || '') === item.value;\n                break;\n\n            case 'select':\n                item.selected = data[key] || '';\n                break;\n        }\n    });\n}\n\n/**\n * export values from <input> commands\n * @param {ContextMenuData} opt\n * @param {Object} data\n * @return {Object}\n */\nexport function getInputValues(opt, data) {\n    if (typeof data === 'undefined') {\n        data = {};\n    }\n\n    $.each(opt.inputs, function (key, item) {\n        switch (item.type) {\n            case 'text':\n            case 'textarea':\n            case 'select':\n                data[key] = item.$input.val();\n                break;\n\n            case 'checkbox':\n                data[key] = item.$input.prop('checked');\n                break;\n\n            case 'radio':\n                if (item.$input.prop('checked')) {\n                    data[item.radio] = item.value;\n                }\n                break;\n        }\n    });\n\n    return data;\n}\n\n/**\n * @param {JQuery} $t\n * @return {number}\n */\nexport function zindex($t) {\n    let zin = 0;\n    let $tt = $t;\n\n    while (true) {\n        zin = Math.max(zin, parseInt($tt.css('z-index'), 10) || 0);\n        $tt = $tt.parent();\n        if (!$tt || !$tt.length || 'html body'.indexOf($tt.prop('nodeName').toLowerCase()) > -1) {\n            break;\n        }\n    }\n    return zin;\n}\n\n/**\n * Split accesskey according to http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#assigned-access-key\n * @param {string} val\n * @return {Array}\n */\nexport function splitAccesskey(val) {\n    let t = val.split(/\\s+/);\n    let keys = [];\n\n    for (let i = 0, k; k = t[i]; i++) {\n        k = k.charAt(0).toUpperCase(); // first character only\n        // theoretically non-accessible characters should be ignored, but different systems, different keyboard layouts, ... screw it.\n        // a map to look up already used access keys would be nice\n        keys.push(k);\n    }\n\n    return keys;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/helpers/index.js","import {determinePosition, positionSubmenu, position} from './position';\n/**\n * @typedef {Object} ContextMenuSettings\n * @property {null|string} selector - selector of contextMenu trigger\n * @property {null|string} appendTo - where to append the menu to\n * @property {string} trigger=left - method to trigger context menu [\"right\", \"left\", \"hover\"]\n * @property {boolean} autoHide=true - hide menu when mouse leaves trigger / menu elements\n * @property {number} delay=200 - ms to wait before showing a hover-triggered context menu\n * @property {boolean} reposition=true - flag denoting if a second trigger should simply move (true) or rebuild (false) an open menu as long as the trigger happened on one of the trigger-element's child nodes\n * @property {boolean} hideOnSecondTrigger=false - Flag denoting if a second trigger should close the menu, as long as the trigger happened on one of the trigger-element's child nodes. This overrides the reposition option.\n * @property {boolean} selectableSubMenu=false - ability to select submenu\n * @property {string} className - Class to be appended to the root menu.\n * @property {Object} classNames - Default classname configuration to be able avoid conflicts in frameworks\n * @property {string} classNames.hover=context-menu-hover\n * @property {string} classNames.disabled=context-menu-disabled\n * @property {string} classNames.visible=context-menu-visible\n * @property {string} classNames.notSelectable=context-menu-not-selectable\n * @property {string} classNames.icon=context-menu-icon\n * @property {string} classNames.iconEdit=context-menu-icon-edit\n * @property {string} classNames.iconCut=context-menu-icon-cut\n * @property {string} classNames.iconCopy=context-menu-icon-copy\n * @property {string} classNames.iconPaste=context-menu-icon-paste\n * @property {string} classNames.iconDelete=context-menu-icon-delete\n * @property {string} classNames.iconAdd=context-menu-icon-add\n * @property {string} classNames.iconQuit=context-menu-icon-quit\n * @property {string} classNames.iconLoadingClass=context-menu-icon-loading\n * @property {number} zIndex=1 - offset to add to zIndex\n * @property {Object} animation - Animation settings\n * @property {number} animation.duration=50,\n * @property {string} animation.show='slideDown'\n * @property {string} animation.hide='slideUp'\n * @property {Object} events - Event callbacks\n * @property {Function} events.show\n * @property {Function} events.hide\n * @property {Function} events.activated\n * @property {Function} callback\n * @property {(determinePosition|Function)} determinePosition\n * @property {(position|Function)} position\n * @property {(positionSubmenu|Function)} positionSubmenu\n * @property {Object.<string, ContextMenuItem>} items\n * @property {ContextMenuBuildCallback} build=false\n */\nexport default {\n    // selector of contextMenu trigger\n    selector: null,\n\n    // where to append the menu to\n    appendTo: null,\n\n    // method to trigger context menu [\"right\", \"left\", \"hover\"]\n    trigger: 'right',\n\n    // hide menu when mouse leaves trigger / menu elements\n    autoHide: false,\n\n    // ms to wait before showing a hover-triggered context menu\n    delay: 200,\n\n    // flag denoting if a second trigger should simply move (true) or rebuild (false) an open menu\n    // as long as the trigger happened on one of the trigger-element's child nodes\n    reposition: true,\n\n    // Flag denoting if a second trigger should close the menu, as long as\n    // the trigger happened on one of the trigger-element's child nodes.\n    // This overrides the reposition option.\n    hideOnSecondTrigger: false,\n\n    // ability to select submenu\n    selectableSubMenu: false,\n\n    className: '',\n\n    // Default classname configuration to be able avoid conflicts in frameworks\n    classNames: {\n        hover: 'context-menu-hover', // Item hover\n        disabled: 'context-menu-disabled', // Item disabled\n        visible: 'context-menu-visible', // Item visible\n        notSelectable: 'context-menu-not-selectable', // Item not selectable\n\n        icon: 'context-menu-icon',\n        iconEdit: 'context-menu-icon-edit',\n        iconCut: 'context-menu-icon-cut',\n        iconCopy: 'context-menu-icon-copy',\n        iconPaste: 'context-menu-icon-paste',\n        iconDelete: 'context-menu-icon-delete',\n        iconAdd: 'context-menu-icon-add',\n        iconQuit: 'context-menu-icon-quit',\n        iconLoadingClass: 'context-menu-icon-loading'\n    },\n\n    // offset to add to zIndex\n    zIndex: 1,\n\n    // show hide animation settings\n    animation: {\n        duration: 50,\n        show: 'slideDown',\n        hide: 'slideUp'\n    },\n\n    // events\n    events: {\n        show: $.noop,\n        hide: $.noop,\n        activated: $.noop\n    },\n\n    // default callback\n    callback: null,\n\n    // list of contextMenu items\n    items: {},\n\n    // Build callback for creating a menu dynamicly\n    build: false,\n\n    types: {},\n\n    // determine position to show menu at\n    determinePosition,\n\n    // position menu\n    position,\n\n    // position the sub-menu\n    positionSubmenu\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/defaults/index.js","'use strict';\nimport '../sass/jquery.contextMenu.scss';\n\nimport ContextMenuManager from './modules/ContextMenuManager';\nimport defaults from './defaults';\nimport ContextMenuEventHandler from './modules/ContextMenuEventHandler';\nimport ContextMenuOperations from './modules/ContextMenuOperations';\n\nimport {setInputValues, getInputValues} from './helpers';\nimport fromMenu from './modules/html5builder';\nimport elementFunction from './modules/jqueryContextMenuFunction';\n\nconst menus = {};\nconst namespaces = {};\nconst handler = new ContextMenuEventHandler();\nconst operations = new ContextMenuOperations(handler);\nhandler.operations = operations;\n\nconst manager = new ContextMenuManager(defaults, handler, operations, menus, namespaces);\n\n// manage contextMenu instances\nlet contextMenu = function (operation, options) {\n    manager.execute(operation, options);\n};\n\ncontextMenu.manager = manager;\ncontextMenu.setInputValues = setInputValues;\ncontextMenu.getInputValues = getInputValues;\ncontextMenu.fromMenu = fromMenu;\n\n// make defaults accessible\ncontextMenu.defaults = defaults;\ncontextMenu.types = defaults.types;\n\n// export internal functions - undocumented, for hacking only!\ncontextMenu.handle = handler;\ncontextMenu.op = operations;\ncontextMenu.menus = menus;\ncontextMenu.namespaces = namespaces;\n\n$.fn.contextMenu = elementFunction;\n$.contextMenu = contextMenu;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/contextmenu.js","/**\n * Determine the position for a root menu\n * @param {(JQuery)} $menu\n */\nexport function determinePosition($menu) {\n    // position to the lower middle of the trigger element\n    if ($.ui && $.ui.position) {\n        // .position() is provided as a jQuery UI utility\n        // (...and it won't work on hidden elements)\n        $menu.css('display', 'block').position({\n            my: 'center top',\n            at: 'center bottom',\n            of: this,\n            offset: '0 5',\n            collision: 'fit'\n        }).css('display', 'none');\n    } else {\n        // determine contextMenu position\n        const offset = this.offset();\n        offset.top += this.outerHeight();\n        offset.left += this.outerWidth() / 2 - $menu.outerWidth() / 2;\n        $menu.css(offset);\n    }\n}\n\n/**\n * Position the menu\n * @param {JQuery.Event} e\n * @param {ContextMenuData} opt\n * @param {(number|string)} x\n * @param {(number|string)} y\n */\nexport function position(e, opt, x, y) {\n    const $window = $(window);\n    let offset;\n    // determine contextMenu position\n    if (!x && !y) {\n        opt.determinePosition.call(this, opt.$menu);\n        return;\n    } else if (x === 'maintain' && y === 'maintain') {\n        // x and y must not be changed (after re-show on command click)\n        offset = opt.$menu.position();\n    } else {\n        // x and y are given (by mouse event)\n        const offsetParentOffset = opt.$menu.offsetParent().offset();\n        offset = {top: y - offsetParentOffset.top, left: x - offsetParentOffset.left};\n    }\n\n    // correct offset if viewport demands it\n    const bottom = $window.scrollTop() + $window.height();\n    const right = $window.scrollLeft() + $window.width();\n    const height = opt.$menu.outerHeight();\n    const width = opt.$menu.outerWidth();\n\n    if (offset.top + height > bottom) {\n        offset.top -= height;\n    }\n\n    if (offset.top < 0) {\n        offset.top = 0;\n    }\n\n    if (offset.left + width > right) {\n        offset.left -= width;\n    }\n\n    if (offset.left < 0) {\n        offset.left = 0;\n    }\n\n    opt.$menu.css(offset);\n}\n\n/**\n * Position a submenu\n * @param {JQuery.Event} e\n * @param {JQuery} $menu\n */\n// position the sub-menu\nexport function positionSubmenu(e, $menu) {\n    if (typeof $menu === 'undefined') {\n        // When user hovers over item (which has sub items) handle.focusItem will call this.\n        // but the submenu does not exist yet if opt.items is a promise. just return, will\n        // call positionSubmenu after promise is completed.\n        return;\n    }\n    if ($.ui && $.ui.position) {\n        // .position() is provided as a jQuery UI utility\n        // (...and it won't work on hidden elements)\n        $menu.css('display', 'block').position({\n            my: 'left top-5',\n            at: 'right top',\n            of: this,\n            collision: 'flipfit fit'\n        }).css('display', '');\n    } else {\n        // determine contextMenu position\n        const offset = {\n            top: -9,\n            left: this.outerWidth() - 5\n        };\n        $menu.css(offset);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/defaults/position.js","import {inputLabel} from '../helpers';\n\n/**\n * Helper function for building a menu from a HTML <menu> element\n *\n * @param {Object.<string, ContextMenuItem>} items\n * @param {(JQuery)} $children\n * @param {number?} counter\n * @returns {number}\n */\nexport function html5builder(items, $children, counter) {\n    if (!counter) {\n        counter = 0;\n    }\n\n    $children.each(function () {\n        let $node = $(this);\n        let node = this;\n        let nodeName = this.nodeName.toLowerCase();\n        let label;\n        let item;\n\n        // extract <label><input>\n        if (nodeName === 'label' && $node.find('input, textarea, select').length) {\n            label = $node.text();\n            $node = $node.children().first();\n            node = $node.get(0);\n            nodeName = node.nodeName.toLowerCase();\n        }\n\n        /*\n         * <menu> accepts flow-content as children. that means <embed>, <canvas> and such are valid menu items.\n         * Not being the sadistic kind, $.contextMenu only accepts:\n         * <command>, <menuitem>, <hr>, <span>, <p> <input [text, radio, checkbox]>, <textarea>, <select> and of course <menu>.\n         * Everything else will be imported as an html node, which is not interfaced with contextMenu.\n         */\n\n        // http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#concept-command\n        switch (nodeName) {\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#the-menu-element\n            case 'menu':\n                item = {name: $node.attr('label'), items: {}};\n                counter = html5builder(item.items, $node.children(), counter);\n                break;\n\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#using-the-a-element-to-define-a-command\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#using-the-button-element-to-define-a-command\n            case 'a':\n            case 'button':\n                item = {\n                    name: $node.text(),\n                    disabled: !!$node.attr('disabled'),\n                    callback: (function () {\n                        return function () {\n                            $node.get(0).click();\n                        };\n                    })()\n                };\n                break;\n\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/commands.html#using-the-command-element-to-define-a-command\n            case 'menuitem':\n            case 'command':\n                switch ($node.attr('type')) {\n                    case undefined:\n                    case 'command':\n                    case 'menuitem':\n                        item = {\n                            name: $node.attr('label'),\n                            disabled: !!$node.attr('disabled'),\n                            icon: $node.attr('icon'),\n                            callback: (function () {\n                                return function () {\n                                    $node.get(0).click();\n                                };\n                            })()\n                        };\n                        break;\n\n                    case 'checkbox':\n                        item = {\n                            type: 'checkbox',\n                            disabled: !!$node.attr('disabled'),\n                            name: $node.attr('label'),\n                            selected: !!$node.attr('checked')\n                        };\n                        break;\n                    case 'radio':\n                        item = {\n                            type: 'radio',\n                            disabled: !!$node.attr('disabled'),\n                            name: $node.attr('label'),\n                            radio: $node.attr('radiogroup'),\n                            value: $node.attr('id'),\n                            selected: !!$node.attr('checked')\n                        };\n                        break;\n\n                    default:\n                        item = undefined;\n                }\n                break;\n\n            case 'hr':\n                item = '-------';\n                break;\n\n            case 'input':\n                switch ($node.attr('type')) {\n                    case 'text':\n                        item = {\n                            type: 'text',\n                            name: label || inputLabel(node),\n                            disabled: !!$node.attr('disabled'),\n                            value: $node.val()\n                        };\n                        break;\n\n                    case 'checkbox':\n                        item = {\n                            type: 'checkbox',\n                            name: label || inputLabel(node),\n                            disabled: !!$node.attr('disabled'),\n                            selected: !!$node.attr('checked')\n                        };\n                        break;\n\n                    case 'radio':\n                        item = {\n                            type: 'radio',\n                            name: label || inputLabel(node),\n                            disabled: !!$node.attr('disabled'),\n                            radio: !!$node.attr('name'),\n                            value: $node.val(),\n                            selected: !!$node.attr('checked')\n                        };\n                        break;\n\n                    default:\n                        item = undefined;\n                        break;\n                }\n                break;\n\n            case 'select':\n                item = {\n                    type: 'select',\n                    name: label || inputLabel(node),\n                    disabled: !!$node.attr('disabled'),\n                    selected: $node.val(),\n                    options: {}\n                };\n                $node.children().each(function () {\n                    item.options[this.value] = $(this).text();\n                });\n                break;\n\n            case 'textarea':\n                item = {\n                    type: 'textarea',\n                    name: label || inputLabel(node),\n                    disabled: !!$node.attr('disabled'),\n                    value: $node.val()\n                };\n                break;\n\n            case 'label':\n                break;\n\n            default:\n                item = {type: 'html', html: $node.clone(true)};\n                break;\n        }\n\n        if (item) {\n            counter++;\n            items['key' + counter] = item;\n        }\n    });\n\n    return counter;\n}\n\n/**\n * Build a menu from an element\n *\n * @param {JQuery|string} element\n * @returns {Object.<string, ContextMenuItem>}\n */\nexport default function fromMenu(element) {\n    const $this = $(element);\n    const items = {};\n\n    html5builder(items, $this.children());\n\n    return items;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/html5builder.js","import defaults from '../defaults';\n\n/**\n * @property {?JQuery} $currentTrigger\n * @property {Object} hoveract\n * @property {ContextMenuOperations} operations\n */\nexport default class ContextMenuEventHandler {\n    constructor() {\n        this.$currentTrigger = null;\n        this.hoveract = {};\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    abortevent(e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    contextmenu(e) {\n        const $this = $(e.currentTarget);\n\n        // disable actual context-menu if we are using the right mouse button as the trigger\n        if (e.data.trigger === 'right') {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n\n        // abort native-triggered events unless we're triggering on right click\n        if ((e.data.trigger !== 'right' && e.data.trigger !== 'demand') && e.originalEvent) {\n            return;\n        }\n\n        // Let the current contextmenu decide if it should show or not based on its own trigger settings\n        if (typeof e.mouseButton !== 'undefined' && e.data) {\n            if (!(e.data.trigger === 'left' && e.mouseButton === 0) && !(e.data.trigger === 'right' && e.mouseButton === 2)) {\n                // Mouse click is not valid.\n                return;\n            }\n        }\n\n        // abort event if menu is visible for this trigger\n        if ($this.hasClass('context-menu-active')) {\n            return;\n        }\n\n        if (!$this.hasClass('context-menu-disabled')) {\n            // theoretically need to fire a show event at <menu>\n            // http://www.whatwg.org/specs/web-apps/current-work/multipage/interactive-elements.html#context-menus\n            // var evt = jQuery.Event(\"show\", { data: data, pageX: e.pageX, pageY: e.pageY, relatedTarget: this });\n            // e.data.$menu.trigger(evt);\n\n            e.data.manager.handler.$currentTrigger = $this;\n            if (e.data.build) {\n                const built = e.data.build(e, this.$currentTrigger);\n                // abort if build() returned false\n                if (built === false) {\n                    return;\n                }\n\n                // dynamically build menu on invocation\n                e.data = $.extend(true, {}, defaults, e.data, built || {});\n\n                // abort if there are no items to display\n                if (!e.data.items || $.isEmptyObject(e.data.items)) {\n                    // Note: jQuery captures and ignores errors from event handlers\n                    if (window.console) {\n                        (console.error || console.log).call(console, 'No items specified to show in contextMenu');\n                    }\n\n                    throw new Error('No Items specified');\n                }\n\n                // backreference for custom command type creation\n                e.data.$trigger = e.data.manager.handler.$currentTrigger;\n\n                e.data.manager.operations.create(e, e.data);\n            }\n            let showMenu = false;\n            for (let item in e.data.items) {\n                if (e.data.items.hasOwnProperty(item)) {\n                    let visible;\n                    if ($.isFunction(e.data.items[item].visible)) {\n                        visible = e.data.items[item].visible.call(e, $(e.currentTarget), item, e.data);\n                    } else if (typeof e.data.items[item] !== 'undefined' && e.data.items[item].visible) {\n                        visible = e.data.items[item].visible === true;\n                    } else {\n                        visible = true;\n                    }\n                    if (visible) {\n                        showMenu = true;\n                    }\n                }\n            }\n            if (showMenu) {\n                // show menu\n                e.data.manager.operations.show.call($this, e, e.data, e.pageX, e.pageY);\n            }\n        }\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    click(e) {\n        e.preventDefault();\n        e.stopImmediatePropagation();\n        $(this).trigger($.Event('contextmenu', {data: e.data, pageX: e.pageX, pageY: e.pageY, originalEvent: e}));\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    mousedown(e) {\n        // register mouse down\n        const $this = $(this);\n\n        // hide any previous menus\n        if (e.data.manager.handler.$currentTrigger && e.data.manager.handler.$currentTrigger.length && !e.data.manager.handler.$currentTrigger.is($this)) {\n            e.data.manager.handler.$currentTrigger.data('contextMenu').$menu.trigger($.Event('contextmenu', {originalEvent: e}));\n        }\n\n        // activate on right click\n        if (e.button === 2) {\n            e.data.manager.handler.$currentTrigger = $this.data('contextMenuActive', true);\n        }\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    mouseup(e) {\n        // show menu\n        const $this = $(this);\n        if ($this.data('contextMenuActive') && e.data.manager.handler.$currentTrigger && e.data.manager.handler.$currentTrigger.length && e.data.manager.handler.$currentTrigger.is($this) && !$this.hasClass('context-menu-disabled')) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            e.data.manager.handler.$currentTrigger = $this;\n            $this.trigger($.Event('contextmenu', {data: e.data, pageX: e.pageX, pageY: e.pageY, originalEvent: e}));\n        }\n\n        $this.removeData('contextMenuActive');\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    mouseenter(e) {\n        const $this = $(this);\n        const $related = $(e.relatedTarget);\n        const $document = $(document);\n\n        // abort if we're coming from a menu\n        if ($related.is('.context-menu-list') || $related.closest('.context-menu-list').length) {\n            return;\n        }\n\n        // abort if a menu is shown\n        if (e.data.manager.handler.$currentTrigger && e.data.manager.handler.$currentTrigger.length) {\n            return;\n        }\n\n        e.data.manager.handler.hoveract.pageX = e.pageX;\n        e.data.manager.handler.hoveract.pageY = e.pageY;\n        e.data.manager.handler.hoveract.data = e.data;\n        $document.on('mousemove.contextMenuShow', e.data.manager.handler.mousemove);\n        e.data.manager.handler.hoveract.timer = setTimeout(function () {\n            e.data.manager.handler.hoveract.timer = null;\n            $document.off('mousemove.contextMenuShow');\n            e.data.manager.handler.$currentTrigger = $this;\n            $this.trigger($.Event('contextmenu', {\n                data: e.data.manager.handler.hoveract.data,\n                pageX: e.data.manager.handler.hoveract.pageX,\n                pageY: e.data.manager.handler.hoveract.pageY\n            }));\n        }, e.data.delay);\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    mousemove(e) {\n        e.data.manager.handler.hoveract.pageX = e.pageX;\n        e.data.manager.handler.hoveract.pageY = e.pageY;\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    mouseleave(e) {\n        // abort if we're leaving for a menu\n        const $related = $(e.relatedTarget);\n        if ($related.is('.context-menu-list') || $related.closest('.context-menu-list').length) {\n            return;\n        }\n\n        try {\n            clearTimeout(e.data.manager.handler.hoveract.timer);\n        } catch (e) {\n\n        }\n\n        e.data.manager.handler.hoveract.timer = null;\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    layerClick(e) {\n        let $this = $(this);\n        let root = $this.data('contextMenuRoot');\n        let button = e.button;\n        let x = e.pageX;\n        let y = e.pageY;\n        let target;\n        let offset;\n\n        e.preventDefault();\n\n        setTimeout(function () {\n            let $window = $(window);\n            let triggerAction = ((root.trigger === 'left' && button === 0) || (root.trigger === 'right' && button === 2));\n\n            // find the element that would've been clicked, wasn't the layer in the way\n            if (document.elementFromPoint && root.$layer) {\n                root.$layer.hide();\n                target = document.elementFromPoint(x - $window.scrollLeft(), y - $window.scrollTop());\n\n                // also need to try and focus this element if we're in a contenteditable area,\n                // as the layer will prevent the browser mouse action we want\n                if (target.isContentEditable) {\n                    const range = document.createRange();\n                    const sel = window.getSelection();\n                    range.selectNode(target);\n                    range.collapse(true);\n                    sel.removeAllRanges();\n                    sel.addRange(range);\n                }\n                $(target).trigger(e);\n                root.$layer.show();\n            }\n\n            if (root.hideOnSecondTrigger && triggerAction && root.$menu !== null && typeof root.$menu !== 'undefined') {\n                root.$menu.trigger('contextmenu:hide', {originalEvent: e});\n                return;\n            }\n\n            if (root.reposition && triggerAction) {\n                if (document.elementFromPoint) {\n                    if (root.$trigger.is(target)) {\n                        root.position.call(root.$trigger, e, root, x, y);\n                        return;\n                    }\n                } else {\n                    offset = root.$trigger.offset();\n                    const $window = $(window);\n                    // while this looks kinda awful, it's the best way to avoid\n                    // unnecessarily calculating any positions\n                    offset.top += $window.scrollTop();\n                    if (offset.top <= e.pageY) {\n                        offset.left += $window.scrollLeft();\n                        if (offset.left <= e.pageX) {\n                            offset.bottom = offset.top + root.$trigger.outerHeight();\n                            if (offset.bottom >= e.pageY) {\n                                offset.right = offset.left + root.$trigger.outerWidth();\n                                if (offset.right >= e.pageX) {\n                                    // reposition\n                                    root.position.call(root.$trigger, e, root, x, y);\n                                    return;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n\n            if (target && triggerAction) {\n                root.$trigger.one('contextmenu:hidden', function () {\n                    $(target).contextMenu({x: x, y: y, button: button, originalEvent: e});\n                });\n            }\n\n            if (root !== null && typeof root !== 'undefined' && root.$menu !== null && typeof root.$menu !== 'undefined') {\n                root.$menu.trigger('contextmenu:hide', {originalEvent: e});\n            }\n        }, 50);\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     * @param {ContextMenuItem} opt\n     */\n    keyStop(e, opt) {\n        if (!opt.isInput) {\n            e.preventDefault();\n        }\n\n        e.stopPropagation();\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    key(e) {\n        let opt = {};\n\n        // Only get the data from this.$currentTrigger if it exists\n        if (e.data.manager.handler.$currentTrigger) {\n            opt = e.data.manager.handler.$currentTrigger.data('contextMenu') || {};\n        }\n        // If the trigger happen on a element that are above the contextmenu do this\n        if (typeof opt.zIndex === 'undefined') {\n            opt.zIndex = 0;\n        }\n        const getZIndexOfTriggerTarget = function (target) {\n            if (target.style.zIndex !== '') {\n                return target.style.zIndex;\n            } else {\n                if (target.offsetParent !== null && typeof target.offsetParent !== 'undefined') {\n                    return getZIndexOfTriggerTarget(target.offsetParent);\n                } else if (target.parentElement !== null && typeof target.parentElement !== 'undefined') {\n                    return getZIndexOfTriggerTarget(target.parentElement);\n                }\n            }\n        };\n        let targetZIndex = getZIndexOfTriggerTarget(e.target);\n\n        // If targetZIndex is heigher then opt.zIndex dont progress any futher.\n        // This is used to make sure that if you are using a dialog with a input / textarea / contenteditable div\n        // and its above the contextmenu it wont steal keys events\n        if (opt.$menu && parseInt(targetZIndex, 10) > parseInt(opt.$menu.css('zIndex'), 10)) {\n            return;\n        }\n        switch (e.keyCode) {\n            case 9:\n            case 38: // up\n                e.data.manager.handler.keyStop(e, opt);\n                // if keyCode is [38 (up)] or [9 (tab) with shift]\n                if (opt.isInput) {\n                    if (e.keyCode === 9 && e.shiftKey) {\n                        e.preventDefault();\n                        if (opt.$selected) {\n                            opt.$selected.find('input, textarea, select').blur();\n                        }\n                        if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                            opt.$menu.trigger('prevcommand', {originalEvent: e});\n                        }\n                        return;\n                    } else if (e.keyCode === 38 && opt.$selected.find('input, textarea, select').prop('type') === 'checkbox') {\n                        // checkboxes don't capture this key\n                        e.preventDefault();\n                        return;\n                    }\n                } else if (e.keyCode !== 9 || e.shiftKey) {\n                    if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                        opt.$menu.trigger('prevcommand', {originalEvent: e});\n                    }\n                    return;\n                }\n                break;\n            // omitting break;\n            // case 9: // tab - reached through omitted break;\n            case 40: // down\n                e.data.manager.handler.keyStop(e, opt);\n                if (opt.isInput) {\n                    if (e.keyCode === 9) {\n                        e.preventDefault();\n                        if (opt.$selected) {\n                            opt.$selected.find('input, textarea, select').blur();\n                        }\n                        if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                            opt.$menu.trigger('nextcommand', {originalEvent: e});\n                        }\n                        return;\n                    } else if (e.keyCode === 40 && opt.$selected.find('input, textarea, select').prop('type') === 'checkbox') {\n                        // checkboxes don't capture this key\n                        e.preventDefault();\n                        return;\n                    }\n                } else {\n                    if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                        opt.$menu.trigger('nextcommand', {originalEvent: e});\n                    }\n                    return;\n                }\n                break;\n\n            case 37: // left\n                e.data.manager.handler.keyStop(e, opt);\n                if (opt.isInput || !opt.$selected || !opt.$selected.length) {\n                    break;\n                }\n\n                if (!opt.$selected.parent().hasClass('context-menu-root')) {\n                    const $parent = opt.$selected.parent().parent();\n                    opt.$selected.trigger('contextmenu:blur', {originalEvent: e});\n                    opt.$selected = $parent;\n                    return;\n                }\n                break;\n\n            case 39: // right\n                e.data.manager.handler.keyStop(e, opt);\n                if (opt.isInput || !opt.$selected || !opt.$selected.length) {\n                    break;\n                }\n\n                const itemdata = opt.$selected.data('contextMenu') || {};\n                if (itemdata.$menu && opt.$selected.hasClass('context-menu-submenu')) {\n                    opt.$selected = null;\n                    itemdata.$selected = null;\n                    itemdata.$menu.trigger('nextcommand', {originalEvent: e});\n                    return;\n                }\n                break;\n\n            case 35: // end\n            case 36: // home\n                if (opt.$selected && opt.$selected.find('input, textarea, select').length) {\n                    break;\n                } else {\n                    ((opt.$selected && opt.$selected.parent()) || opt.$menu)\n                        .children(':not(.' + opt.classNames.disabled + ', .' + opt.classNames.notSelectable + ')')[e.keyCode === 36 ? 'first' : 'last']()\n                        .trigger('contextmenu:focus', {originalEvent: e});\n                    e.preventDefault();\n                    break;\n                }\n            case 13: // enter\n                e.data.manager.handler.keyStop(e, opt);\n                if (opt.isInput) {\n                    if (opt.$selected && !opt.$selected.is('textarea, select')) {\n                        e.preventDefault();\n                        return;\n                    }\n                    break;\n                }\n                if (typeof opt.$selected !== 'undefined' && opt.$selected !== null) {\n                    opt.$selected.trigger('mouseup', {originalEvent: e});\n                }\n                return;\n            case 32: // space\n            case 33: // page up\n            case 34: // page down\n                // prevent browser from scrolling down while menu is visible\n                e.data.manager.handler.keyStop(e, opt);\n                return;\n\n            case 27: // esc\n                e.data.manager.handler.keyStop(e, opt);\n                if (opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                    opt.$menu.trigger('contextmenu:hide', {originalEvent: e});\n                }\n                return;\n\n            default: // 0-9, a-z\n                const k = (String.fromCharCode(e.keyCode)).toUpperCase();\n                if (opt.accesskeys && opt.accesskeys[k]) {\n                    // according to the specs accesskeys must be invoked immediately\n                    opt.accesskeys[k].$node.trigger(opt.accesskeys[k].$menu ? 'contextmenu:focus' : 'mouseup', {originalEvent: e});\n                    return;\n                }\n                break;\n        }\n        // pass event to selected item,\n        // stop propagation to avoid endless recursion\n        e.stopPropagation();\n        if (typeof opt.$selected !== 'undefined' && opt.$selected !== null) {\n            opt.$selected.trigger(e);\n        }\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    prevItem(e) {\n        e.stopPropagation();\n        let opt = $(this).data('contextMenu') || {};\n        const root = $(this).data('contextMenuRoot') || {};\n\n        // obtain currently selected menu\n        if (opt.$selected) {\n            const $s = opt.$selected;\n            opt = opt.$selected.parent().data('contextMenu') || {};\n            opt.$selected = $s;\n        }\n\n        const $children = opt.$menu.children();\n        let $prev = !opt.$selected || !opt.$selected.prev().length ? $children.last() : opt.$selected.prev();\n        const $round = $prev;\n\n        // skip disabled or hidden elements\n        while ($prev.hasClass(root.classNames.disabled) || $prev.hasClass(root.classNames.notSelectable) || $prev.is(':hidden')) {\n            if ($prev.prev().length) {\n                $prev = $prev.prev();\n            } else {\n                $prev = $children.last();\n            }\n\n            if ($prev.is($round)) {\n                // break endless loop\n                return;\n            }\n        }\n\n        // leave current\n        if (opt.$selected) {\n            root.manager.handler.itemMouseleave.call(opt.$selected.get(0), e);\n        }\n\n        // activate next\n        root.manager.handler.itemMouseenter.call($prev.get(0), e);\n\n        // focus input\n        const $input = $prev.find('input, textarea, select');\n        if ($input.length) {\n            $input.focus();\n        }\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    nextItem(e) {\n        e.stopPropagation();\n        let opt = $(this).data('contextMenu') || {};\n        let root = $(this).data('contextMenuRoot') || {};\n\n        // obtain currently selected menu\n        if (opt.$selected) {\n            const $s = opt.$selected;\n            opt = opt.$selected.parent().data('contextMenu') || {};\n            opt.$selected = $s;\n        }\n\n        const $children = opt.$menu.children();\n        let $next = !opt.$selected || !opt.$selected.next().length ? $children.first() : opt.$selected.next();\n        const $round = $next;\n\n        // skip disabled\n        while ($next.hasClass(root.classNames.disabled) || $next.hasClass(root.classNames.notSelectable) || $next.is(':hidden')) {\n            if ($next.next().length) {\n                $next = $next.next();\n            } else {\n                $next = $children.first();\n            }\n            if ($next.is($round)) {\n                // break endless loop\n                return;\n            }\n        }\n\n        // leave current\n        if (opt.$selected) {\n            root.manager.handler.itemMouseleave.call(opt.$selected.get(0), e);\n        }\n\n        // activate next\n        root.manager.handler.itemMouseenter.call($next.get(0), e);\n\n        // focus input\n        const $input = $next.find('input, textarea, select');\n        if ($input.length) {\n            $input.focus();\n        }\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    focusInput(e) {\n        let $this = $(this).closest('.context-menu-item');\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n\n        root.$selected = opt.$selected = $this;\n        root.isInput = opt.isInput = true;\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    blurInput(e) {\n        let $this = $(this).closest('.context-menu-item');\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n\n        root.isInput = opt.isInput = false;\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    menuMouseenter(e) {\n        let root = $(this).data().contextMenuRoot;\n        root.hovering = true;\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    menuMouseleave(e) {\n        let root = $(this).data().contextMenuRoot;\n        if (root.$layer && root.$layer.is(e.relatedTarget)) {\n            root.hovering = false;\n        }\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    itemMouseenter(e) {\n        let $this = $(this);\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n\n        root.hovering = true;\n\n        // abort if we're re-entering\n        if (e && root.$layer && root.$layer.is(e.relatedTarget)) {\n            e.preventDefault();\n            e.stopImmediatePropagation();\n        }\n\n        // make sure only one item is selected\n        (opt.$menu ? opt : root).$menu\n            .children('.' + root.classNames.hover).trigger('contextmenu:blur')\n            .children('.hover').trigger('contextmenu:blur', {originalEvent: e});\n\n        if ($this.hasClass(root.classNames.disabled) || $this.hasClass(root.classNames.notSelectable)) {\n            opt.$selected = null;\n            return;\n        }\n\n        $this.trigger('contextmenu:focus', {originalEvent: e});\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    itemMouseleave(e) {\n        let $this = $(this);\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n\n        if (root !== opt && root.$layer && root.$layer.is(e.relatedTarget)) {\n            if (typeof root.$selected !== 'undefined' && root.$selected !== null) {\n                root.$selected.trigger('contextmenu:blur', {originalEvent: e});\n            }\n            e.preventDefault();\n            e.stopImmediatePropagation();\n            root.$selected = opt.$selected = opt.$node;\n            return;\n        }\n\n        if (opt && opt.$menu && opt.$menu.hasClass(root.classNames.visible)) {\n            return;\n        }\n\n        $this.trigger('contextmenu:blur');\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    itemClick(e) {\n        let $this = $(this);\n        let data = $this.data();\n        let opt = data.contextMenu;\n        let root = data.contextMenuRoot;\n        let key = data.contextMenuKey;\n        let callback;\n\n        // abort if the key is unknown or disabled or is a menu\n        if (!opt.items[key] || $this.is('.' + root.classNames.disabled + ', .context-menu-separator, .' + root.classNames.notSelectable) || ($this.is('.context-menu-submenu') && root.selectableSubMenu === false)) {\n            return;\n        }\n\n        e.preventDefault();\n        e.stopImmediatePropagation();\n\n        if ($.isFunction(opt.callbacks[key]) && Object.prototype.hasOwnProperty.call(opt.callbacks, key)) {\n            // item-specific callback\n            callback = opt.callbacks[key];\n        } else if ($.isFunction(root.callback)) {\n            // default callback\n            callback = root.callback;\n        } else {\n            // no callback, no action\n            return;\n        }\n\n        // hide menu if callback doesn't stop that\n        if (callback.call(root.$trigger, e, key, opt, root) !== false) {\n            root.$menu.trigger('contextmenu:hide');\n        } else if (root.$menu.parent().length) {\n            root.manager.operations.update.call(root.$trigger, e, root);\n        }\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    inputClick(e) {\n        e.stopImmediatePropagation();\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     * @param {Object} data\n     */\n    hideMenu(e, data) {\n        const root = $(this).data('contextMenuRoot');\n        root.manager.operations.hide.call(root.$trigger, e, root, data && data.force);\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    focusItem(e) {\n        e.stopPropagation();\n        const $this = $(this);\n        const data = $this.data();\n        const opt = data.contextMenu;\n        const root = data.contextMenuRoot;\n\n        if ($this.hasClass(root.classNames.disabled) || $this.hasClass(root.classNames.notSelectable)) {\n            return;\n        }\n\n        $this\n            .addClass([root.classNames.hover, root.classNames.visible].join(' '))\n            // select other items and included items\n            .parent().find('.context-menu-item').not($this)\n            .removeClass(root.classNames.visible)\n            .filter('.' + root.classNames.hover)\n            .trigger('contextmenu:blur');\n\n        // remember selected\n        opt.$selected = root.$selected = $this;\n\n        if (opt && opt.$node && opt.$node.hasClass('context-menu-submenu')) {\n            opt.$node.addClass(root.classNames.hover);\n        }\n\n        // position sub-menu - do after show so dumb $.ui.position can keep up\n        if (opt.$node) {\n            root.positionSubmenu.call(opt.$node, e, opt.$menu);\n        }\n    }\n\n    /**\n     * @typedef {JQuery.EventHandler}\n     * @param {ContextMenuEvent|JQuery.Event} e\n     */\n    blurItem(e) {\n        e.stopPropagation();\n        const $this = $(this);\n        const data = $this.data();\n        const opt = data.contextMenu;\n        const root = data.contextMenuRoot;\n\n        if (root.autoHide) { // for tablets and touch screens this needs to remain\n            $this.removeClass(root.classNames.visible);\n        }\n        $this.removeClass(root.classNames.hover);\n        opt.$selected = null;\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/ContextMenuEventHandler.js","/**\n * @typedef {jQuery.Event} ContextMenuEvent\n * @augments jQuery.Event\n * @property {ContextMenuData} data\n */\n\n/**\n * @typedef {ContextMenuSettings} ContextMenuData\n *\n * @property {JQuery} $menu - The menu element for this menu part. Eg. the root menu, or a single submenu\n * @property {JQuery} $layer - The opened layer when the menu is opened\n * @property {JQuery} $node - The menu item node\n * @property {JQuery} $trigger - The element that triggered opening the menu\n * @property {ContextMenuManager} manager - The contextmenu manager instance\n * @property {JQuery|jQuery|null} $selected - Currently selected menu item, or input inside menu item\n * @property {?boolean} hasTypes - The menu has ContextMenuItem which are of a selectable type\n * @property {?boolean} isInput - We are currently originating events from an input\n * @property {Object<string, ContextMenuItem>} inputs - Inputs defined in the menu\n *\n * @property {boolean} hovering Currently hovering, root menu only.\n */\n\n/**\n * @typedef {Object} ContextMenuItem\n *\n * @property {string} type\n * @property {string|Function} icon\n * @property {boolean} isHtmlName - Should this item be called with .html() instead of .text()\n * @property {?JQuery} $input - The input element if it was build for this item\n *\n * @property {Object.<string,ContextMenuItem>} items\n */\n\n/**\n * @callback ContextMenuBuildCallback\n * @param {JQuery.Event} e - Event that trigged the menu\n * @param {JQuery} $currentTrigger - Element that trigged the menu\n * @return {Object.<string,ContextMenuItem>}\n */\n\n/**\n * @class ContextMenuManager\n * @property {ContextMenuSettings} defaults\n * @property {ContextMenuEventHandler} handle\n * @property {ContextMenuOperations} op\n * @property {Object<string, ContextMenuData>} menus\n * @property {number} counter\n * @property {boolean} initialized\n * @property {boolean} initialized\n */\nexport default class ContextMenuManager {\n    /**\n     * @param {ContextMenuSettings} defaults\n     * @param {ContextMenuEventHandler} handler\n     * @param {ContextMenuOperations} operations\n     * @param {Object<string, ContextMenuData>} menus\n     * @param {Object.<string,string>} namespaces\n     */\n    constructor(defaults, handler, operations, menus, namespaces) {\n        this.defaults = defaults;\n        this.handler = handler;\n        this.operations = operations;\n        this.namespaces = namespaces;\n        this.initialized = false;\n        this.menus = menus;\n        this.counter = 0;\n    }\n\n    /**\n     * @param {(string|ContextMenuSettings)} operation\n     * @param {(string|ContextMenuSettings)} options\n     * @return {ContextMenuManager}\n     */\n    execute(operation, options) {\n        if (typeof operation !== 'string') {\n            options = operation;\n            operation = 'create';\n        }\n\n        if (typeof options === 'string') {\n            options = {selector: options};\n        } else if (typeof options === 'undefined') {\n            options = {};\n        }\n\n        // merge with default options\n        const o = $.extend(true, {manager: this}, this.defaults, options || {});\n        const $document = $(document);\n        let $context = $document;\n        let _hasContext = false;\n\n        if (!o.context || !o.context.length) {\n            o.context = document;\n        } else {\n            // you never know what they throw at you...\n            $context = $(o.context).first();\n            o.context = $context.get(0);\n            _hasContext = !$(o.context).is($(document));\n        }\n\n        switch (operation) {\n            case 'update':\n                // Updates visibility and such\n                if (_hasContext) {\n                    this.operations.update(null, $context);\n                } else {\n                    for (let menu in this.menus) {\n                        if (this.menus.hasOwnProperty(menu)) {\n                            this.operations.update(null, this.menus[menu]);\n                        }\n                    }\n                }\n                break;\n\n            case 'create':\n                // no selector no joy\n                if (!o.selector) {\n                    throw new Error('No selector specified');\n                }\n                // make sure internal classes are not bound to\n                if (o.selector.match(/.context-menu-(list|item|input)($|\\s)/)) {\n                    throw new Error('Cannot bind to selector \"' + o.selector + '\" as it contains a reserved className');\n                }\n                if (!o.build && (!o.items || $.isEmptyObject(o.items))) {\n                    throw new Error('No Items specified');\n                }\n                this.counter++;\n                o.ns = '.contextMenu' + this.counter;\n                if (!_hasContext) {\n                    this.namespaces[o.selector] = o.ns;\n                }\n                this.menus[o.ns] = o;\n\n                // default to right click\n                if (!o.trigger) {\n                    o.trigger = 'right';\n                }\n\n                if (!this.initialized) {\n                    const itemClick = o.itemClickEvent === 'click' ? 'click.contextMenu' : 'mouseup.contextMenu';\n                    const contextMenuItemObj = {\n                        // 'mouseup.contextMenu': this.handler.itemClick,\n                        // 'click.contextMenu': this.handler.itemClick,\n                        'contextmenu:focus.contextMenu': this.handler.focusItem,\n                        'contextmenu:blur.contextMenu': this.handler.blurItem,\n                        'contextmenu.contextMenu': this.handler.abortevent,\n                        'mouseenter.contextMenu': this.handler.itemMouseenter,\n                        'mouseleave.contextMenu': this.handler.itemMouseleave\n                    };\n                    contextMenuItemObj[itemClick] = this.handler.itemClick;\n\n                    // make sure item click is registered first\n                    $document\n                        .on({\n                            'contextmenu:hide.contextMenu': this.handler.hideMenu,\n                            'prevcommand.contextMenu': this.handler.prevItem,\n                            'nextcommand.contextMenu': this.handler.nextItem,\n                            'contextmenu.contextMenu': this.handler.abortevent,\n                            'mouseenter.contextMenu': this.handler.menuMouseenter,\n                            'mouseleave.contextMenu': this.handler.menuMouseleave\n                        }, '.context-menu-list')\n                        .on('mouseup.contextMenu', '.context-menu-input', this.handler.inputClick)\n                        .on(contextMenuItemObj, '.context-menu-item');\n\n                    this.initialized = true;\n                }\n\n                // engage native contextmenu event\n                $context\n                    .on('contextmenu' + o.ns, o.selector, o, this.handler.contextmenu);\n\n                if (_hasContext) {\n                    // add remove hook, just in case\n                    $context.on('remove' + o.ns, function () {\n                        $(this).contextMenu('destroy');\n                    });\n                }\n\n                switch (o.trigger) {\n                    case 'hover':\n                        $context\n                            .on('mouseenter' + o.ns, o.selector, o, this.handler.mouseenter)\n                            .on('mouseleave' + o.ns, o.selector, o, this.handler.mouseleave);\n                        break;\n\n                    case 'left':\n                        $context.on('click' + o.ns, o.selector, o, this.handler.click);\n                        break;\n                    case 'touchstart':\n                        $context.on('touchstart' + o.ns, o.selector, o, this.handler.click);\n                        break;\n                    /*\n                     default:\n                     // http://www.quirksmode.org/dom/events/contextmenu.html\n                     $document\n                     .on('mousedown' + o.ns, o.selector, o, this.handler.mousedown)\n                     .on('mouseup' + o.ns, o.selector, o, this.handler.mouseup);\n                     break;\n                     */\n                }\n\n                // create menu\n                if (!o.build) {\n                    this.operations.create(null, o);\n                }\n                break;\n\n            case 'destroy':\n                let $visibleMenu;\n                if (_hasContext) {\n                    // get proper options\n                    const context = o.context;\n\n                    Object.keys(this.menus).forEach((ns) => {\n                        let o = this.menus[ns];\n\n                        if (!o) {\n                            return true;\n                        }\n\n                        // Is this menu equest to the context called from\n                        if (!$(context).is(o.selector)) {\n                            return true;\n                        }\n\n                        $visibleMenu = $('.context-menu-list').filter(':visible');\n                        if ($visibleMenu.length && $visibleMenu.data().contextMenuRoot.$trigger.is($(o.context).find(o.selector))) {\n                            $visibleMenu.trigger('contextmenu:hide', {force: true});\n                        }\n\n                        if (this.menus[o.ns].$menu) {\n                            this.menus[o.ns].$menu.remove();\n                        }\n                        delete this.menus[o.ns];\n\n                        $(o.context).off(o.ns);\n\n                        return true;\n                    });\n                } else if (!o.selector) {\n                    $document.off('.contextMenu .contextMenuAutoHide');\n\n                    Object.keys(this.menus).forEach((ns) => {\n                        let o = this.menus[ns];\n                        $(o.context).off(o.ns);\n                    });\n\n                    this.namespaces = {};\n                    this.menus = {};\n                    this.counter = 0;\n                    this.initialized = false;\n\n                    $('#context-menu-layer, .context-menu-list').remove();\n                } else if (this.namespaces[o.selector]) {\n                    $visibleMenu = $('.context-menu-list').filter(':visible');\n                    if ($visibleMenu.length && $visibleMenu.data().contextMenuRoot.$trigger.is(o.selector)) {\n                        $visibleMenu.trigger('contextmenu:hide', {force: true});\n                    }\n\n                    if (this.menus[this.namespaces[o.selector]].$menu) {\n                        this.menus[this.namespaces[o.selector]].$menu.remove();\n                    }\n                    delete this.menus[this.namespaces[o.selector]];\n\n                    $document.off(this.namespaces[o.selector]);\n                }\n                break;\n\n            case 'html5':\n                // if <command> and <menuitem> are not handled by the browser,\n                // or options was a bool true,\n                // initialize $.contextMenu for them\n                if ((!$.support.htmlCommand && !$.support.htmlMenuitem) || (typeof options === 'boolean' && options)) {\n                    $('menu[type=\"context\"]').each(function () {\n                        if (this.id) {\n                            $.contextMenu({\n                                selector: '[contextmenu=' + this.id + ']',\n                                items: $.contextMenu.fromMenu(this)\n                            });\n                        }\n                    }).css('display', 'none');\n                }\n                break;\n\n            default:\n                throw new Error('Unknown operation \"' + operation + '\"');\n        }\n\n        return this;\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/ContextMenuManager.js","import {zindex, splitAccesskey} from '../helpers';\n\n/**\n * @property {Object} handle\n */\nexport default class ContextMenuOperations {\n    /**\n     * @param {ContextMenuEventHandler} handler\n     */\n    constructor(handler) {\n        this.handle = handler;\n    }\n\n    /**\n     * @param {JQuery.Event} e\n     * @param {ContextMenuData} opt\n     * @param {number} x\n     * @param {number} y\n     */\n    show(e, opt, x, y) {\n        const $trigger = $(this);\n        const css = {};\n\n        // hide any open menus\n        $('#context-menu-layer').trigger('mousedown');\n\n        // backreference for callbacks\n        opt.$trigger = $trigger;\n\n        // show event\n        if (opt.events.show.call($trigger, opt) === false) {\n            opt.manager.handler.$currentTrigger = null;\n            return;\n        }\n\n        // create or update context menu\n        opt.manager.operations.update.call($trigger, e, opt);\n\n        // position menu\n        opt.position.call($trigger, e, opt, x, y);\n\n        // make sure we're in front\n        if (opt.zIndex) {\n            let additionalZValue = opt.zIndex;\n            // If opt.zIndex is a function, call the function to get the right zIndex.\n            if (typeof opt.zIndex === 'function') {\n                additionalZValue = opt.zIndex.call($trigger, opt);\n            }\n            css.zIndex = zindex($trigger) + additionalZValue;\n        }\n\n        // add layer\n        opt.manager.operations.layer.call(opt.$menu, e, opt, css.zIndex);\n\n        // adjust sub-menu zIndexes\n        opt.$menu.find('ul').css('zIndex', css.zIndex + 1);\n\n        // position and show context menu\n        opt.$menu.css(css)[opt.animation.show](opt.animation.duration, () => {\n            $trigger.trigger('contextmenu:visible');\n\n            opt.manager.operations.activated(e, opt);\n            opt.events.activated(e, opt);\n        });\n        // make options available and set state\n        $trigger\n            .data('contextMenu', opt)\n            .addClass('context-menu-active');\n\n        // register key handler\n        $(document).off('keydown.contextMenu').on('keydown.contextMenu', opt, opt.manager.handler.key);\n        // register autoHide handler\n        if (opt.autoHide) {\n            // mouse position handler\n            $(document).on('mousemove.contextMenuAutoHide', function (e) {\n                // need to capture the offset on mousemove,\n                // since the page might've been scrolled since activation\n                const pos = $trigger.offset();\n                pos.right = pos.left + $trigger.outerWidth();\n                pos.bottom = pos.top + $trigger.outerHeight();\n\n                if (opt.$layer && !opt.hovering && (!(e.pageX >= pos.left && e.pageX <= pos.right) || !(e.pageY >= pos.top && e.pageY <= pos.bottom))) {\n                    /* Additional hover check after short time, you might just miss the edge of the menu */\n                    setTimeout(function () {\n                        if (!opt.hovering && opt.$menu !== null && typeof opt.$menu !== 'undefined') {\n                            opt.$menu.trigger('contextmenu:hide');\n                        }\n                    }, 50);\n                }\n            });\n        }\n    }\n\n    /**\n     * @param {JQuery.Event} e\n     * @param {ContextMenuData} opt\n     * @param {boolean} force\n     */\n    hide(e, opt, force) {\n        const $trigger = $(this);\n        if (typeof opt !== 'object' && $trigger.data('contextMenu')) {\n            opt = $trigger.data('contextMenu');\n        } else if (typeof opt !== 'object') {\n            return;\n        }\n\n        // hide event\n        if (!force && opt.events && opt.events.hide.call($trigger, e, opt) === false) {\n            return;\n        }\n\n        // remove options and revert state\n        $trigger\n            .removeData('contextMenu')\n            .removeClass('context-menu-active');\n\n        if (opt.$layer) {\n            // keep layer for a bit so the contextmenu event can be aborted properly by opera\n            setTimeout((function ($layer) {\n                return function () {\n                    $layer.remove();\n                };\n            })(opt.$layer), 10);\n\n            try {\n                delete opt.$layer;\n            } catch (e) {\n                opt.$layer = null;\n            }\n        }\n\n        // remove handle\n        opt.manager.handler.$currentTrigger = null;\n        // remove selected\n        opt.$menu.find('.' + opt.classNames.hover).trigger('contextmenu:blur');\n        opt.$selected = null;\n        // collapse all submenus\n        opt.$menu.find('.' + opt.classNames.visible).removeClass(opt.classNames.visible);\n        // unregister key and mouse handlers\n        $(document).off('.contextMenuAutoHide').off('keydown.contextMenu');\n        // hide menu\n        if (opt.$menu) {\n            opt.$menu[opt.animation.hide](opt.animation.duration, function () {\n                // tear down dynamically built menu after animation is completed.\n                if (opt.build) {\n                    opt.$menu.remove();\n                    Object.keys(opt).forEach((key) => {\n                        switch (key) {\n                            case 'ns':\n                            case 'selector':\n                            case 'build':\n                            case 'trigger':\n                                return true;\n\n                            default:\n                                opt[key] = undefined;\n                                try {\n                                    delete opt[key];\n                                } catch (e) {\n                                }\n                                return true;\n                        }\n                    });\n                }\n\n                setTimeout(function () {\n                    $trigger.trigger('contextmenu:hidden');\n                }, 10);\n            });\n        }\n    }\n\n    /**\n     * @param {JQuery.Event} e\n     * @param {ContextMenuData} opt\n     * @param root\n     */\n    create(e, opt, root) {\n        if (typeof root === 'undefined') {\n            root = opt;\n        }\n\n        // create contextMenu\n        opt.$menu = $('<ul class=\"context-menu-list\"></ul>').addClass(opt.className || '').data({\n            'contextMenu': opt,\n            'contextMenuRoot': root\n        });\n\n        $.each(['callbacks', 'commands', 'inputs'], function (i, k) {\n            opt[k] = {};\n            if (!root[k]) {\n                root[k] = {};\n            }\n        });\n\n        if (!root.accesskeys) {\n            root.accesskeys = {};\n        }\n\n        function createNameNode(item) {\n            const $name = $('<span></span>');\n            if (item._accesskey) {\n                if (item._beforeAccesskey) {\n                    $name.append(document.createTextNode(item._beforeAccesskey));\n                }\n                $('<span></span>')\n                    .addClass('context-menu-accesskey')\n                    .text(item._accesskey)\n                    .appendTo($name);\n                if (item._afterAccesskey) {\n                    $name.append(document.createTextNode(item._afterAccesskey));\n                }\n            } else {\n                if (item.isHtmlName) {\n                    // restrict use with access keys\n                    if (typeof item.accesskey !== 'undefined') {\n                        throw new Error('accesskeys are not compatible with HTML names and cannot be used together in the same item');\n                    }\n                    $name.html(item.name);\n                } else {\n                    $name.text(item.name);\n                }\n            }\n            return $name;\n        }\n\n        // create contextMenu items\n\n        $.each(opt.items, function (key, item) {\n            let $t = $('<li class=\"context-menu-item\"></li>').addClass(item.className || '');\n            let $label = null;\n            let $input = null;\n\n            // iOS needs to see a click-event bound to an element to actually\n            // have the TouchEvents infrastructure trigger the click event\n            $t.on('click', $.noop);\n\n            // Make old school string separator a real item so checks wont be\n            // akward later.\n            // And normalize 'cm_separator' into 'cm_separator'.\n            if (typeof item === 'string' || item.type === 'cm_seperator') {\n                item = {type: 'cm_separator'};\n            }\n\n            item.$node = $t.data({\n                'contextMenu': opt,\n                'contextMenuRoot': root,\n                'contextMenuKey': key\n            });\n\n            // register accesskey\n            // NOTE: the accesskey attribute should be applicable to any element, but Safari5 and Chrome13 still can't do that\n            if (typeof item.accesskey !== 'undefined') {\n                const aks = splitAccesskey(item.accesskey);\n                for (let i = 0, ak; ak = aks[i]; i++) {\n                    if (!root.accesskeys[ak]) {\n                        root.accesskeys[ak] = item;\n                        const matched = item.name.match(new RegExp('^(.*?)(' + ak + ')(.*)$', 'i'));\n                        if (matched) {\n                            item._beforeAccesskey = matched[1];\n                            item._accesskey = matched[2];\n                            item._afterAccesskey = matched[3];\n                        }\n                        break;\n                    }\n                }\n            }\n\n            if (item.type && root.types[item.type]) {\n                // run custom type handler\n                root.types[item.type].call($t, item, opt, root);\n                // register commands\n                $.each([opt, root], function (i, k) {\n                    k.commands[key] = item;\n                    // Overwrite only if undefined or the item is appended to the root. This so it\n                    // doesn't overwrite callbacks of root elements if the name is the same.\n                    if ($.isFunction(item.callback) && (typeof k.callbacks[key] === 'undefined' || typeof opt.type === 'undefined')) {\n                        k.callbacks[key] = item.callback;\n                    }\n                });\n            } else {\n                // add label for input\n                if (item.type === 'cm_separator') {\n                    $t.addClass('context-menu-separator ' + root.classNames.notSelectable);\n                } else if (item.type === 'html') {\n                    $t.addClass('context-menu-html ' + root.classNames.notSelectable);\n                } else if (item.type && item.type !== 'sub') {\n                    $label = $('<label></label>').appendTo($t);\n                    createNameNode(item).appendTo($label);\n\n                    $t.addClass('context-menu-input');\n                    opt.hasTypes = true;\n                    $.each([opt, root], function (i, k) {\n                        k.commands[key] = item;\n                        k.inputs[key] = item;\n                    });\n                } else if (item.items) {\n                    item.type = 'sub';\n                }\n\n                switch (item.type) {\n                    case 'cm_separator':\n                        break;\n\n                    case 'text':\n                        $input = $('<input type=\"text\" value=\"1\" name=\"\" />')\n                            .attr('name', 'context-menu-input-' + key)\n                            .val(item.value || '')\n                            .appendTo($label);\n                        break;\n\n                    case 'textarea':\n                        $input = $('<textarea name=\"\"></textarea>')\n                            .attr('name', 'context-menu-input-' + key)\n                            .val(item.value || '')\n                            .appendTo($label);\n\n                        if (item.height) {\n                            $input.height(item.height);\n                        }\n                        break;\n\n                    case 'checkbox':\n                        $input = $('<input type=\"checkbox\" value=\"1\" name=\"\" />')\n                            .attr('name', 'context-menu-input-' + key)\n                            .val(item.value || '')\n                            .prop('checked', !!item.selected)\n                            .prependTo($label);\n                        break;\n\n                    case 'radio':\n                        $input = $('<input type=\"radio\" value=\"1\" name=\"\" />')\n                            .attr('name', 'context-menu-input-' + item.radio)\n                            .val(item.value || '')\n                            .prop('checked', !!item.selected)\n                            .prependTo($label);\n                        break;\n\n                    case 'select':\n                        $input = $('<select name=\"\"></select>')\n                            .attr('name', 'context-menu-input-' + key)\n                            .appendTo($label);\n                        if (item.options) {\n                            $.each(item.options, function (value, text) {\n                                $('<option></option>').val(value).text(text).appendTo($input);\n                            });\n                            $input.val(item.selected);\n                        }\n                        break;\n\n                    case 'sub':\n                        createNameNode(item).appendTo($t);\n                        item.appendTo = item.$node;\n                        $t.data('contextMenu', item).addClass('context-menu-submenu');\n                        item.callback = null;\n\n                        // If item contains items, and this is a promise, we should create it later\n                        // check if subitems is of type promise. If it is a promise we need to create\n                        // it later, after promise has been resolved.\n                        if (typeof item.items.then === 'function') {\n                            // probably a promise, process it, when completed it will create the sub menu's.\n                            root.manager.operations.processPromises(e, item, root, item.items);\n                        } else {\n                            // normal submenu.\n                            root.manager.operations.create(e, item, root);\n                        }\n                        break;\n\n                    case 'html':\n                        $(item.html).appendTo($t);\n                        break;\n\n                    default:\n                        $.each([opt, root], function (i, k) {\n                            k.commands[key] = item;\n                            // Overwrite only if undefined or the item is appended to the root. This so it\n                            // doesn't overwrite callbacks of root elements if the name is the same.\n                            if ($.isFunction(item.callback) && (typeof k.callbacks[key] === 'undefined' || typeof opt.type === 'undefined')) {\n                                k.callbacks[key] = item.callback;\n                            }\n                        });\n                        createNameNode(item).appendTo($t);\n                        break;\n                }\n\n                // disable key listener in <input>\n                if (item.type && item.type !== 'sub' && item.type !== 'html' && item.type !== 'cm_separator') {\n                    $input\n                        .on('focus', root.manager.handler.focusInput)\n                        .on('blur', root.manager.handler.blurInput);\n\n                    if (item.events) {\n                        $input.on(item.events, opt);\n                    }\n                }\n\n                // add icons\n                if (item.icon) {\n                    if ($.isFunction(item.icon)) {\n                        item._icon = item.icon.call(this, this, $t, key, item);\n                    } else {\n                        if (typeof (item.icon) === 'string' && item.icon.substring(0, 3) === 'fa-') {\n                            // to enable font awesome\n                            item._icon = root.classNames.icon + ' ' + root.classNames.icon + '--fa fa ' + item.icon;\n                        } else {\n                            item._icon = root.classNames.icon + ' ' + root.classNames.icon + '-' + item.icon;\n                        }\n                    }\n                    $t.addClass(item._icon);\n                }\n            }\n\n            // cache contained elements\n            item.$input = $input;\n            item.$label = $label;\n\n            // attach item to menu\n            $t.appendTo(opt.$menu);\n\n            // Disable text selection\n            if (!opt.hasTypes && $.support.eventSelectstart) {\n                // browsers support user-select: none,\n                // IE has a special event for text-selection\n                // browsers supporting neither will not be preventing text-selection\n                $t.on('selectstart.disableTextSelect', opt.manager.handler.abortevent);\n            }\n        });\n        // attach contextMenu to <body> (to bypass any possible overflow:hidden issues on parents of the trigger element)\n        if (!opt.$node) {\n            opt.$menu.css('display', 'none').addClass('context-menu-root');\n        }\n        opt.$menu.appendTo(opt.appendTo || document.body);\n    }\n\n    /**\n     * @param {ContextMenuEvent} e\n     * @param {JQuery} $menu\n     * @param {boolean?} nested\n     */\n    resize(e, $menu, nested) {\n        let domMenu;\n        // determine widths of submenus, as CSS won't grow them automatically\n        // position:absolute within position:absolute; min-width:100; max-width:200; results in width: 100;\n        // kinda sucks hard...\n\n        // determine width of absolutely positioned element\n        $menu.css({position: 'absolute', display: 'block'});\n        // don't apply yet, because that would break nested elements' widths\n        $menu.data('width',\n            (domMenu = $menu.get(0)).getBoundingClientRect\n                ? Math.ceil(domMenu.getBoundingClientRect().width)\n                : $menu.outerWidth() + 1); // outerWidth() returns rounded pixels\n        // reset styles so they allow nested elements to grow/shrink naturally\n        $menu.css({\n            position: 'static',\n            minWidth: '0px',\n            maxWidth: '100000px'\n        });\n        // identify width of nested menus\n        $menu.find('> li > ul').each((index, element) => {\n            e.data.manager.operations.resize(e, $(element), true);\n        });\n        // reset and apply changes in the end because nested\n        // elements' widths wouldn't be calculatable otherwise\n        if (!nested) {\n            $menu.find('ul').addBack().css({\n                position: '',\n                display: '',\n                minWidth: '',\n                maxWidth: ''\n            }).outerWidth(function () {\n                return $(this).data('width');\n            });\n        }\n    }\n\n    /**\n     * @param {JQuery.Event} e\n     * @param {ContextMenuData?} opt\n     * @param {ContextMenuData?} root\n     */\n    update(e, opt, root) {\n        const $trigger = this;\n        if (typeof root === 'undefined') {\n            root = opt;\n            root.manager.operations.resize(e, opt.$menu);\n        }\n        // re-check disabled for each item\n        opt.$menu.children().each(function (index, element) {\n            let $item = $(element);\n            let key = $item.data('contextMenuKey');\n            let item = opt.items[key];\n            let disabled = ($.isFunction(item.disabled) && item.disabled.call($trigger, e, key, opt, root)) || item.disabled === true;\n            let visible;\n\n            if ($.isFunction(item.visible)) {\n                visible = item.visible.call($trigger, e, key, root);\n            } else if (typeof item.visible !== 'undefined') {\n                visible = item.visible === true;\n            } else {\n                visible = true;\n            }\n            $item[visible ? 'show' : 'hide']();\n\n            // dis- / enable item\n            $item[disabled ? 'addClass' : 'removeClass'](root.classNames.disabled);\n\n            if ($.isFunction(item.icon)) {\n                $item.removeClass(item._icon);\n                item._icon = item.icon.call(this, $trigger, $item, key, item);\n                $item.addClass(item._icon);\n            }\n\n            if (item.type) {\n                // dis- / enable input elements\n                $item.find('input, select, textarea').prop('disabled', disabled);\n\n                // update input states\n                switch (item.type) {\n                    case 'text':\n                    case 'textarea':\n                        item.$input.val(item.value || '');\n                        break;\n\n                    case 'checkbox':\n                    case 'radio':\n                        item.$input.val(item.value || '').prop('checked', !!item.selected);\n                        break;\n\n                    case 'select':\n                        item.$input.val((item.selected === 0 ? '0' : item.selected) || '');\n                        break;\n                }\n            }\n\n            if (item.$menu) {\n                // update sub-menu\n                root.manager.operations.update.call($trigger, e, item, root);\n            }\n        });\n    }\n\n    /**\n     * @param {JQuery.Event} e\n     * @param {ContextMenuData} opt\n     * @param {number} zIndex\n     * @returns {jQuery}\n     */\n    layer(e, opt, zIndex) {\n        const $window = $(window);\n\n        // add transparent layer for click area\n        // filter and background for Internet Explorer, Issue #23\n        const $layer = opt.$layer = $('<div id=\"context-menu-layer\"></div>')\n            .css({\n                height: $window.height(),\n                width: $window.width(),\n                display: 'block',\n                position: 'fixed',\n                'z-index': zIndex,\n                top: 0,\n                left: 0,\n                opacity: 0,\n                filter: 'alpha(opacity=0)',\n                'background-color': '#000'\n            })\n            .data('contextMenuRoot', opt)\n            .insertBefore(this)\n            .on('contextmenu', opt.manager.handler.abortevent)\n            .on('mousedown', opt.manager.handler.layerClick);\n\n        // IE6 doesn't know position:fixed;\n        if (typeof document.body.style.maxWidth === 'undefined') { // IE6 doesn't support maxWidth\n            $layer.css({\n                'position': 'absolute',\n                'height': $(document).height()\n            });\n        }\n\n        return $layer;\n    }\n\n    /**\n     * @param {JQuery.Event} e\n     * @param {ContextMenuData} opt\n     * @param {ContextMenuData} root\n     * @param {Promise} promise\n     */\n    processPromises(e, opt, root, promise) {\n        // Start\n        opt.$node.addClass(root.classNames.iconLoadingClass);\n\n        function finishPromiseProcess(opt, root, items) {\n            if (typeof root.$menu === 'undefined' || !root.$menu.is(':visible')) {\n                return;\n            }\n            opt.$node.removeClass(root.classNames.iconLoadingClass);\n            opt.items = items;\n            root.manager.operations.create(e, opt, root); // Create submenu\n            root.manager.operations.update(e, opt, root); // Correctly update position if user is already hovered over menu item\n            root.positionSubmenu.call(opt.$node, e, opt.$menu); // positionSubmenu, will only do anything if user already hovered over menu item that just got new subitems.\n        }\n\n        function errorPromise(opt, root, errorItem) {\n            // User called promise.reject() with an error item, if not, provide own error item.\n            if (typeof errorItem === 'undefined') {\n                errorItem = {\n                    'error': {\n                        name: 'No items and no error item',\n                        icon: 'context-menu-icon context-menu-icon-quit'\n                    }\n                };\n                if (window.console) {\n                    (console.error || console.log).call(console, 'When you reject a promise, provide an \"items\" object, equal to normal sub-menu items');\n                }\n            } else if (typeof errorItem === 'string') {\n                errorItem = {'error': {name: errorItem}};\n            }\n            finishPromiseProcess(opt, root, errorItem);\n        }\n\n        function completedPromise(opt, root, items) {\n            // Completed promise (dev called promise.resolve). We now have a list of items which can\n            // be used to create the rest of the context menu.\n            if (typeof items === 'undefined') {\n                // Null result, dev should have checked\n                errorPromise(undefined); // own error object\n            }\n            finishPromiseProcess(opt, root, items);\n        }\n\n        // Wait for promise completion. .then(success, error, notify) (we don't track notify). Bind the opt\n        // and root to avoid scope problems\n        promise.then(completedPromise.bind(this, opt, root), errorPromise.bind(this, opt, root));\n    }\n\n    /**\n     * operation that will run after contextMenu showed on screen\n     * @param {JQuery.Event} e\n     * @param {ContextMenuData} opt\n     */\n    activated(e, opt) {\n        const $menu = opt.$menu;\n        const $menuOffset = $menu.offset();\n        const winHeight = $(window).height();\n        const winScrollTop = $(window).scrollTop();\n        const menuHeight = $menu.height();\n        if (menuHeight > winHeight) {\n            $menu.css({\n                'height': winHeight + 'px',\n                'overflow-x': 'hidden',\n                'overflow-y': 'auto',\n                'top': winScrollTop + 'px'\n            });\n        } else if (($menuOffset.top < winScrollTop) || ($menuOffset.top + menuHeight > winScrollTop + winHeight)) {\n            $menu.css({\n                'top': '0px'\n            });\n        }\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/ContextMenuOperations.js","/**\n * Function that is called when calling contextmenu on an element (eg. $('.contextmenu').contextMenu())\n * @param {(string|Object)} operation\n */\nexport default function (operation) {\n    const $t = this;\n    const $o = operation;\n    if ($t.length > 0) { // this is not a build on demand menu\n        if (typeof operation === 'undefined') {\n            $t.first().trigger('contextmenu');\n        } else if (typeof operation.x !== 'undefined' && typeof operation.y !== 'undefined') {\n            $t.first().trigger($.Event('contextmenu', {\n                pageX: operation.x,\n                pageY: operation.y,\n                mouseButton: operation.button\n            }));\n        } else if (operation === 'hide') {\n            const $menu = this.first().data('contextMenu') ? this.first().data('contextMenu').$menu : null;\n            if ($menu) {\n                $menu.trigger('contextmenu:hide');\n            }\n        } else if (operation === 'destroy') {\n            $.contextMenu('destroy', {context: this});\n        } else if ($.isPlainObject(operation)) {\n            operation.context = this;\n            $.contextMenu('create', operation);\n        } else if (operation) {\n            $t.removeClass('context-menu-disabled');\n        } else if (!operation) {\n            $t.addClass('context-menu-disabled');\n        }\n    } else {\n        // eslint-disable-next-line no-undef\n        $.each($.contextMenu.menus, function () {\n            if (this.selector === $t.selector) {\n                $o.data = this;\n\n                $.extend($o.data, {trigger: 'demand'});\n            }\n        });\n\n        $.contextMenu.handle.contextmenu.call($o.target, $o);\n    }\n\n    return this;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/modules/jqueryContextMenuFunction.js"],"sourceRoot":""}