!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["jquery.contextMenu"]=t():e["jquery.contextMenu"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=4)}([function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(n(3)),s=a(n(2)),i={$currentTrigger:null,hoveract:{},abortevent:function(e){e.preventDefault(),e.stopImmediatePropagation()},contextmenu:function(e){var t=$(this);if("right"===e.data.trigger&&(e.preventDefault(),e.stopImmediatePropagation()),!("right"!==e.data.trigger&&"demand"!==e.data.trigger&&e.originalEvent||!(void 0===e.mouseButton||!e.data||"left"===e.data.trigger&&0===e.mouseButton||"right"===e.data.trigger&&2===e.mouseButton)||t.hasClass("context-menu-active")||t.hasClass("context-menu-disabled"))){if(i.$currentTrigger=t,e.data.build){var n=e.data.build(i.$currentTrigger,e);if(!1===n)return;if(e.data=$.extend(!0,{},s.default,e.data,n||{}),!e.data.items||$.isEmptyObject(e.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");e.data.$trigger=i.$currentTrigger,o.default.create(e.data)}var a=!1;for(var c in e.data.items)if(e.data.items.hasOwnProperty(c)){($.isFunction(e.data.items[c].visible)?e.data.items[c].visible.call($(e.currentTarget),c,e.data):void 0===e.data.items[c]||!e.data.items[c].visible||!0===e.data.items[c].visible)&&(a=!0)}a&&o.default.show.call(t,e.data,e.pageX,e.pageY)}},click:function(e){e.preventDefault(),e.stopImmediatePropagation(),$(this).trigger($.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))},mousedown:function(e){var t=$(this);i.$currentTrigger&&i.$currentTrigger.length&&!i.$currentTrigger.is(t)&&i.$currentTrigger.data("contextMenu").$menu.trigger("contextmenu:hide"),2===e.button&&(i.$currentTrigger=t.data("contextMenuActive",!0))},mouseup:function(e){var t=$(this);t.data("contextMenuActive")&&i.$currentTrigger&&i.$currentTrigger.length&&i.$currentTrigger.is(t)&&!t.hasClass("context-menu-disabled")&&(e.preventDefault(),e.stopImmediatePropagation(),i.$currentTrigger=t,t.trigger($.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))),t.removeData("contextMenuActive")},mouseenter:function(e){var t=$(this),n=$(e.relatedTarget),a=$(document);n.is(".context-menu-list")||n.closest(".context-menu-list").length||i.$currentTrigger&&i.$currentTrigger.length||(i.hoveract.pageX=e.pageX,i.hoveract.pageY=e.pageY,i.hoveract.data=e.data,a.on("mousemove.contextMenuShow",i.mousemove),i.hoveract.timer=setTimeout(function(){i.hoveract.timer=null,a.off("mousemove.contextMenuShow"),i.$currentTrigger=t,t.trigger($.Event("contextmenu",{data:i.hoveract.data,pageX:i.hoveract.pageX,pageY:i.hoveract.pageY}))},e.data.delay))},mousemove:function(e){i.hoveract.pageX=e.pageX,i.hoveract.pageY=e.pageY},mouseleave:function(e){var t=$(e.relatedTarget);if(!t.is(".context-menu-list")&&!t.closest(".context-menu-list").length){try{clearTimeout(i.hoveract.timer)}catch(e){}i.hoveract.timer=null}},layerClick:function(e){var t=$(this).data("contextMenuRoot"),n=e.button,a=e.pageX,o=e.pageY,s=void 0,i=void 0;e.preventDefault(),setTimeout(function(){var c=$(window),r="left"===t.trigger&&0===n||"right"===t.trigger&&2===n;if(document.elementFromPoint&&t.$layer){if(t.$layer.hide(),(s=document.elementFromPoint(a-c.scrollLeft(),o-c.scrollTop())).isContentEditable){var l=document.createRange(),u=window.getSelection();l.selectNode(s),l.collapse(!0),u.removeAllRanges(),u.addRange(l)}$(s).trigger(e),t.$layer.show()}if(t.hideOnSecondTrigger&&r&&null!==t.$menu&&void 0!==t.$menu)t.$menu.trigger("contextmenu:hide");else{if(t.reposition&&r)if(document.elementFromPoint){if(t.$trigger.is(s))return void t.position.call(t.$trigger,t,a,o)}else{i=t.$trigger.offset();var d=$(window);if(i.top+=d.scrollTop(),i.top<=e.pageY&&(i.left+=d.scrollLeft(),i.left<=e.pageX&&(i.bottom=i.top+t.$trigger.outerHeight(),i.bottom>=e.pageY&&(i.right=i.left+t.$trigger.outerWidth(),i.right>=e.pageX))))return void t.position.call(t.$trigger,t,a,o)}s&&r&&t.$trigger.one("contextmenu:hidden",function(){$(s).contextMenu({x:a,y:o,button:n})}),null!==t&&void 0!==t&&null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide")}},50)},keyStop:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()},key:function(e){var t={};i.$currentTrigger&&(t=i.$currentTrigger.data("contextMenu")||{}),void 0===t.zIndex&&(t.zIndex=0);var n=function e(t){return""!==t.style.zIndex?t.style.zIndex:null!==t.offsetParent&&void 0!==t.offsetParent?e(t.offsetParent):null!==t.parentElement&&void 0!==t.parentElement?e(t.parentElement):void 0}(e.target);if(!(t.$menu&&parseInt(n,10)>parseInt(t.$menu.css("zIndex"),10))){switch(e.keyCode){case 9:case 38:if(i.keyStop(e,t),t.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));if(38===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand"));break;case 40:if(i.keyStop(e,t),!t.isInput)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(9===e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand"));if(40===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(i.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var a=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur"),void(t.$selected=a)}break;case 39:if(i.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var o=t.$selected.data("contextMenu")||{};if(o.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,o.$selected=null,void o.$menu.trigger("nextcommand");break;case 35:case 36:if(t.$selected&&t.$selected.find("input, textarea, select").length)break;(t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus"),e.preventDefault();break;case 13:if(i.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger("mouseup"));case 32:case 33:case 34:return void i.keyStop(e,t);case 27:return i.keyStop(e,t),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide"));default:var s=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[s])return void t.accesskeys[s].$node.trigger(t.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}e.stopPropagation(),void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger(e)}},prevItem:function(e){e.stopPropagation();var t=$(this).data("contextMenu")||{},n=$(this).data("contextMenuRoot")||{};if(t.$selected){var a=t.$selected;(t=t.$selected.parent().data("contextMenu")||{}).$selected=a}for(var o=t.$menu.children(),s=t.$selected&&t.$selected.prev().length?t.$selected.prev():o.last(),c=s;s.hasClass(n.classNames.disabled)||s.hasClass(n.classNames.notSelectable)||s.is(":hidden");)if((s=s.prev().length?s.prev():o.last()).is(c))return;t.$selected&&i.itemMouseleave.call(t.$selected.get(0),e),i.itemMouseenter.call(s.get(0),e);var r=s.find("input, textarea, select");r.length&&r.focus()},nextItem:function(e){e.stopPropagation();var t=$(this).data("contextMenu")||{},n=$(this).data("contextMenuRoot")||{};if(t.$selected){var a=t.$selected;(t=t.$selected.parent().data("contextMenu")||{}).$selected=a}for(var o=t.$menu.children(),s=t.$selected&&t.$selected.next().length?t.$selected.next():o.first(),c=s;s.hasClass(n.classNames.disabled)||s.hasClass(n.classNames.notSelectable)||s.is(":hidden");)if((s=s.next().length?s.next():o.first()).is(c))return;t.$selected&&i.itemMouseleave.call(t.$selected.get(0),e),i.itemMouseenter.call(s.get(0),e);var r=s.find("input, textarea, select");r.length&&r.focus()},focusInput:function(){var e=$(this).closest(".context-menu-item"),t=e.data(),n=t.contextMenu,a=t.contextMenuRoot;a.$selected=n.$selected=e,a.isInput=n.isInput=!0},blurInput:function(){var e=$(this).closest(".context-menu-item").data(),t=e.contextMenu;e.contextMenuRoot.isInput=t.isInput=!1},menuMouseenter:function(){$(this).data().contextMenuRoot.hovering=!0},menuMouseleave:function(e){var t=$(this).data().contextMenuRoot;t.$layer&&t.$layer.is(e.relatedTarget)&&(t.hovering=!1)},itemMouseenter:function(e){var t=$(this),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot;o.hovering=!0,e&&o.$layer&&o.$layer.is(e.relatedTarget)&&(e.preventDefault(),e.stopImmediatePropagation()),(a.$menu?a:o).$menu.children("."+o.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur"),t.hasClass(o.classNames.disabled)||t.hasClass(o.classNames.notSelectable)?a.$selected=null:t.trigger("contextmenu:focus")},itemMouseleave:function(e){var t=$(this),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot;if(o!==a&&o.$layer&&o.$layer.is(e.relatedTarget))return void 0!==o.$selected&&null!==o.$selected&&o.$selected.trigger("contextmenu:blur"),e.preventDefault(),e.stopImmediatePropagation(),void(o.$selected=a.$selected=a.$node);a&&a.$menu&&a.$menu.hasClass("context-menu-visible")||t.trigger("contextmenu:blur")},itemClick:function(e){var t=$(this),n=t.data(),a=n.contextMenu,s=n.contextMenuRoot,i=n.contextMenuKey,c=void 0;if(!(!a.items[i]||t.is("."+s.classNames.disabled+", .context-menu-separator, ."+s.classNames.notSelectable)||t.is(".context-menu-submenu")&&!1===s.selectableSubMenu)){if(e.preventDefault(),e.stopImmediatePropagation(),$.isFunction(a.callbacks[i])&&Object.prototype.hasOwnProperty.call(a.callbacks,i))c=a.callbacks[i];else{if(!$.isFunction(s.callback))return;c=s.callback}!1!==c.call(s.$trigger,i,s,e)?s.$menu.trigger("contextmenu:hide"):s.$menu.parent().length&&o.default.update.call(s.$trigger,s)}},inputClick:function(e){e.stopImmediatePropagation()},hideMenu:function(e,t){var n=$(this).data("contextMenuRoot");o.default.hide.call(n.$trigger,n,t&&t.force)},focusItem:function(e){e.stopPropagation();var t=$(this),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot;t.hasClass(o.classNames.disabled)||t.hasClass(o.classNames.notSelectable)||(t.addClass([o.classNames.hover,o.classNames.visible].join(" ")).parent().find(".context-menu-item").not(t).removeClass(o.classNames.visible).filter("."+o.classNames.hover).trigger("contextmenu:blur"),a.$selected=o.$selected=t,a&&a.$node&&a.$node.hasClass("context-menu-submenu")&&a.$node.addClass(o.classNames.hover),a.$node&&o.positionSubmenu.call(a.$node,a.$menu))},blurItem:function(e){e.stopPropagation();var t=$(this),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot;a.autoHide&&t.removeClass(o.classNames.visible),t.removeClass(o.classNames.hover),a.$selected=null}};t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inputLabel=function(e){return e.id&&$('label[for="'+e.id+'"]').val()||e.name},t.setInputValues=function(e,t){void 0===t&&(t={}),$.each(e.inputs,function(e,n){switch(n.type){case"text":case"textarea":n.value=t[e]||"";break;case"checkbox":n.selected=!!t[e];break;case"radio":n.selected=(t[n.radio]||"")===n.value;break;case"select":n.selected=t[e]||""}})},t.getInputValues=function(e,t){return void 0===t&&(t={}),$.each(e.inputs,function(e,n){switch(n.type){case"text":case"textarea":case"select":t[e]=n.$input.val();break;case"checkbox":t[e]=n.$input.prop("checked");break;case"radio":n.$input.prop("checked")&&(t[n.radio]=n.value)}}),t},t.zindex=function(e){for(var t=0,n=e;t=Math.max(t,parseInt(n.css("z-index"),10)||0),(n=n.parent())&&n.length&&!("html body".indexOf(n.prop("nodeName").toLowerCase())>-1););return t},t.splitAccesskey=function(e){for(var t,n=e.split(/\s+/),a=[],o=0;t=n[o];o++)t=t.charAt(0).toUpperCase(),a.push(t);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(7);t.default={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:$.noop,hide:$.noop,activated:$.noop},callback:null,items:{},types:{},determinePosition:a.determinePosition,position:a.position,positionSubmenu:a.positionSubmenu}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(n(0)),s={handle:{},show:function(e,t,n){var i=$(this),c={};if($("#context-menu-layer").trigger("mousedown"),e.$trigger=i,!1!==e.events.show.call(i,e)){if(s.update.call(i,e),e.position.call(i,e,t,n),e.zIndex){var r=e.zIndex;"function"==typeof e.zIndex&&(r=e.zIndex.call(i,e)),c.zIndex=(0,a.zindex)(i)+r}s.layer.call(e.$menu,e,c.zIndex),e.$menu.find("ul").css("zIndex",c.zIndex+1),e.$menu.css(c)[e.animation.show](e.animation.duration,function(){i.trigger("contextmenu:visible"),s.activated(e),e.events.activated(e)}),i.data("contextMenu",e).addClass("context-menu-active"),$(document).off("keydown.contextMenu").on("keydown.contextMenu",o.default.key),e.autoHide&&$(document).on("mousemove.contextMenuAutoHide",function(t){var n=i.offset();n.right=n.left+i.outerWidth(),n.bottom=n.top+i.outerHeight(),!e.$layer||e.hovering||t.pageX>=n.left&&t.pageX<=n.right&&t.pageY>=n.top&&t.pageY<=n.bottom||setTimeout(function(){e.hovering||null===e.$menu||void 0===e.$menu||e.$menu.trigger("contextmenu:hide")},50)})}else o.default.$currentTrigger=null},hide:function(e,t){var n=$(this);if(e||(e=n.data("contextMenu")||{}),t||!e.events||!1!==e.events.hide.call(n,e)){if(n.removeData("contextMenu").removeClass("context-menu-active"),e.$layer){setTimeout(function(e){return function(){e.remove()}}(e.$layer),10);try{delete e.$layer}catch(t){e.$layer=null}}o.default.$currentTrigger=null,e.$menu.find("."+e.classNames.hover).trigger("contextmenu:blur"),e.$selected=null,e.$menu.find("."+e.classNames.visible).removeClass(e.classNames.visible),$(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),e.$menu&&e.$menu[e.animation.hide](e.animation.duration,function(){e.build&&(e.$menu.remove(),Object.keys(e).forEach(function(t){switch(t){case"ns":case"selector":case"build":case"trigger":return!0;default:e[t]=void 0;try{delete e[t]}catch(e){}return!0}})),setTimeout(function(){n.trigger("contextmenu:hidden")},10)})}},create:function(e,t){function n(e){var t=$("<span></span>");if(e._accesskey)e._beforeAccesskey&&t.append(document.createTextNode(e._beforeAccesskey)),$("<span></span>").addClass("context-menu-accesskey").text(e._accesskey).appendTo(t),e._afterAccesskey&&t.append(document.createTextNode(e._afterAccesskey));else if(e.isHtmlName){if(void 0!==e.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");t.html(e.name)}else t.text(e.name);return t}void 0===t&&(t=e),e.$menu=$('<ul class="context-menu-list"></ul>').addClass(e.className||"").data({contextMenu:e,contextMenuRoot:t}),$.each(["callbacks","commands","inputs"],function(n,a){e[a]={},t[a]||(t[a]={})}),t.accesskeys||(t.accesskeys={}),$.each(e.items,function(i,c){var r=$('<li class="context-menu-item"></li>').addClass(c.className||""),l=null,u=null;if(r.on("click",$.noop),"string"!=typeof c&&"cm_separator"!==c.type||(c={type:"cm_seperator"}),c.$node=r.data({contextMenu:e,contextMenuRoot:t,contextMenuKey:i}),void 0!==c.accesskey)for(var d,m=(0,a.splitAccesskey)(c.accesskey),p=0;d=m[p];p++)if(!t.accesskeys[d]){t.accesskeys[d]=c;var f=c.name.match(new RegExp("^(.*?)("+d+")(.*)$","i"));f&&(c._beforeAccesskey=f[1],c._accesskey=f[2],c._afterAccesskey=f[3]);break}if(c.type&&t.types[c.type])t.types[c.type].call(r,c,e,t),$.each([e,t],function(t,n){n.commands[i]=c,!$.isFunction(c.callback)||void 0!==n.callbacks[i]&&void 0!==e.type||(n.callbacks[i]=c.callback)});else{switch("cm_seperator"===c.type?r.addClass("context-menu-separator "+t.classNames.notSelectable):"html"===c.type?r.addClass("context-menu-html "+t.classNames.notSelectable):c.type&&"sub"!==c.type?(l=$("<label></label>").appendTo(r),n(c).appendTo(l),r.addClass("context-menu-input"),e.hasTypes=!0,$.each([e,t],function(e,t){t.commands[i]=c,t.inputs[i]=c})):c.items&&(c.type="sub"),c.type){case"cm_seperator":break;case"text":u=$('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+i).val(c.value||"").appendTo(l);break;case"textarea":u=$('<textarea name=""></textarea>').attr("name","context-menu-input-"+i).val(c.value||"").appendTo(l),c.height&&u.height(c.height);break;case"checkbox":u=$('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+i).val(c.value||"").prop("checked",!!c.selected).prependTo(l);break;case"radio":u=$('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+c.radio).val(c.value||"").prop("checked",!!c.selected).prependTo(l);break;case"select":u=$('<select name=""></select>').attr("name","context-menu-input-"+i).appendTo(l),c.options&&($.each(c.options,function(e,t){$("<option></option>").val(e).text(t).appendTo(u)}),u.val(c.selected));break;case"sub":n(c).appendTo(r),c.appendTo=c.$node,r.data("contextMenu",c).addClass("context-menu-submenu"),c.callback=null,"function"==typeof c.items.then?s.processPromises(c,t,c.items):s.create(c,t);break;case"html":$(c.html).appendTo(r);break;default:$.each([e,t],function(t,n){n.commands[i]=c,!$.isFunction(c.callback)||void 0!==n.callbacks[i]&&void 0!==e.type||(n.callbacks[i]=c.callback)}),n(c).appendTo(r)}c.type&&"sub"!==c.type&&"html"!==c.type&&"cm_seperator"!==c.type&&(u.on("focus",o.default.focusInput).on("blur",o.default.blurInput),c.events&&u.on(c.events,e)),c.icon&&($.isFunction(c.icon)?c._icon=c.icon.call(this,this,r,i,c):"string"==typeof c.icon&&"fa-"===c.icon.substring(0,3)?c._icon=t.classNames.icon+" "+t.classNames.icon+"--fa fa "+c.icon:c._icon=t.classNames.icon+" "+t.classNames.icon+"-"+c.icon,r.addClass(c._icon))}c.$input=u,c.$label=l,r.appendTo(e.$menu),!e.hasTypes&&$.support.eventSelectstart&&r.on("selectstart.disableTextSelect",o.default.abortevent)}),e.$node||e.$menu.css("display","none").addClass("context-menu-root"),e.$menu.appendTo(e.appendTo||document.body)},resize:function(e,t){var n=void 0;e.css({position:"absolute",display:"block"}),e.data("width",(n=e.get(0)).getBoundingClientRect?Math.ceil(n.getBoundingClientRect().width):e.outerWidth()+1),e.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),e.find("> li > ul").each(function(){s.resize($(this),!0)}),t||e.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return $(this).data("width")})},update:function(e,t){var n=this;void 0===t&&(t=e,s.resize(e.$menu)),e.$menu.children().each(function(){var a=$(this),o=a.data("contextMenuKey"),i=e.items[o],c=$.isFunction(i.disabled)&&i.disabled.call(n,o,t)||!0===i.disabled,r=void 0;if(r=$.isFunction(i.visible)?i.visible.call(n,o,t):void 0===i.visible||!0===i.visible,a[r?"show":"hide"](),a[c?"addClass":"removeClass"](t.classNames.disabled),$.isFunction(i.icon)&&(a.removeClass(i._icon),i._icon=i.icon.call(this,n,a,o,i),a.addClass(i._icon)),i.type)switch(a.find("input, select, textarea").prop("disabled",c),i.type){case"text":case"textarea":i.$input.val(i.value||"");break;case"checkbox":case"radio":i.$input.val(i.value||"").prop("checked",!!i.selected);break;case"select":i.$input.val((0===i.selected?"0":i.selected)||"")}i.$menu&&s.update.call(n,i,t)})},layer:function(e,t){var n=$(window),a=e.$layer=$('<div id="context-menu-layer"></div>').css({height:n.height(),width:n.width(),display:"block",position:"fixed","z-index":t,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",e).insertBefore(this).on("contextmenu",o.default.abortevent).on("mousedown",o.default.layerClick);return void 0===document.body.style.maxWidth&&a.css({position:"absolute",height:$(document).height()}),a},processPromises:function(e,t,n){function a(e,t,n){void 0!==t.$menu&&t.$menu.is(":visible")&&(e.$node.removeClass(t.classNames.iconLoadingClass),e.items=n,s.create(e,t,!0),s.update(e,t),t.positionSubmenu.call(e.$node,e.$menu))}function o(e,t,n){void 0===n?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof n&&(n={error:{name:n}}),a(e,t,n)}e.$node.addClass(t.classNames.iconLoadingClass),n.then(function(e,t,n){void 0===n&&o(void 0),a(e,t,n)}.bind(this,e,t),o.bind(this,e,t))},activated:function(e){var t=e.$menu,n=t.offset(),a=$(window).height(),o=$(window).scrollTop(),s=t.height();s>a?t.css({height:a+"px","overflow-x":"hidden","overflow-y":"auto",top:o+"px"}):(n.top<o||n.top+s>o+a)&&t.css({top:"0px"})}};t.default=s},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}n(5);var o=a(n(6)),s=a(n(2)),i=a(n(0)),c=a(n(3)),r=n(1),l=a(n(8)),u=a(n(9)),d={},m={},p=new o.default(s.default,i.default,c.default,d,m),f=function(e,t){p.execute(e,t)};f.manager=p,f.setInputValues=r.setInputValues,f.getInputValues=r.getInputValues,f.fromMenu=l.default,f.defaults=s.default,f.types=s.default.types,f.handle=i.default,f.op=c.default,f.menus=d,f.namespaces=m,$.fn.contextMenu=u.default,$.contextMenu=f},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(t,n,a,o,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaults=t,this.handle=n,this.op=a,this.namespaces=s,this.initialized=!1,this.menus=o,this.counter=0}return a(e,[{key:"execute",value:function(e,t){var n=this;"string"!=typeof e&&(t=e,e="create"),"string"==typeof t?t={selector:t}:void 0===t&&(t={});var a=$.extend(!0,{},this.defaults,t||{}),o=$(document),s=o,i=!1;switch(a.context&&a.context.length?(s=$(a.context).first(),a.context=s.get(0),i=!$(a.context).is(document)):a.context=document,e){case"update":if(i)this.op.update(s);else for(var c in this.menus)this.menus.hasOwnProperty(c)&&this.op.update(this.menus[c]);break;case"create":if(!a.selector)throw new Error("No selector specified");if(a.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+a.selector+'" as it contains a reserved className');if(!a.build&&(!a.items||$.isEmptyObject(a.items)))throw new Error("No Items specified");if(this.counter++,a.ns=".contextMenu"+this.counter,i||(this.namespaces[a.selector]=a.ns),this.menus[a.ns]=a,a.trigger||(a.trigger="right"),!this.initialized){var r="click"===a.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",l={"contextmenu:focus.contextMenu":this.handle.focusItem,"contextmenu:blur.contextMenu":this.handle.blurItem,"contextmenu.contextMenu":this.handle.abortevent,"mouseenter.contextMenu":this.handle.itemMouseenter,"mouseleave.contextMenu":this.handle.itemMouseleave};l[r]=this.handle.itemClick,o.on({"contextmenu:hide.contextMenu":this.handle.hideMenu,"prevcommand.contextMenu":this.handle.prevItem,"nextcommand.contextMenu":this.handle.nextItem,"contextmenu.contextMenu":this.handle.abortevent,"mouseenter.contextMenu":this.handle.menuMouseenter,"mouseleave.contextMenu":this.handle.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",this.handle.inputClick).on(l,".context-menu-item"),this.initialized=!0}switch(s.on("contextmenu"+a.ns,a.selector,a,this.handle.contextmenu),i&&s.on("remove"+a.ns,function(){$(this).contextMenu("destroy")}),a.trigger){case"hover":s.on("mouseenter"+a.ns,a.selector,a,this.handle.mouseenter).on("mouseleave"+a.ns,a.selector,a,this.handle.mouseleave);break;case"left":s.on("click"+a.ns,a.selector,a,this.handle.click);break;case"touchstart":s.on("touchstart"+a.ns,a.selector,a,this.handle.click)}a.build||this.op.create(a);break;case"destroy":var u=void 0;if(i){var d=a.context;Object.keys(this.menus).forEach(function(e){var t=n.menus[e];if(!t)return!0;if(!$(d).is(t.selector))return!0;(u=$(".context-menu-list").filter(":visible")).length&&u.data().contextMenuRoot.$trigger.is($(t.context).find(t.selector))&&u.trigger("contextmenu:hide",{force:!0});try{n.menus[t.ns].$menu&&n.menus[t.ns].$menu.remove(),delete n.menus[t.ns]}catch(e){n.menus[t.ns]=null}return $(t.context).off(t.ns),!0})}else if(a.selector){if(this.namespaces[a.selector]){(u=$(".context-menu-list").filter(":visible")).length&&u.data().contextMenuRoot.$trigger.is(a.selector)&&u.trigger("contextmenu:hide",{force:!0});try{this.menus[this.namespaces[a.selector]].$menu&&this.menus[this.namespaces[a.selector]].$menu.remove(),delete this.menus[this.namespaces[a.selector]]}catch(e){this.menus[this.namespaces[a.selector]]=null}o.off(this.namespaces[a.selector])}}else o.off(".contextMenu .contextMenuAutoHide"),Object.keys(this.menus).forEach(function(e){var t=n.menus[e];$(t.context).off(t.ns)}),this.namespaces={},this.menus={},this.counter=0,this.initialized=!1,$("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!$.support.htmlCommand&&!$.support.htmlMenuitem||"boolean"==typeof t&&t)&&$('menu[type="context"]').each(function(){this.id&&$.contextMenu({selector:"[contextmenu="+this.id+"]",items:$.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+e+'"')}return this}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.determinePosition=function(e){if($.ui&&$.ui.position)e.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var t=this.offset();t.top+=this.outerHeight(),t.left+=this.outerWidth()/2-e.outerWidth()/2,e.css(t)}},t.position=function(e,t,n){var a=$(window),o=void 0;if(t||n){if("maintain"===t&&"maintain"===n)o=e.$menu.position();else{var s=e.$menu.offsetParent().offset();o={top:n-s.top,left:t-s.left}}var i=a.scrollTop()+a.height(),c=a.scrollLeft()+a.width(),r=e.$menu.outerHeight(),l=e.$menu.outerWidth();o.top+r>i&&(o.top-=r),o.top<0&&(o.top=0),o.left+l>c&&(o.left-=l),o.left<0&&(o.left=0),e.$menu.css(o)}else e.determinePosition.call(this,e.$menu)},t.positionSubmenu=function(e){if(void 0!==e)if($.ui&&$.ui.position)e.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var t={top:-9,left:this.outerWidth()-5};e.css(t)}}},function(e,t,n){"use strict";function a(e,t,n){return n||(n=0),t.each(function(){var t=$(this),s=this,i=this.nodeName.toLowerCase(),c=void 0,r=void 0;switch("label"===i&&t.find("input, textarea, select").length&&(c=t.text(),i=(s=(t=t.children().first()).get(0)).nodeName.toLowerCase()),i){case"menu":r={name:t.attr("label"),items:{}},n=a(r.items,t.children(),n);break;case"a":case"button":r={name:t.text(),disabled:!!t.attr("disabled"),callback:function(){t.get(0).click()}};break;case"menuitem":case"command":switch(t.attr("type")){case void 0:case"command":case"menuitem":r={name:t.attr("label"),disabled:!!t.attr("disabled"),icon:t.attr("icon"),callback:function(){t.get(0).click()}};break;case"checkbox":r={type:"checkbox",disabled:!!t.attr("disabled"),name:t.attr("label"),selected:!!t.attr("checked")};break;case"radio":r={type:"radio",disabled:!!t.attr("disabled"),name:t.attr("label"),radio:t.attr("radiogroup"),value:t.attr("id"),selected:!!t.attr("checked")};break;default:r=void 0}break;case"hr":r="-------";break;case"input":switch(t.attr("type")){case"text":r={type:"text",name:c||(0,o.inputLabel)(s),disabled:!!t.attr("disabled"),value:t.val()};break;case"checkbox":r={type:"checkbox",name:c||(0,o.inputLabel)(s),disabled:!!t.attr("disabled"),selected:!!t.attr("checked")};break;case"radio":r={type:"radio",name:c||(0,o.inputLabel)(s),disabled:!!t.attr("disabled"),radio:!!t.attr("name"),value:t.val(),selected:!!t.attr("checked")};break;default:r=void 0}break;case"select":r={type:"select",name:c||(0,o.inputLabel)(s),disabled:!!t.attr("disabled"),selected:t.val(),options:{}},t.children().each(function(){r.options[this.value]=$(this).text()});break;case"textarea":r={type:"textarea",name:c||(0,o.inputLabel)(s),disabled:!!t.attr("disabled"),value:t.val()};break;case"label":break;default:r={type:"html",html:t.clone(!0)}}r&&(e["key"+ ++n]=r)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.html5builder=a,t.default=function(e){var t={};return a(t,$(e).children()),t};var o=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,n=e;if(this.length>0)if(void 0===e)this.first().trigger("contextmenu");else if(void 0!==e.x&&void 0!==e.y)this.first().trigger($.Event("contextmenu",{pageX:e.x,pageY:e.y,mouseButton:e.button}));else if("hide"===e){var o=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;o&&o.trigger("contextmenu:hide")}else"destroy"===e?$.contextMenu("destroy",{context:this}):$.isPlainObject(e)?(e.context=this,$.contextMenu("create",e)):e?this.removeClass("context-menu-disabled"):e||this.addClass("context-menu-disabled");else $.each(menus,function(){this.selector===t.selector&&(n.data=this,$.extend(n.data,{trigger:"demand"}))}),a.default.contextmenu.call(n.target,n);return this};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(0))}])});
//# sourceMappingURL=jquery.contextMenu.min.js.map