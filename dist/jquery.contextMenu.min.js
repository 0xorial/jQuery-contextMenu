!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["jquery.contextMenu"]=t():e["jquery.contextMenu"]=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inputLabel=function(e){return e.id&&$('label[for="'+e.id+'"]').val()||e.name},t.setInputValues=function(e,t){void 0===t&&(t={}),$.each(e.inputs,function(e,n){switch(n.type){case"text":case"textarea":n.value=t[e]||"";break;case"checkbox":n.selected=!!t[e];break;case"radio":n.selected=(t[n.radio]||"")===n.value;break;case"select":n.selected=t[e]||""}})},t.getInputValues=function(e,t){return void 0===t&&(t={}),$.each(e.inputs,function(e,n){switch(n.type){case"text":case"textarea":case"select":t[e]=n.$input.val();break;case"checkbox":t[e]=n.$input.prop("checked");break;case"radio":n.$input.prop("checked")&&(t[n.radio]=n.value)}}),t},t.zindex=function(e){for(var t=0,n=e;t=Math.max(t,parseInt(n.css("z-index"),10)||0),(n=n.parent())&&n.length&&!("html body".indexOf(n.prop("nodeName").toLowerCase())>-1););return t},t.splitAccesskey=function(e){for(var t,n=e.split(/\s+/),a=[],o=0;t=n[o];o++)t=t.charAt(0).toUpperCase(),a.push(t);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(6);t.default={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,hideOnSecondTrigger:!1,selectableSubMenu:!1,className:"",classNames:{hover:"context-menu-hover",disabled:"context-menu-disabled",visible:"context-menu-visible",notSelectable:"context-menu-not-selectable",icon:"context-menu-icon",iconEdit:"context-menu-icon-edit",iconCut:"context-menu-icon-cut",iconCopy:"context-menu-icon-copy",iconPaste:"context-menu-icon-paste",iconDelete:"context-menu-icon-delete",iconAdd:"context-menu-icon-add",iconQuit:"context-menu-icon-quit",iconLoadingClass:"context-menu-icon-loading"},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:$.noop,hide:$.noop,activated:$.noop},callback:null,items:{},build:!1,types:{},determinePosition:a.determinePosition,position:a.position,positionSubmenu:a.positionSubmenu}},,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}n(4);var o=a(n(15)),i=a(n(1)),s=a(n(14)),r=a(n(16)),c=n(0),l=a(n(8)),u=a(n(17)),d={},m={},p=new s.default,h=new r.default(p);p.operations=h;var f=new o.default(i.default,p,h,d,m),v=function(e,t){f.execute(e,t)};v.manager=f,v.setInputValues=c.setInputValues,v.getInputValues=c.getInputValues,v.fromMenu=l.default,v.defaults=i.default,v.types=i.default.types,v.handle=p,v.op=h,v.menus=d,v.namespaces=m,$.fn.contextMenu=u.default,$.contextMenu=v},function(e,t){},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.determinePosition=function(e){if($.ui&&$.ui.position)e.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var t=this.offset();t.top+=this.outerHeight(),t.left+=this.outerWidth()/2-e.outerWidth()/2,e.css(t)}},t.position=function(e,t,n,a){var o=$(window),i=void 0;if(n||a){if("maintain"===n&&"maintain"===a)i=t.$menu.position();else{var s=t.$menu.offsetParent().offset();i={top:a-s.top,left:n-s.left}}var r=o.scrollTop()+o.height(),c=o.scrollLeft()+o.width(),l=t.$menu.outerHeight(),u=t.$menu.outerWidth();i.top+l>r&&(i.top-=l),i.top<0&&(i.top=0),i.left+u>c&&(i.left-=u),i.left<0&&(i.left=0),t.$menu.css(i)}else t.determinePosition.call(this,t.$menu)},t.positionSubmenu=function(e,t){if(void 0!==t)if($.ui&&$.ui.position)t.css("display","block").position({my:"left top-5",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var n={top:-9,left:this.outerWidth()-5};t.css(n)}}},,function(e,t,n){"use strict";function a(e,t,n){return n||(n=0),t.each(function(){var t=$(this),i=this,s=this.nodeName.toLowerCase(),r=void 0,c=void 0;switch("label"===s&&t.find("input, textarea, select").length&&(r=t.text(),s=(i=(t=t.children().first()).get(0)).nodeName.toLowerCase()),s){case"menu":c={name:t.attr("label"),items:{}},n=a(c.items,t.children(),n);break;case"a":case"button":c={name:t.text(),disabled:!!t.attr("disabled"),callback:function(){t.get(0).click()}};break;case"menuitem":case"command":switch(t.attr("type")){case void 0:case"command":case"menuitem":c={name:t.attr("label"),disabled:!!t.attr("disabled"),icon:t.attr("icon"),callback:function(){t.get(0).click()}};break;case"checkbox":c={type:"checkbox",disabled:!!t.attr("disabled"),name:t.attr("label"),selected:!!t.attr("checked")};break;case"radio":c={type:"radio",disabled:!!t.attr("disabled"),name:t.attr("label"),radio:t.attr("radiogroup"),value:t.attr("id"),selected:!!t.attr("checked")};break;default:c=void 0}break;case"hr":c="-------";break;case"input":switch(t.attr("type")){case"text":c={type:"text",name:r||(0,o.inputLabel)(i),disabled:!!t.attr("disabled"),value:t.val()};break;case"checkbox":c={type:"checkbox",name:r||(0,o.inputLabel)(i),disabled:!!t.attr("disabled"),selected:!!t.attr("checked")};break;case"radio":c={type:"radio",name:r||(0,o.inputLabel)(i),disabled:!!t.attr("disabled"),radio:!!t.attr("name"),value:t.val(),selected:!!t.attr("checked")};break;default:c=void 0}break;case"select":c={type:"select",name:r||(0,o.inputLabel)(i),disabled:!!t.attr("disabled"),selected:t.val(),options:{}},t.children().each(function(){c.options[this.value]=$(this).text()});break;case"textarea":c={type:"textarea",name:r||(0,o.inputLabel)(i),disabled:!!t.attr("disabled"),value:t.val()};break;case"label":break;default:c={type:"html",html:t.clone(!0)}}c&&(e["key"+ ++n]=c)}),n}Object.defineProperty(t,"__esModule",{value:!0}),t.html5builder=a,t.default=function(e){var t={};return a(t,$(e).children()),t};var o=n(0)},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){return e&&e.__esModule?e:{default:e}}(n(1)),i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$currentTrigger=null,this.hoveract={}}return a(e,[{key:"abortevent",value:function(e){e.preventDefault(),e.stopImmediatePropagation()}},{key:"contextmenu",value:function(e){var t=$(e.currentTarget);if("right"===e.data.trigger&&(e.preventDefault(),e.stopImmediatePropagation()),!("right"!==e.data.trigger&&"demand"!==e.data.trigger&&e.originalEvent||!(void 0===e.mouseButton||!e.data||"left"===e.data.trigger&&0===e.mouseButton||"right"===e.data.trigger&&2===e.mouseButton)||t.hasClass("context-menu-active")||t.hasClass("context-menu-disabled"))){if(this.$currentTrigger=t,e.data.build){var n=e.data.build(e,this.$currentTrigger);if(!1===n)return;if(e.data=$.extend(!0,{},o.default,e.data,n||{}),!e.data.items||$.isEmptyObject(e.data.items))throw window.console&&(console.error||console.log).call(console,"No items specified to show in contextMenu"),new Error("No Items specified");e.data.$trigger=this.$currentTrigger,e.data.manager.op.create(e,e.data)}var a=!1;for(var i in e.data.items)if(e.data.items.hasOwnProperty(i)){($.isFunction(e.data.items[i].visible)?e.data.items[i].visible.call(e,$(e.currentTarget),i,e.data):void 0===e.data.items[i]||!e.data.items[i].visible||!0===e.data.items[i].visible)&&(a=!0)}a&&e.data.manager.op.show.call(t,e,e.data,e.pageX,e.pageY)}}},{key:"click",value:function(e){e.preventDefault(),e.stopImmediatePropagation(),$(this).trigger($.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY,originalEvent:e}))}},{key:"mousedown",value:function(e){var t=$(this);this.$currentTrigger&&this.$currentTrigger.length&&!this.$currentTrigger.is(t)&&this.$currentTrigger.data("contextMenu").$menu.trigger($.Event("contextmenu",{originalEvent:e})),2===e.button&&(this.$currentTrigger=t.data("contextMenuActive",!0))}},{key:"mouseup",value:function(e){var t=$(this);t.data("contextMenuActive")&&this.$currentTrigger&&this.$currentTrigger.length&&this.$currentTrigger.is(t)&&!t.hasClass("context-menu-disabled")&&(e.preventDefault(),e.stopImmediatePropagation(),this.$currentTrigger=t,t.trigger($.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY,originalEvent:e}))),t.removeData("contextMenuActive")}},{key:"mouseenter",value:function(e){var t=$(this),n=$(e.relatedTarget),a=$(document);n.is(".context-menu-list")||n.closest(".context-menu-list").length||e.data.manager.handle.$currentTrigger&&e.data.manager.handle.$currentTrigger.length||(e.data.manager.handle.hoveract.pageX=e.pageX,e.data.manager.handle.hoveract.pageY=e.pageY,e.data.manager.handle.hoveract.data=e.data,a.on("mousemove.contextMenuShow",this.mousemove),e.data.manager.handle.hoveract.timer=setTimeout(function(){e.data.manager.handle.hoveract.timer=null,a.off("mousemove.contextMenuShow"),e.data.manager.handle.$currentTrigger=t,t.trigger($.Event("contextmenu",{data:e.data.manager.handle.hoveract.data,pageX:e.data.manager.handle.hoveract.pageX,pageY:e.data.manager.handle.hoveract.pageY}))},e.data.delay))}},{key:"mousemove",value:function(e){this.hoveract.pageX=e.pageX,this.hoveract.pageY=e.pageY}},{key:"mouseleave",value:function(e){var t=$(e.relatedTarget);if(!t.is(".context-menu-list")&&!t.closest(".context-menu-list").length){try{clearTimeout(e.data.manager.handle.hoveract.timer)}catch(e){}e.data.manager.handle.hoveract.timer=null}}},{key:"layerClick",value:function(e){var t=$(this).data("contextMenuRoot"),n=e.button,a=e.pageX,o=e.pageY,i=void 0,s=void 0;e.preventDefault(),setTimeout(function(){var r=$(window),c="left"===t.trigger&&0===n||"right"===t.trigger&&2===n;if(document.elementFromPoint&&t.$layer){if(t.$layer.hide(),(i=document.elementFromPoint(a-r.scrollLeft(),o-r.scrollTop())).isContentEditable){var l=document.createRange(),u=window.getSelection();l.selectNode(i),l.collapse(!0),u.removeAllRanges(),u.addRange(l)}$(i).trigger(e),t.$layer.show()}if(t.hideOnSecondTrigger&&c&&null!==t.$menu&&void 0!==t.$menu)t.$menu.trigger("contextmenu:hide",{originalEvent:e});else{if(t.reposition&&c)if(document.elementFromPoint){if(t.$trigger.is(i))return void t.position.call(t.$trigger,e,t,a,o)}else{s=t.$trigger.offset();var d=$(window);if(s.top+=d.scrollTop(),s.top<=e.pageY&&(s.left+=d.scrollLeft(),s.left<=e.pageX&&(s.bottom=s.top+t.$trigger.outerHeight(),s.bottom>=e.pageY&&(s.right=s.left+t.$trigger.outerWidth(),s.right>=e.pageX))))return void t.position.call(t.$trigger,e,t,a,o)}i&&c&&t.$trigger.one("contextmenu:hidden",function(){$(i).contextMenu({x:a,y:o,button:n,originalEvent:e})}),null!==t&&void 0!==t&&null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide",{originalEvent:e})}},50)}},{key:"keyStop",value:function(e,t){t.isInput||e.preventDefault(),e.stopPropagation()}},{key:"key",value:function(e){var t={};this.$currentTrigger&&(t=this.$currentTrigger.data("contextMenu")||{}),void 0===t.zIndex&&(t.zIndex=0);var n=function e(t){return""!==t.style.zIndex?t.style.zIndex:null!==t.offsetParent&&void 0!==t.offsetParent?e(t.offsetParent):null!==t.parentElement&&void 0!==t.parentElement?e(t.parentElement):void 0}(e.target);if(!(t.$menu&&parseInt(n,10)>parseInt(t.$menu.css("zIndex"),10))){switch(e.keyCode){case 9:case 38:if(this.keyStop(e,t),t.isInput){if(9===e.keyCode&&e.shiftKey)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand",{originalEvent:e}));if(38===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault()}else if(9!==e.keyCode||e.shiftKey)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("prevcommand",{originalEvent:e}));break;case 40:if(this.keyStop(e,t),!t.isInput)return void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand",{originalEvent:e}));if(9===e.keyCode)return e.preventDefault(),t.$selected&&t.$selected.find("input, textarea, select").blur(),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("nextcommand",{originalEvent:e}));if(40===e.keyCode&&"checkbox"===t.$selected.find("input, textarea, select").prop("type"))return void e.preventDefault();break;case 37:if(this.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;if(!t.$selected.parent().hasClass("context-menu-root")){var a=t.$selected.parent().parent();return t.$selected.trigger("contextmenu:blur",{originalEvent:e}),void(t.$selected=a)}break;case 39:if(this.keyStop(e,t),t.isInput||!t.$selected||!t.$selected.length)break;var o=t.$selected.data("contextMenu")||{};if(o.$menu&&t.$selected.hasClass("context-menu-submenu"))return t.$selected=null,o.$selected=null,void o.$menu.trigger("nextcommand",{originalEvent:e});break;case 35:case 36:if(t.$selected&&t.$selected.find("input, textarea, select").length)break;(t.$selected&&t.$selected.parent()||t.$menu).children(":not(."+t.classNames.disabled+", ."+t.classNames.notSelectable+")")[36===e.keyCode?"first":"last"]().trigger("contextmenu:focus",{originalEvent:e}),e.preventDefault();break;case 13:if(this.keyStop(e,t),t.isInput){if(t.$selected&&!t.$selected.is("textarea, select"))return void e.preventDefault();break}return void(void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger("mouseup",{originalEvent:e}));case 32:case 33:case 34:return void this.keyStop(e,t);case 27:return this.keyStop(e,t),void(null!==t.$menu&&void 0!==t.$menu&&t.$menu.trigger("contextmenu:hide",{originalEvent:e}));default:var i=String.fromCharCode(e.keyCode).toUpperCase();if(t.accesskeys&&t.accesskeys[i])return void t.accesskeys[i].$node.trigger(t.accesskeys[i].$menu?"contextmenu:focus":"mouseup",{originalEvent:e})}e.stopPropagation(),void 0!==t.$selected&&null!==t.$selected&&t.$selected.trigger(e)}}},{key:"prevItem",value:function(e){e.stopPropagation();var t=$(this).data("contextMenu")||{},n=$(this).data("contextMenuRoot")||{};if(t.$selected){var a=t.$selected;(t=t.$selected.parent().data("contextMenu")||{}).$selected=a}for(var o=t.$menu.children(),i=t.$selected&&t.$selected.prev().length?t.$selected.prev():o.last(),s=i;i.hasClass(n.classNames.disabled)||i.hasClass(n.classNames.notSelectable)||i.is(":hidden");)if((i=i.prev().length?i.prev():o.last()).is(s))return;t.$selected&&t.manager.handle.itemMouseleave.call(t.$selected.get(0),e),t.manager.handle.itemMouseenter.call(i.get(0),e);var r=i.find("input, textarea, select");r.length&&r.focus()}},{key:"nextItem",value:function(e){e.stopPropagation();var t=$(this).data("contextMenu")||{},n=$(this).data("contextMenuRoot")||{};if(t.$selected){var a=t.$selected;(t=t.$selected.parent().data("contextMenu")||{}).$selected=a}for(var o=t.$menu.children(),i=t.$selected&&t.$selected.next().length?t.$selected.next():o.first(),s=i;i.hasClass(n.classNames.disabled)||i.hasClass(n.classNames.notSelectable)||i.is(":hidden");)if((i=i.next().length?i.next():o.first()).is(s))return;t.$selected&&t.manager.handle.itemMouseleave.call(t.$selected.get(0),e),t.manager.handle.itemMouseenter.call(i.get(0),e);var r=i.find("input, textarea, select");r.length&&r.focus()}},{key:"focusInput",value:function(e){var t=$(this).closest(".context-menu-item"),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot;o.$selected=a.$selected=t,o.isInput=a.isInput=!0}},{key:"blurInput",value:function(e){var t=$(this).closest(".context-menu-item").data(),n=t.contextMenu;t.contextMenuRoot.isInput=n.isInput=!1}},{key:"menuMouseenter",value:function(e){$(this).data().contextMenuRoot.hovering=!0}},{key:"menuMouseleave",value:function(e){var t=$(this).data().contextMenuRoot;t.$layer&&t.$layer.is(e.relatedTarget)&&(t.hovering=!1)}},{key:"itemMouseenter",value:function(e){var t=$(this),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot;o.hovering=!0,e&&o.$layer&&o.$layer.is(e.relatedTarget)&&(e.preventDefault(),e.stopImmediatePropagation()),(a.$menu?a:o).$menu.children("."+o.classNames.hover).trigger("contextmenu:blur").children(".hover").trigger("contextmenu:blur",{originalEvent:e}),t.hasClass(o.classNames.disabled)||t.hasClass(o.classNames.notSelectable)?a.$selected=null:t.trigger("contextmenu:focus",{originalEvent:e})}},{key:"itemMouseleave",value:function(e){var t=$(this),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot;if(o!==a&&o.$layer&&o.$layer.is(e.relatedTarget))return void 0!==o.$selected&&null!==o.$selected&&o.$selected.trigger("contextmenu:blur",{originalEvent:e}),e.preventDefault(),e.stopImmediatePropagation(),void(o.$selected=a.$selected=a.$node);a&&a.$menu&&a.$menu.hasClass("context-menu-visible")||t.trigger("contextmenu:blur")}},{key:"itemClick",value:function(e){var t=$(this),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot,i=n.contextMenuKey,s=void 0;if(!(!a.items[i]||t.is("."+o.classNames.disabled+", .context-menu-separator, ."+o.classNames.notSelectable)||t.is(".context-menu-submenu")&&!1===o.selectableSubMenu)){if(e.preventDefault(),e.stopImmediatePropagation(),$.isFunction(a.callbacks[i])&&Object.prototype.hasOwnProperty.call(a.callbacks,i))s=a.callbacks[i];else{if(!$.isFunction(o.callback))return;s=o.callback}!1!==s.call(o.$trigger,e,i,a,o)?o.$menu.trigger("contextmenu:hide"):o.$menu.parent().length&&this.operations.update.call(o.$trigger,e,o)}}},{key:"inputClick",value:function(e){e.stopImmediatePropagation()}},{key:"hideMenu",value:function(e,t){var n=$(this).data("contextMenuRoot");n.manager.op.hide.call(n.$trigger,e,n,t&&t.force)}},{key:"focusItem",value:function(e){e.stopPropagation();var t=$(this),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot;t.hasClass(o.classNames.disabled)||t.hasClass(o.classNames.notSelectable)||(t.addClass([o.classNames.hover,o.classNames.visible].join(" ")).parent().find(".context-menu-item").not(t).removeClass(o.classNames.visible).filter("."+o.classNames.hover).trigger("contextmenu:blur"),a.$selected=o.$selected=t,a&&a.$node&&a.$node.hasClass("context-menu-submenu")&&a.$node.addClass(o.classNames.hover),a.$node&&o.positionSubmenu.call(a.$node,e,a.$menu))}},{key:"blurItem",value:function(e){e.stopPropagation();var t=$(this),n=t.data(),a=n.contextMenu,o=n.contextMenuRoot;a.autoHide&&t.removeClass(o.classNames.visible),t.removeClass(o.classNames.hover),a.$selected=null}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(){function e(t,n,a,o,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.defaults=t,this.handle=n,this.op=a,this.namespaces=i,this.initialized=!1,this.menus=o,this.counter=0}return a(e,[{key:"execute",value:function(e,t){var n=this;"string"!=typeof e&&(t=e,e="create"),"string"==typeof t?t={selector:t}:void 0===t&&(t={});var a=$.extend(!0,{manager:this},this.defaults,t||{}),o=$(document),i=o,s=!1;switch(a.context&&a.context.length?(i=$(a.context).first(),a.context=i.get(0),s=!$(a.context).is($(document))):a.context=document,e){case"update":if(s)this.op.update(null,i);else for(var r in this.menus)this.menus.hasOwnProperty(r)&&this.op.update(null,this.menus[r]);break;case"create":if(!a.selector)throw new Error("No selector specified");if(a.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+a.selector+'" as it contains a reserved className');if(!a.build&&(!a.items||$.isEmptyObject(a.items)))throw new Error("No Items specified");if(this.counter++,a.ns=".contextMenu"+this.counter,s||(this.namespaces[a.selector]=a.ns),this.menus[a.ns]=a,a.trigger||(a.trigger="right"),!this.initialized){var c="click"===a.itemClickEvent?"click.contextMenu":"mouseup.contextMenu",l={"contextmenu:focus.contextMenu":this.handle.focusItem,"contextmenu:blur.contextMenu":this.handle.blurItem,"contextmenu.contextMenu":this.handle.abortevent,"mouseenter.contextMenu":this.handle.itemMouseenter,"mouseleave.contextMenu":this.handle.itemMouseleave};l[c]=this.handle.itemClick,o.on({"contextmenu:hide.contextMenu":this.handle.hideMenu,"prevcommand.contextMenu":this.handle.prevItem,"nextcommand.contextMenu":this.handle.nextItem,"contextmenu.contextMenu":this.handle.abortevent,"mouseenter.contextMenu":this.handle.menuMouseenter,"mouseleave.contextMenu":this.handle.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",this.handle.inputClick).on(l,".context-menu-item"),this.initialized=!0}switch(i.on("contextmenu"+a.ns,a.selector,a,this.handle.contextmenu),s&&i.on("remove"+a.ns,function(){$(this).contextMenu("destroy")}),a.trigger){case"hover":i.on("mouseenter"+a.ns,a.selector,a,this.handle.mouseenter).on("mouseleave"+a.ns,a.selector,a,this.handle.mouseleave);break;case"left":i.on("click"+a.ns,a.selector,a,this.handle.click);break;case"touchstart":i.on("touchstart"+a.ns,a.selector,a,this.handle.click)}a.build||this.op.create(null,a);break;case"destroy":var u=void 0;if(s){var d=a.context;Object.keys(this.menus).forEach(function(e){var t=n.menus[e];return!t||(!$(d).is(t.selector)||((u=$(".context-menu-list").filter(":visible")).length&&u.data().contextMenuRoot.$trigger.is($(t.context).find(t.selector))&&u.trigger("contextmenu:hide",{force:!0}),n.menus[t.ns].$menu&&n.menus[t.ns].$menu.remove(),delete n.menus[t.ns],$(t.context).off(t.ns),!0))})}else a.selector?this.namespaces[a.selector]&&((u=$(".context-menu-list").filter(":visible")).length&&u.data().contextMenuRoot.$trigger.is(a.selector)&&u.trigger("contextmenu:hide",{force:!0}),this.menus[this.namespaces[a.selector]].$menu&&this.menus[this.namespaces[a.selector]].$menu.remove(),delete this.menus[this.namespaces[a.selector]],o.off(this.namespaces[a.selector])):(o.off(".contextMenu .contextMenuAutoHide"),Object.keys(this.menus).forEach(function(e){var t=n.menus[e];$(t.context).off(t.ns)}),this.namespaces={},this.menus={},this.counter=0,this.initialized=!1,$("#context-menu-layer, .context-menu-list").remove());break;case"html5":(!$.support.htmlCommand&&!$.support.htmlMenuitem||"boolean"==typeof t&&t)&&$('menu[type="context"]').each(function(){this.id&&$.contextMenu({selector:"[contextmenu="+this.id+"]",items:$.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+e+'"')}return this}}]),e}();t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(0),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handle=t}return o(e,[{key:"show",value:function(e,t,n,a){var o=$(this),s={};if($("#context-menu-layer").trigger("mousedown"),t.$trigger=o,!1!==t.events.show.call(o,t)){if(t.manager.op.update.call(o,e,t),t.position.call(o,e,t,n,a),t.zIndex){var r=t.zIndex;"function"==typeof t.zIndex&&(r=t.zIndex.call(o,t)),s.zIndex=(0,i.zindex)(o)+r}t.manager.op.layer.call(t.$menu,e,t,s.zIndex),t.$menu.find("ul").css("zIndex",s.zIndex+1),t.$menu.css(s)[t.animation.show](t.animation.duration,function(){o.trigger("contextmenu:visible"),t.manager.op.activated(e,t),t.events.activated(e,t)}),o.data("contextMenu",t).addClass("context-menu-active"),$(document).off("keydown.contextMenu").on("keydown.contextMenu",t.manager.handle.key),t.autoHide&&$(document).on("mousemove.contextMenuAutoHide",function(e){var n=o.offset();n.right=n.left+o.outerWidth(),n.bottom=n.top+o.outerHeight(),!t.$layer||t.hovering||e.pageX>=n.left&&e.pageX<=n.right&&e.pageY>=n.top&&e.pageY<=n.bottom||setTimeout(function(){t.hovering||null===t.$menu||void 0===t.$menu||t.$menu.trigger("contextmenu:hide")},50)})}else t.manager.handle.$currentTrigger=null}},{key:"hide",value:function(e,t,n){var o=$(this);if("object"!==(void 0===t?"undefined":a(t))&&o.data("contextMenu"))t=o.data("contextMenu");else if("object"!==(void 0===t?"undefined":a(t)))return;if(n||!t.events||!1!==t.events.hide.call(o,e,t)){if(o.removeData("contextMenu").removeClass("context-menu-active"),t.$layer){setTimeout(function(e){return function(){e.remove()}}(t.$layer),10);try{delete t.$layer}catch(e){t.$layer=null}}t.manager.handle.$currentTrigger=null,t.$menu.find("."+t.classNames.hover).trigger("contextmenu:blur"),t.$selected=null,t.$menu.find("."+t.classNames.visible).removeClass(t.classNames.visible),$(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),t.$menu&&t.$menu[t.animation.hide](t.animation.duration,function(){t.build&&(t.$menu.remove(),Object.keys(t).forEach(function(e){switch(e){case"ns":case"selector":case"build":case"trigger":return!0;default:t[e]=void 0;try{delete t[e]}catch(e){}return!0}})),setTimeout(function(){o.trigger("contextmenu:hidden")},10)})}}},{key:"create",value:function(e,t,n){function a(e){var t=$("<span></span>");if(e._accesskey)e._beforeAccesskey&&t.append(document.createTextNode(e._beforeAccesskey)),$("<span></span>").addClass("context-menu-accesskey").text(e._accesskey).appendTo(t),e._afterAccesskey&&t.append(document.createTextNode(e._afterAccesskey));else if(e.isHtmlName){if(void 0!==e.accesskey)throw new Error("accesskeys are not compatible with HTML names and cannot be used together in the same item");t.html(e.name)}else t.text(e.name);return t}void 0===n&&(n=t),t.$menu=$('<ul class="context-menu-list"></ul>').addClass(t.className||"").data({contextMenu:t,contextMenuRoot:n}),$.each(["callbacks","commands","inputs"],function(e,a){t[a]={},n[a]||(n[a]={})}),n.accesskeys||(n.accesskeys={}),$.each(t.items,function(o,s){var r=$('<li class="context-menu-item"></li>').addClass(s.className||""),c=null,l=null;if(r.on("click",$.noop),"string"!=typeof s&&"cm_seperator"!==s.type||(s={type:"cm_separator"}),s.$node=r.data({contextMenu:t,contextMenuRoot:n,contextMenuKey:o}),void 0!==s.accesskey)for(var u,d=(0,i.splitAccesskey)(s.accesskey),m=0;u=d[m];m++)if(!n.accesskeys[u]){n.accesskeys[u]=s;var p=s.name.match(new RegExp("^(.*?)("+u+")(.*)$","i"));p&&(s._beforeAccesskey=p[1],s._accesskey=p[2],s._afterAccesskey=p[3]);break}if(s.type&&n.types[s.type])n.types[s.type].call(r,s,t,n),$.each([t,n],function(e,n){n.commands[o]=s,!$.isFunction(s.callback)||void 0!==n.callbacks[o]&&void 0!==t.type||(n.callbacks[o]=s.callback)});else{switch("cm_separator"===s.type?r.addClass("context-menu-separator "+n.classNames.notSelectable):"html"===s.type?r.addClass("context-menu-html "+n.classNames.notSelectable):s.type&&"sub"!==s.type?(c=$("<label></label>").appendTo(r),a(s).appendTo(c),r.addClass("context-menu-input"),t.hasTypes=!0,$.each([t,n],function(e,t){t.commands[o]=s,t.inputs[o]=s})):s.items&&(s.type="sub"),s.type){case"cm_separator":break;case"text":l=$('<input type="text" value="1" name="" />').attr("name","context-menu-input-"+o).val(s.value||"").appendTo(c);break;case"textarea":l=$('<textarea name=""></textarea>').attr("name","context-menu-input-"+o).val(s.value||"").appendTo(c),s.height&&l.height(s.height);break;case"checkbox":l=$('<input type="checkbox" value="1" name="" />').attr("name","context-menu-input-"+o).val(s.value||"").prop("checked",!!s.selected).prependTo(c);break;case"radio":l=$('<input type="radio" value="1" name="" />').attr("name","context-menu-input-"+s.radio).val(s.value||"").prop("checked",!!s.selected).prependTo(c);break;case"select":l=$('<select name=""></select>').attr("name","context-menu-input-"+o).appendTo(c),s.options&&($.each(s.options,function(e,t){$("<option></option>").val(e).text(t).appendTo(l)}),l.val(s.selected));break;case"sub":a(s).appendTo(r),s.appendTo=s.$node,r.data("contextMenu",s).addClass("context-menu-submenu"),s.callback=null,"function"==typeof s.items.then?n.manager.op.processPromises(e,s,n,s.items):n.manager.op.create(e,s,n);break;case"html":$(s.html).appendTo(r);break;default:$.each([t,n],function(e,n){n.commands[o]=s,!$.isFunction(s.callback)||void 0!==n.callbacks[o]&&void 0!==t.type||(n.callbacks[o]=s.callback)}),a(s).appendTo(r)}s.type&&"sub"!==s.type&&"html"!==s.type&&"cm_separator"!==s.type&&(l.on("focus",n.manager.handle.focusInput).on("blur",n.manager.handle.blurInput),s.events&&l.on(s.events,t)),s.icon&&($.isFunction(s.icon)?s._icon=s.icon.call(this,this,r,o,s):"string"==typeof s.icon&&"fa-"===s.icon.substring(0,3)?s._icon=n.classNames.icon+" "+n.classNames.icon+"--fa fa "+s.icon:s._icon=n.classNames.icon+" "+n.classNames.icon+"-"+s.icon,r.addClass(s._icon))}s.$input=l,s.$label=c,r.appendTo(t.$menu),!t.hasTypes&&$.support.eventSelectstart&&r.on("selectstart.disableTextSelect",t.manager.handle.abortevent)}),t.$node||t.$menu.css("display","none").addClass("context-menu-root"),t.$menu.appendTo(t.appendTo||document.body)}},{key:"resize",value:function(e,t,n){var a=void 0;t.css({position:"absolute",display:"block"}),t.data("width",(a=t.get(0)).getBoundingClientRect?Math.ceil(a.getBoundingClientRect().width):t.outerWidth()+1),t.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),t.find("> li > ul").each(function(t,n){e.data.manager.op.resize(e,$(n),!0)}),n||t.find("ul").addBack().css({position:"",display:"",minWidth:"",maxWidth:""}).outerWidth(function(){return $(this).data("width")})}},{key:"update",value:function(e,t,n){var a=this;void 0===n&&(n=t).manager.op.resize(e,t.$menu),t.$menu.children().each(function(o,i){var s=$(i),r=s.data("contextMenuKey"),c=t.items[r],l=$.isFunction(c.disabled)&&c.disabled.call(a,e,r,t,n)||!0===c.disabled,u=void 0;if(u=$.isFunction(c.visible)?c.visible.call(a,e,r,n):void 0===c.visible||!0===c.visible,s[u?"show":"hide"](),s[l?"addClass":"removeClass"](n.classNames.disabled),$.isFunction(c.icon)&&(s.removeClass(c._icon),c._icon=c.icon.call(this,a,s,r,c),s.addClass(c._icon)),c.type)switch(s.find("input, select, textarea").prop("disabled",l),c.type){case"text":case"textarea":c.$input.val(c.value||"");break;case"checkbox":case"radio":c.$input.val(c.value||"").prop("checked",!!c.selected);break;case"select":c.$input.val((0===c.selected?"0":c.selected)||"")}c.$menu&&n.manager.op.update.call(a,e,c,n)})}},{key:"layer",value:function(e,t,n){var a=$(window),o=t.$layer=$('<div id="context-menu-layer"></div>').css({height:a.height(),width:a.width(),display:"block",position:"fixed","z-index":n,top:0,left:0,opacity:0,filter:"alpha(opacity=0)","background-color":"#000"}).data("contextMenuRoot",t).insertBefore(this).on("contextmenu",t.manager.handle.abortevent).on("mousedown",t.manager.handle.layerClick);return void 0===document.body.style.maxWidth&&o.css({position:"absolute",height:$(document).height()}),o}},{key:"processPromises",value:function(e,t,n,a){function o(t,n,a){void 0!==n.$menu&&n.$menu.is(":visible")&&(t.$node.removeClass(n.classNames.iconLoadingClass),t.items=a,n.manager.op.create(e,t,n),n.manager.op.update(e,t,n),n.positionSubmenu.call(t.$node,e,t.$menu))}function i(e,t,n){void 0===n?(n={error:{name:"No items and no error item",icon:"context-menu-icon context-menu-icon-quit"}},window.console&&(console.error||console.log).call(console,'When you reject a promise, provide an "items" object, equal to normal sub-menu items')):"string"==typeof n&&(n={error:{name:n}}),o(e,t,n)}t.$node.addClass(n.classNames.iconLoadingClass),a.then(function(e,t,n){void 0===n&&i(void 0),o(e,t,n)}.bind(this,t,n),i.bind(this,t,n))}},{key:"activated",value:function(e,t){var n=t.$menu,a=n.offset(),o=$(window).height(),i=$(window).scrollTop(),s=n.height();s>o?n.css({height:o+"px","overflow-x":"hidden","overflow-y":"auto",top:i+"px"}):(a.top<i||a.top+s>i+o)&&n.css({top:"0px"})}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=this,n=e;if(this.length>0)if(void 0===e)this.first().trigger("contextmenu");else if(void 0!==e.x&&void 0!==e.y)this.first().trigger($.Event("contextmenu",{pageX:e.x,pageY:e.y,mouseButton:e.button}));else if("hide"===e){var o=this.first().data("contextMenu")?this.first().data("contextMenu").$menu:null;o&&o.trigger("contextmenu:hide")}else"destroy"===e?$.contextMenu("destroy",{context:this}):$.isPlainObject(e)?(e.context=this,$.contextMenu("create",e)):e?this.removeClass("context-menu-disabled"):e||this.addClass("context-menu-disabled");else $.each(menus,function(){this.selector===t.selector&&(n.data=this,$.extend(n.data,{trigger:"demand"}))}),a.default.contextmenu.call(n.target,n);return this};var a=function(e){return e&&e.__esModule?e:{default:e}}(n(14))}])});
//# sourceMappingURL=jquery.contextMenu.min.js.map